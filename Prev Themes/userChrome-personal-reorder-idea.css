/** @format */

@import url(uc-globals.css);
@import url(uc-variables.css);
@import url(uc-extensions.css);
@import url(uc-app-menu.css);
@import url(uc-panels.css);
@import url(uc-findbar.css);
@import url(uc-tabs-bar.css);
@import url(uc-navbar.css);
/*@import url(uc-urlbar-results.css);
@import url(uc-urlbar.css);*/
@import url(uc-ctrl-tab.css);
@import url(uc-sidebar.css);
@import url(uc-bookmarks.css);
@import url(uc-fullscreen.css);
@import url(resources/in-content/library.css);
@import url(uc-popups.css);
@import url(uc-search-mode-icons.css);
@import url(uc-misc.css);
@import url(parts/customization-window.css);
@import url(colors/blurred.css);
@import url(parts/main-window.css);
@import url(parts/tabbar.css);
@import url(parts/vibrancy.css);
@import url(parts/compact-bookmarks.css);
@import url(parts/sidebar.css);
@import url(addons.css);
@import url(parts/onetab-darktheme.css);
/**@import url(custom-chrome.css);***/

#main-window,
#nav-bar,
#sidebar-header,
#history-panel,
#sidebar-search-container,
#bookmarksPanel,
#PersonalToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#appMenu-popup,
#customizationui-widget-panel,
#pageActionPanel,
#editBookmarkPanel,
#protections-popup,
#pageActionActivatedActionPanel,
#widget-overflow,
#urlbar-background,
#identity-popup,
.panel-arrowcontent,
menupopup[hasbeenopened="true"] {
  opacity: 0.95 !important;
}

/* Possible Bug Fix Keeps sidebar from being weirdly affected by vibrancy settings in find bar*/

findbar {
  opacity: 0.9 !important;
}

/* Remove Themeing */

menupopup,
menuitem,
menu {
  -moz-appearance: auto !important;
}

/* Softens the Menu Separator in Right Click Menus */

menupopup menuseparator {
  -moz-appearance: meter !important;
}

/* Keep Rounded Edges on Menus */

.panel-arrowcontent,
#alltabs-popup .arrowscrollbox-scrollbox,
menupopup:not(#BMB_bookmarksPopup),
.textbox-contextmenu {
  border-radius: 5px !important;
}

#mainPopupSet menupopup {
  color: var(--lwt-toolbar-field-color) !important;
  /* Text Color */
  background-color: rgba(144, 89, 255, 0.719) !important;
  /*This is the right click menu color*/
  opacity: 0.9 !important;
}

/* Color of hovered menu item */

menu[_moz-menuactive="true"],
menuitem[_moz-menuactive="true"] {
  background: #4d4dfe30 !important;
}

/* Side Panel Header Drop Down */

image.panel-arrow {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Side Panel Drop Down Menu Hover Color */

.subviewbutton:hover {
  background-color: var(--lwt-toolbarbutton-icon-fill-attention) !important;
}

box.panel-arrowcontent {
  color: #dddddd !important;
  background: #4d4dfe30 !important;
  box-shadow: #4d4dfe30 !important;
  opacity: 0.9;
}

/* context menus in the ui like the url bar */

arrowscrollbox.menupopup-arrowscrollbox {
  color: #dddddd !important;
  /* Text Color*/
  background: #4d4dfe30 !important;
  /*This is the right click menu color*/
  box-shadow: none !important;
  opacity: 0.9;
  border-radius: 5px !important;
}

image.panel-arrow {
  fill: #4d4dfe30 !important;
  stroke: #4d4dfe30 !important;
}

/***  Hides all the tabs if there is only one tab***
#tabbrowser-tabs tab:only-of-type,
#tabbrowser-tabs tab:only-of-type + #tabs-newtab-button {
  display: none !important;
}

/* Find Bar Input Field color and text color *

.findbar-textbox.findbar-find-fast {
  background-color: white !important;
  color: rgb(255, 175, 15) !important;
}

/* Color of Buttons When Hovering in Find Bar */

.findbar-button.tabbable:hover {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Color of Selected Button */

.findbar-button.tabbable[checked="true"] {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}
*/ ::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

box#customization-container {
  -moz-appearance: none !important;
}

/*Button Color*/

.customizationmode-button {
  -moz-appearance: none !important;
  background: #4d4dfe30 !important;
}

/* Button Color on Hover */

.customizationmode-button:hover {
  -moz-appearance: none !important;
  background: var(--autocomplete-popup-highlight-background) !important;
}

/* Button Text */

.customizationmode-button label {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Text Color on Hover */

.customizationmode-button:hover label {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Remove border From Buttons */

.customizationmode-button {
  border: none !important;
}

/* URL Bar Drop Down Coloring *
vbox.panel-subview-body {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

box.panel-header {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

#overflowMenu-customize-button {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Hide some buttons for hover */

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #page-action-buttons {
  opacity: 0;
}

#page-action-buttons {
  transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #identity-box {
  opacity: 0;
  /*visibility: collapse;*/
}

#identity-box {
  /*transition: visibility 0.30s ease-in-out, opacity 0.30s ease-in-out;*/
  transition: opacity 0.15s ease !important;
}

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #tracking-protection-icon-container {
  opacity: 0;
}

#tracking-protection-icon-container {
  transition: opacity 0.15s ease !important;
}

/*inactive tabs effect*/

.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover)
  .tab-icon-image {
  opacity: 0.8 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: -moz-box !important;
}

#main-window {
  background: transparent !important;
}

/* Show Tab close button on hover */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  display: -moz-box !important;
  opacity: 0 !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  opacity: 1;
  visibility: visible !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}

#navigator-toolbox:-moz-lwtheme-darktext {
  background-color: transparent !important;
}

#TabsToolbar {
  appearance: auto !important;
  -moz-default-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
  background: transparent !important;
}

.tabbrowser-tab[multiselected],
.tabbrowser-tab[visuallyselected="true"] {
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
}

/* Firefox Translucent Tabbar for macOS */

:root:not(:-moz-window-inactive) {
  background: transparent !important;
}

:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

#PersonalToolbar,
.TabsToolbar,
.tab-background-inner,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

.theme-body {
  background: transparent !important;
}

:root[lwthemetextcolor="dark"] #TabsToolbar,
:root[lwthemetextcolor="dark"] #titlebar,
:root[lwthemetextcolor="dark"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-light !important;
}

:root[lwthemetextcolor="bright"] #TabsToolbar,
:root[lwthemetextcolor="bright"] #titlebar,
:root[lwthemetextcolor="bright"] #tabbrowser-tabs {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

:root:-moz-window-inactive #TabsToolbar,
:root:-moz-window-inactive #titlebar,
:root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: none !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}
/*
:root[lwthemetextcolor="bright"] .tabbrowser-tab:not([selected="true"]):hover {
	background-color: rgba(0, 0, 0, 0.1) !important;
}

:root:not([lwthemetextcolor="bright"]) .tabbrowser-tab:not([selected="true"]) {
	color: #000 !important;
}

/*
:root[lwthemetextcolor="bright"] {
  --lwt-background-tab-separator-color: rgba(255,255,255,0.5) !important;
  --lwt-selected-tab-background-color: rgb(55,55,55) !important;
  --toolbar-bgcolor: rgb(55,55,55) !important;
  --tabs-border-color: rgba(0,0,0,0.8) !important;
}
/*
:root[lwthemetextcolor="bright"] .tabbrowser-tab:not([selected="true"]):hover {
   background-color: rgba(255,255,255,0.1) !important;
}*/

#sidebar-box:-moz-lwtheme {
  appearance: auto !important;
  -moz-default-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
  background: transparent !important;
  background-color: transparent !important;
}

#sidebar-box:lwt-sidebar {
  appearance: auto;
  -moz-default-appearance: -moz-mac-source-list;
  -moz-font-smoothing-background-color: -moz-mac-source-list;
}

/* Correct visualization of the zoom percentage shown in URLBAR */

#urlbar-zoom-button {
  padding: 0px 2px !important;
}

:root {
  --panel-separator-zap-gradient: linear-gradient(
    90deg,
    #00ffff90,
    #9059ff 30%,
    #ff4aa2 85.08%,
    #ffbd4fcc 100%
  ) !important;
  --toolbar-bgcolor: #1e20406c !important;
  --toolbar-color: #1e2040bc !important;
  --tab-border-radius: 5px !important;
  --proton-tab-block-margin: 0px 0px !important;
  --tab-block-margin: 4px !important;
  --tab-min-height: 32px !important;
  --arrowpanel-padding: 0.4em !important;
  --arrowpanel-dimmed: color-mix(
    in srgb,
    #1d1d38fa 40%,
    transparent
  ) !important;
  --arrowpanel-dimmed-further: color-mix(
    in srgb,
    #1d1d38fa 50%,
    transparent
  ) !important;
  --arrowpanel-dimmed-even-further: color-mix(
    in srgb,
    #1d1d38fa 60%,
    transparent
  ) !important;
  --tab-border-radius: 5px !important;
  --arrowpanel-padding: 0.4em !important;
  --lwt-accent-color: #10102a !important;
  --tabs-navbar-shadow-size: 1px !important;
  --my-border-color: #1e20406c !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --panel-disabled-color: #99999990 !important;
  --my-gradient: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  --arrowpanel-background: #1515697e !important;
  --arrowpanel-color: #fff !important;
  --arrowpanel-border-color: #4d4dfe50 !important;
  --lwt-popup-brighttext-url-color: #4da6ff !important;
  --panel-disabled-color: #99999990 !important;
  --panel-description-color: #3399ff !important;
  --lwt-accent-color: #161742 !important;
  --lwt-text-color: #c3c3c3 !important;
  --arrowpanel-background: #1d1d3bfa !important;
  --arrowpanel-color: #fff !important;
  --arrowpanel-border-color: #4d4dfe50 !important;
  --lwt-popup-brighttext-url-color: #4da6ff !important;
  --panel-disabled-color: #99999990 !important;
  --panel-description-color: #3399ff !important;
  --lwt-toolbar-field-background-color: #2f2a3c00 !important;
  --lwt-toolbar-field-color: #e5e5e6 !important;
  --lwt-toolbar-field-border-color: #4d4dfe40 !important;
  --lwt-toolbar-field-focus: #242343fc !important;
  --lwt-toolbar-field-focus-color: #fff !important;
  --toolbar-field-focus-border-color: #4d4dfe !important;
  --lwt-toolbar-field-highlight: #3b439b !important;
  --lwt-toolbar-field-highlight-text: #eaeaea !important;
  --lwt-tab-text: #fff !important;
  --lwt-selected-tab-background-color: #11092300 !important;
  --lwt-background-tab-separator-color: #0a090c !important;
  --toolbar-bgcolor: #2c307c3f !important;
  --toolbar-color: #1e2045bc !important;
  --toolbarseparator-color: #4d4dfe70 !important;
  --chrome-content-separator-color: transparent !important;
  --lwt-toolbarbutton-icon-fill: #d8d8d9 !important;
  --toolbarbutton-icon-fill: #d8d8d9 !important;
  --lwt-toolbarbutton-icon-fill-attention: #4d7afe !important;
  --toolbarbutton-hover-background: #4e6bfd !important;
  --toolbarbutton-active-background: #4e6bfd !important;
  --autocomplete-popup-highlight-background: #3e3b9d !important;
  --panel-separator-zap-gradient: linear-gradient(
    90deg,
    #00ffff90,
    #9059ff 30%,
    #ff4aa2 85.08%,
    #ffbd4fcc 100%
  ) !important;
  --toolbarbutton-inner-padding: 5px !important;
  --toolbarbutton-outer-padding: 3px !important;
  --tabs-shadow-size: 1px !important;
  --tab-border-radius: 5px !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --panel-font-size: 1.1em !important;
  --arrowpanel-padding: 0.4em !important;
  --button-bgcolor: color-mix(in srgb, #4e6bfd 35%, transparent) !important;
  --button-hover-bgcolor: color-mix(
    in srgb,
    #4e6bfd 50%,
    transparent
  ) !important;
  --button-active-bgcolor: color-mix(
    in srgb,
    #4e6bfd 65%,
    transparent
  ) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(
    in srgb,
    #4d4dfeff 30%,
    transparent
  ) !important;
  --lwt-additional-images: url("images/derecha-copy.png"),
    url("images/izquierda-copy.png"), url("images/1.svg") !important;
  --lwt-background-alignment: right top, left top, right top !important;
  --lwt-background-tiling: no-repeat, no-repeat, repeat-x !important;
  --uc-tab-line-color: transparent !important;
  --multiselected-color: #ff4aa2 !important; /*linear
    gradient(
      to right,
      #9059ff3a,
      #ff4aa2 40%,
      #ffbd4fee 60%,
      #ff4aa2 80%,
      #9059ff3a
    ) !important;*/
  --tab-line-color: transparent; /*linear
    gradient(
      to right,
      #9059ff3a,
      #ff4aa2 40%,
      #ffbd4fee 60%,
      #ff4aa2 80%,
      #9059ff3a
    ) !important;*/
}

/* Rainbow line in the main menus */

.PanelUI-subView > toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}
/*
.tab-background::after {
	width: -moz-available !important;
	margin-block: 0px !important;
	background-image: linear-gradient(
		to right,
		#9400ff,
		#ba00e5,
		#df06b9,
		#e62da7,
		#f13b95,
		#f64d86,
		#f85f7a,
		#fc7169,
		#f9845b,
		#e8ab52
	) !important;
	position: absolute;
	content: "";
	height: 2px !important;
	left: 0px;
	right: 0px;
	top: 0;
	margin-right: 0px !important;
	margin-left: 0px !important;
	transform: scale(0, 1) !important;
	transform-origin: center center !important;
	opacity: 1 !important;
}

.tab-background[selected="true"]::after {
	transform: scale(1, 1);
}

/* Active tab brightness *

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}
*/

.tab-content:not([selected="true"]) {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

:root:-moz-any([inFullscreen], [tabsintitlebar]) #TabsToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
  background: transparent !important;
  color: hsl(240, 9%, 98%) !important;
  text-shadow: 0px 0px 5px #27272793 !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  animation-duration: 0s !important;
}

/* Removes the padding between pinned and unpinned tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]
  > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: var(--lwt-toolbar-field-color) !important;
}

/*
.tabbrowser-tab:hover {
    border-radius: 0.25em;
    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1), inset 0 -2px 0 0 rgba(0, 0, 0, 0.2);
}

/* Show Tab Close buttons only when hovered (slide in using max-width) */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  min-width: 20px !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  max-width: 20px !important;
  opacity: 1 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tab-close-button {
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 0px;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

:root {
  --chrome-nav-bar-controls-border-color: transparent !important;
}

:root {
  background: transparent !important;
}

#main-window {
  background: transparent !important;
}

#TabsToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

.tab-background[selected="true"] {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#nav-bar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#PersonalToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

#TabsToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

:root[macOSNativeFullscreen]:is(#navigator-toolbox, #sidebar-box) {
  /* Make the toolbar opaque using this color that simulates the -moz-mac-vibrant-toolbar-dark effect. This hides vibrancy, but it also ensures that we can't see #browser through the transparent toolbar. */
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

/*VIBRANCY (OLDer from reddit)*/

#TabsToolbar,
.tab-background,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

/**----------------------------------------------------------------*/
#TabsToolbar {
  position: relative;
  z-index: 1;
}

#TabsToolbar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.3) !important;
  background: transparent !important;
  background-image: linear-gradient(
    rgba(0, 0, 0, 0.1),
    rgba(0, 0, 0, 0.3)
  ) !important;
  right: 0;
  bottom: 0;
  z-index: -1;
}

.tabbrowser-tab .tab-background-inner {
  background: rgba(0, 0, 0, 0.274) !important;
  background-image: linear-gradient(
    rgba(255, 255, 255, 0),
    rgba(0, 0, 0, 0.534)
  ) !important;
  background: transparent !important;
}

.tabbrowser-tab[visuallyselected="true"] .tab-background-inner {
  background-color: transparent !important;
  background-image: linear-gradient(
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.1)
  ) !important;
}
*/ .navigable.subviewbutton:not([disabled], [open], :active):is(:hover),
menu.subviewbutton:not([disabled], :active)[_moz-menuactive],
menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive],
.widget-overflow-list
  .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
.toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])
  > toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #441bd8b2 43%, transparent) !important;
}

/* Colors of the contextual menu */

.menuseparator {
  border-top: 1px solid #3d376279 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  color: white !important;
  background-color: #1d1d3896 !important;
  border: 1px solid #3d3762 !important;
  border-radius: 5px !important;
  padding-block: 0px !important;
  border-color: #2d2762 !important;
}

menu[_moz-menuactive="true"]:not([disabled="true"]),
menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  background-color: #4e6bfd90 !important;
  color: #eaeaea !important;
  --menuitem-hover-background-color: #4e6bfd00 !important;
}

/*"Smaller Urlbar icons "*/

.sharing-icon,
#permissions-granted-icon,
#tracking-protection-icon,
.notification-anchor-icon,
#blocked-permissions-container > .blocked-permission-icon {
  height: 15px !important;
  width: 15px !important;
  margin: 1px !important;
  padding: 0px !important;
}

/*Color of "Track Protection"*/

.protections-popup-category.notFound {
  color: #99999990 !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

/* Verified page color"*/

description#identity-popup-content-owner-label,
description#identity-popup-content-owner,
description#identity-popup-content-verifier,
#identity-popup-securityView-body > button {
  color: #2cf62c !important;
}

/** Gradient line ***

.tab-background {
  position: relative !important;
}

.tab-background:hover::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  position: absolute;
  content: "";
  height: 2px !important;
  left: 0px;
  right: 0px;
  top: 0;
  margin-right: 0px !important;
  margin-left: 0px !important;
  transform: scale(0, 0) !important;
  transform-origin: center center !important;
  opacity: 1 !important;
}

.tab-content[selected="true"]::after {
  transform: scale(1, 1) !important;
}

.tab-content[selected="false"]::after {
  transform: scale(0, 0) !important;
}

/*
  box-shadow: 0 0 20px 0 rgba(0,0,0,0.15),
              0 20px 30px 8px rgba(0,0,0,0.25),
              0 0 0.5px 0.5px rgba(0,0,0,0.3); /* MacOS Style Window Shadow *

#navigator-toolbox {
    box-shadow: inset 0 1px 0.5px rgba(255, 255, 255, 0.1),
        0 0 20px 0 rgba(0, 0, 0, 0.15), 0 20px 30px 8px rgba(0, 0, 0, 0.25),
        0 0 0.5px 0.5px rgba(0, 0, 0, 0.3);
}*/

/*test code from reddit never used prob delete*/

:root #nav-bar,
#titlebar,
.tab-background[selected="true"] {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
#nav-bar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  /*-moz-mac-vibrancy-dark*/
}

#titlebar,
#urlbar,
#nav-bar,
#PersonalToolbar,
.tab-content {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  /*-moz-mac-vibrancy-dark*/
}
*/

/*google searxh box shadow*/

/*
box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 2px rgba(0, 0, 0, 0.08);
*/

.browser-toolbar:not(.titlebar-color) {
  color: #fff !important;
}

/* Media label "Playing" modified */

tab:not([pinned])[selected]
  .tab-secondary-label.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  background-image: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* background: linear-gradient(
    90deg,
    #1f005c,
    #48005f,
    #680060,
    #830060,
    #9c155f,
    #b22c5e,
    #c5415d,
    #d5585c,
    #e36e5c,
    #ef865e,
    #f89d63,
    #ffb56b
  ) !important;*/

tab:not([pinned], [selected])
  .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  font-weight: bold !important;
  background-image: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: 0px !important;
}

.tab-icon-image:is([pinned]):not([selected]) {
  margin-left: 0px !important;
  margin-top: 0px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  transition-duration: 300ms !important;
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #00000010 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted],
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #1d1d3800 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([crashed], [pinned])[soundplaying]:hover,
.tab-icon-overlay:not([crashed], [pinned])[muted]:hover,
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
  transform: scale(1.1) !important;
  transition-duration: 100ms !important;
  transition-delay: 100ms !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 14px !important;
  width: 14px !important;
  transition-duration: 200ms !important;
}

.tab-icon-overlay:is([pinned])[soundplaying]:hover {
  stroke: white !important;
  color: black !important;
}

/* Rule to display better selecting several tabs */

.tabbrowser-tab[multiselected]:-moz-lwtheme {
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  background-clip: text !important;
  color: transparent !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* --tab-line-color: linear-gradient(to bottom, #202085, #2020853c) !important;*/

.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]) {
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* Color of drop-down menus arrows */

#identity-popup,
#permission-popup,
#protections-popup,
.panel-header,
.subviewbutton-back,
.PanelUI-subView,
.subviewbutton-nav::after {
  fill: #4e6bfd !important;
  fill-opacity: 1 !important;
}

/*Color When passing the pointer by the different items of main menus */

.protections-popup-category:hover,
.protections-popup-footer-button:hover,
#protections-popup-show-report-stack:hover > .protections-popup-footer-button,
panelview .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
toolbarbutton.subviewbutton:not([disabled], [open], :active):is(:hover),
.navigable.subviewbutton:not([disabled], [open], :active):is(:hover),
menu.subviewbutton:not([disabled], :active)[_moz-menuactive],
menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive],
.widget-overflow-list
  .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
.toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])
  > toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #4e6bfd 43%, transparent) !important;
}

/* Line gradient in active tab */

tab:not([pinned])[selected="true"] .tab-background {
  border-radius: 5px !important;
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}
tab:not([pinned])[selected="true"] .tab-content {
  /*background-image: url(images/tabbackground.png);*/
  background-image: radial-gradient(
    circle at bottom center,
    #551dfc,
    #000134d3
  ) !important;
  margin-bottom: 0px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
  border-radius: 5px !important;
}
/*
tab:is([pinned])[selected="true"] .tab-background {
	-height: 33px !important;
}*/

tab:is([pinned])[selected="true"] .tab-content {
  /* background-color: #161742 !important;*
  background-image: linear-gradient(
    90deg,
    #551dfc,
    #1293dd,
    #551dfc
  ) !important;*/
  background-image: radial-gradient(
    circle at bottom center,
    #551dfc,
    #000134d3
  ) !important;
  border-radius: 5px !important;
}
/*
tab:is([pinned]):not([selected="true"]) .tab-content {
	-height: 33px !important;
}

/*
.tab-content[selected="true"] {
  transition-duration: 0ms !important;
}

/*Move the label of the eyelashes to the vertical center of the tab *

.tab-label {
  text-shadow: 1px !important;
}

/*Hover mouse background by passing by eyelashes not selecteds*

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
  height: 32px !important;
}

/*** Buttons on the Personalize Toolbar */

.customizationmode-button {
  background-color: #4e6bfd65 !important;
  border-color: #4e6bfd !important;
  color: #ccc !important;
  font-weight: 700 !important;
}

.customizationmode-button:is(:active, :hover):not([disabled]),
.customizationmode-button[open],
.customizationmode-button[checked] {
  background-color: #2b2a80 !important;
  color: white !important;
  border-color: rgb(77, 77, 254) !important;
}

#customization-done-button:is(:active, :hover):not([disabled]) {
  background-color: #4e6bfd65 !important;
}

#customization-done-button {
  color: #fff !important;
  font-weight: 700 !important;
  border-color: rgb(117, 117, 117) !important;
  background-color: #4e6bfd !important;
}

/* Safe Firefox pages */

#identity-box[pageproxystate="valid"].chromeUI > .identity-box-button {
  background-color: #2e3075 !important;
}

#identity-box[pageproxystate="valid"].notSecureText
  > .identity-box-button:hover:not([open]),
#identity-box[pageproxystate="valid"].chromeUI
  > .identity-box-button:hover:not([open]) {
  background-color: #3e3bad !important;
}

#identity-box[pageproxystate="valid"].notSecureText
  > .identity-box-button[open="true"],
#identity-box[pageproxystate="valid"].chromeUI
  > .identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/*** URLBAR Focus ******

#urlbar[focused="true"] {
    background: linear-gradient(#161742a6, #18151e26) !important;
    /* border: 1px solid transparent !important;*
    border-image: 1 1 1 1
        linear-gradient(
            90deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;
    border-image: 9px !important;*/

/*	border-radius: 9px !important;*
}*/
#urlbar[focused="true"] #urlbar-background {
  background-image: url(images/noise-512x512.png) !important;
  /* background-color: #24095a7b !important;*/
  backdrop-filter: blur(32px) !important;
  -webkit-backdrop-filter: blur(32px) !important;
  background: linear-gradient(#24095a7b, #18151e) !important;
  /*border-radius: 9px !important;*/
  /***	border-image: 1 1 1 1
        linear-gradient(
            270deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;***/
}

/* Upper images */

#navigator-toolbox {
  background-image: var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
}

/* Hide titlebar spaces */

.titlebar-spacer {
  display: none !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #e6fcff !important;
  background-color: #1d1d38bb !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted],
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #ffffff !important;
  background-color: #1d1d3850 !important;
  fill-opacity: 0.9 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover,
.tab-icon-overlay:not([crashed])[muted]:hover,
.tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 15px !important;
  width: 15px !important;
}

/* Active tab brightness *

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}

.tab-background::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background: linear-gradient(
    to right,
    #9059ff3a,
    #ff4aa2 40%,
    #ffbd4fee 60%,
    #ff4aa2 80%,
    #9059ff3a
  ) !important;
  position: absolute;
  content: "";
  height: 2px;
  left: 0px;
  right: 0px;
  top: 0;
  margin-top: 0px !important;
  margin-right: 0px !important;
  transform: scale(0, 1) !important;
  transform-origin: center center;
  opacity: 1 !important;
}

.tab-background[selected="true"]::after {
  transform: scale(1, 1) !important;
}

/***inactive*/

.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover)
  .tab-icon-image {
  opacity: 0.6 !important;
  filter: grayscale(0.8), brightness(0.4), contrast(20%) !important;
}

/*** Mouse Hover Background by passing by non-selected tabs *

.tabbrowser-tab
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-image: linear-gradient(
		180deg,
		#551dfc,
		#531cf7,
		#4e1aeb,
		#4717d8,
		#3e14c1,
		#350fa9,
		#2b0b90,
		#220878,
		#1b0564,
		#150354,
		#12014a,
		#110046
	) !important;
}
/*  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  border-radius: 5px !important;*
}

/***Rule to visualize better selecting several tabs****

.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]) {
	background-color: color-mix(in srgb, #202085 30%, transparent) !important;
}

/* Design of the plus/newtab button */

toolbar
  #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active):hover
  > .toolbarbutton-icon {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  border-radius: 20px 20px 20px 20px !important;
}

toolbar
  #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :hover:active)
  > .toolbarbutton-icon {
  border-bottom: 1px solid #ffffff30 !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  /* box-shadow: inset 0 0 10px #0000004d !important;*/
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

:root {
  --toolbarbutton-border-radius: 5px !important;
}

#urlbar-input-container > box:hover,
#urlbar-input-container > box[open],
#main-menubar > menu,
.titlebar-button:hover,
#scrollbutton-up,
#scrollbutton-down,
#page-action-buttons > :hover,
.panel-arrowcontent,
.urlbarView-row-inner,
.search-one-offs button,
.subviewbutton-back,
.toolbaritem-combined-buttons > toolbarbutton,
#PopupSearchAutoComplete,
menupopup {
  border-radius: 5px !important;
}

.panel-arrowcontent {
  margin-inline-end: 0 !important;
}

.panel-arrow {
  margin-inline: 17px !important;
}

menupopup {
  -moz-appearance: auto !important;
}

#nav-bar {
  box-shadow: inset 0 0 20px 5px hsla(0, 0%, 0%, 0.5) !important;
}

.subviewbutton.bookmark-item {
  padding-block: 4px !important;
}

.subview-subheader {
  display: -moz-box !important;
}

/*
░▀█▀░█▀█░█▀█░█░░░█▀▄░█▀█░█▀▄
░░█░░█░█░█░█░█░░░█▀▄░█▀█░█▀▄
░░▀░░▀▀▀░▀▀▀░▀▀▀░▀▀░░▀░▀░▀░▀
Contains navbar, urlbar, and etc*/

.browser-toolbar:-moz-lwtheme-darktext,
.browser-toolbar:-moz-lwtheme-brighttext {
  background: var(--toolbar-bgcolor) !important;
  /*var(--bf-tab-toolbar-bg)*/
}

/*
#nav-bar {
  box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1), inset 0 -2px 0 0 rgba(0, 0, 0, 0.2),
    inset 0 1 0 var(--lwt-toolbar-field-border-color) !important;
}

/* Selected Tab - Box Shadow */

#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  box-shadow: 0 0 1px rgba(91, 91, 122, 0.486),
    5px 3px 6px rgba(91, 91, 122, 0.486), 4px 4px 2px rgba(91, 91, 122, 0.486) !important;
  /*border-top: 3px solid transparent !important;*/
  /*border-image: 1 0 0 0
        linear-gradient(
            90deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;*/
}

/* Hover over tabs *

.tabbrowser-tab:hover .tab-background:not([selected]) {
background-image: radial-gradient( circle farthest-corner at 32.7% 82.7%,  rgba(173,0,171,1) 8.3%, rgba(15,51,92,1) 79.4% )!important;
} /*
  margin-top: 0px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
  height: 32px !important;
  border-radius: 5px !important;
  border-top: 3px solid transparent !important;
  border-radius: 5px !important;
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}
*/
.tab-content[selected="hover"] {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  margin-top: 0px !important;
  margin-bottom: 0px !important;
  border-radius: 5px !important;
}

/* Mouse Hover Background by passing by non-selected tabs *

.tabbrowser-tab:hover
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-image: radial-gradient(
		circle at bottom center,
		#551dfc,
		#000134d3
	) !important;
	border-top: 2px solid transparent !important;
	border-image: 1 0 0 0
		linear-gradient(
			90deg,
			#9400ff,
			#ba00e5,
			#df06b9,
			#e62da7,
			#f13b95,
			#f64d86,
			#f85f7a,
			#fc7169,
			#f9845b,
			#e8ab52
		) !important;
}

/*
.tabbrowser-tab:not([selected="true"]):not([multiselected="true"])
    .tab-background {
    background-color: color-mix(in srgb, currentColor 8%, transparent) !important;
}

/*tooltip dark theme*/

tooltip {
  -moz-appearance: none !important;
  color: #fff !important;
  background-color: #1d1d3b !important;
  /*border-color: #E55B0A !important;*/
  border: 1px solid transparent !important;
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
  border-radius: 4px !important;
}

#urlbar-zoom-button[animate="true"] {
  animation-name: none !important;
}

/*** Fancy tab container label in url bar *

#page-action-buttons {
  height: 24px !important;
  display: flex !important;
}

/*
#userContext-icons {
    position: relative !important;
    padding-inline: 8px !important;
    margin: 0 !important;
    color: var(--identity-tab-color) !important;
}

#userContext-icons::before {
    content: "" !important;
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    background: var(--identity-tab-color) !important;
    border-radius: 99px !important;
    border-radius: 5px !important;
    opacity: 0.1 !important;
}
*/

.tab-close-button {
  margin-inline-start: 0px !important;
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

/**prevent tab overflow to expand causing height changes *

#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
	min-height: unset !important;
}

/* sidebar bgcolor to proton dark */

#sidebar-header,
#sidebar-search-container,
#bookmarks-view-children,
#historyTree {
  background-color: #4e6bfd65 !important;
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
  appearance: auto !important;
}

#bookmarksPanel,
#history-panel {
  background-color: transparent !important;
  background: #4e6bfd65 !important;
  appearance: auto !important;
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

/* synced tabs sidebar bgcolor */

#template-container.content-scrollable {
  background-color: transparent !important;
  background: transparent !important;
}

.sidebar-splitter {
  display: none !important;
}

/** URL Bar *

:root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme),
:root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) {
  --focus-outline-color: -moz-accent-color !important;
}


:root[tabsintitlebar][lwt-theme]:not(:-moz-window-inactive)
    #urlbar[open]
    > #urlbar-background {
  backfr: linear-gradient(
        90deg,
        #9400ff,
        #ba00e5,
        #df06b9,
        #e62da7,
        #f13b95,
        #f64d86,
        #f85f7a,
        #fc7169,
        #f9845b,
        #e8ab52
    ) !important; /* Like: --toolbar-field-focus-border-color*
}

.toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

:root[uidensity="compact"] .toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

:root[uidensity="touch"] .toolbar-items,
.tabbrowser-tab {
  max-height: unset;
}

:root:not([uidensity="touch"]) #tabbrowser-arrowscrollbox {
  --scrollbtn-vertical-padding: 0px !important;
  --scrollbtn-vertical-border: 0px !important;
  --scrollbtn-border-radius: 0px !important;
}
**!important
/* Multi Selected Color *

#tabbrowser-tabs:not([movingtab])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab
  > .tab-stack
  > .tab-background[multiselected]:not([selected]):-moz-lwtheme {
  background-image: linear-gradient(
      var(--toolbar-bgcolor, transparent),
      var(--toolbar-bgcolor, transparent)
    ),
    linear-gradient(var(--toolbar-bgcolor), var(--toolbar-color)) !important;
}

.tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  background: color-mix(in srgb, currentColor 65%, transparent) !important;
  opacity: 0.3 !important;
}

#TabsToolbar[brighttext]
  .tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  opacity: 0.15 !important;
}

/** Clipped tabs - Letters cleary *******************************************/

#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  visibility: collapse !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}

.tab-background > .tab-context-line {
  flex: 1 !important;
}

#urlbar-background,
#urlbar {
  background-image: linear-gradient(#161742a6, #18151e26) !important;
}
/*
#urlbar {
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}*/

#urlbar[focused="true"] #urlbar-background {
  background: linear-gradient(#161742a6, #18151e26) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
}

#urlbar[open="true"] #urlbar-background {
  background: linear-gradient(#161742a6, #18151e26) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
}

#urlbar[focused="true"] {
  background: linear-gradient(#161742a6, #18151e26) !important;
  border: 1px solid transparent !important;
}

#urlbar[focused="true"] #urlbar-background {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
  background: linear-gradient(#161742a6, #18151e26) !important;
}

:root {
  --toolbarbutton-inner-padding: 7px !important;
  --proton-tab-block-margin: 0px 0px !important;
  --tabs-shadow-size: 1px !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --urlbar-icon-padding: 4px !important;
  --panel-font-size: inherit !important;
  --arrowpanel-padding: 0.4em !important;
  --lwt-accent-color: #10102a !important;
}

/**** Gradient Line *
.tab-background {
    position: relative !important;
}
.tab-background::after {
    width: 96% !important;
    margin-block: -5px !important;
    background: var(--panel-separator-zap-gradient);
    position: absolute;
    content: '';
    height: 1px;
    left: 6;
    right: 0;
    top: 0;
    margin-top: -1px !important;
    margin-left: 2px !important;
    transform: scale(0, 1);
    transform-origin: center center;
    opacity: 1 !important;
}
.tab-background[selected='true']::after {
    transform: scale(1, 1);
}

/* Active Tab Brightness *
.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #c5c5c5 0%, transparent) !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}
/*** important **/
#personal-bookmarks menupopup[placespopup] {
  appearance: auto !important;
  background: var(--arrowpanel-background) !important;
  color: var(--arrowpanel-color);
}

#personal-bookmarks menupopup menu:hover,
#personal-bookmarks menupopup menuitem:hover {
  appearance: auto !important;
  background-color: #4d4dfe40 !important;
}

#personal-bookmarks .bookmarks-actions-menuseparator {
  appearance: auto !important;
  background-color: var(--panel-separator-color) !important;
}

/* Left space of the first tab */

.tabbrowser-tab:first-child:not([pinned]) {
  margin-left: 0px !important;
}

/* Reduce spacing between pinned and regular tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0px !important;
}

/* Menu items border and padding */

menupopup > menuitem,
menupopup > menu {
  border-radius: 4px !important;
  padding-inline-start: 0.5em !important;
}

menugroup > menuitem:first-child {
  padding-left: 4px !important;
}

menugroup > menuitem:last-child {
  padding-right: 4px !important;
}

/* context menu top buttons radius */

menugroup > menuitem {
  border-radius: 4px !important;
}

menugroup > menuitem > hbox > image {
  border-radius: 4px !important;
}

menuseparator {
  border-top: 1px solid var(--panel-separator-color) !important;
  padding: 0 !important;
}

.menupopup-arrowscrollbox {
  background: var(--arrowpanel-background) !important;
  background-color: var(--arrowpanel-background) !important;
  color: var(--arrowpanel-color);
}

/*******NEW PART2 KIDS CODE*****/

/*Shadow of eliminated active tab and transparency of the Toolbar tab and top edge*/
#TabsToolbar:not([brighttext])
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background {
  box-shadow: 0 0 1px rgba(123, 123, 138, 0.952), 5px 3px 6px rgb(1 1 1 / 16%),
    4px 4px 2px rgb(0 0 0 / 23%) !important;
}

#tabbrowser-tabs {
  --tab-line-color: transparent !important;
}

/*Center NEW TAB Button*/

#TabsToolbar .toolbarbutton-1 {
  padding-top: 0px !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
}

#identity-icon {
  width: 14px !important;
}

description#identity-popup-content-owner-label,
description#identity-popup-content-owner,
description#identity-popup-content-verifier,
#identity-popup-securityView-body > button {
  color: #2cf62c !important;
}

/* COLOUR OF URL BAR ADDRESS UNDERLINE */

.urlbarView div {
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
  border-width: 1px !important;
}

/* Tab label mask. */

.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 2em !important;
}

#urlbar[focused="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

/* adding drag space before 1st tab *

:root[sizemode="compact"] .titlebar-spacer[type="pre-tabs"] {
  display: -moz-box !important;
  width: 5px !important;
}

:root:not([sizemode="compact"]) .titlebar-spacer[type="pre-tabs"] {
  display: -moz-box !important;
  width: 5px !important;
}

/*Allow window dragging around the toolbar buttons.*/

#nav-bar,
#nav-bar > .customization-target {
  -moz-box-align: center !important;
}

/*** Unhide the tab close button on hover when it is the selected tab and not pinned*/

#TabsToolbar .tabbrowser-tab[selected]:not([pinned]):hover .close-icon {
  display: inline-block !important;
}

/*** dark theme header */

:root[lwt-default-theme-in-dark-mode] #navigator-toolbox {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

/* toolbar area background  */

.browser-toolbar:not(.titlebar-color) {
  background: transparent !important;
}

/*** dark theme
:root[lwthemetextcolor="bright"] #urlbar:not([focused="true"], [open]) > #urlbar-background, #searchbar:not(:focus-within),
:root[lwt-default-theme-in-dark-mode] #urlbar:not([focused="true"], [open]) > #urlbar-background, #searchbar:not(:focus-within) {
    background-color: #55545270 !important;
}

/*** This sets a color for border around tabs and between tabs & navigation toolbars. Set to transparent to remove the border.*/

#navigator-toolbox {
  --tabs-border-color: transparent !important;
}

#navigator-toolbox:not([movingtab]) > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: transparent;
}

#TabsToolbar .toolbarbutton-1 > .toolbarbutton-badge-stack,
#TabsToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  border-radius: 5px !important;
}

.tabbrowser-tab {
  padding-inline: 0 !important;
}

.tab-content[pinned] {
  padding-inline: 11px !important;
}

/***

.tab-stack:hover > .tab-background::before {
  background-color: inherit;
}

.tab-stack > .tab-background[selected]::after {
  background-color: inherit;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
}

/*background-image: linear-gradient(var(--tab-line-color),var(--tab-line-color));


*/

.tab-content {
  justify-content: center !important;
}

.tab-label-container,
.tab-icon-stack {
  flex: 1 !important;
}

/* "Customize search bar" *

.browserContainer > findbar:-moz-lwtheme {
  color: #d3d3d3 !important;
}

.findbar-find-status[status="notfound"] {
  color: #00dbfd !important;
}

#customization-container {
  color: #d3d3d3 !important;
}

/*"popup_highlight"*/

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]
  > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: #fff !important;
  -moz-appearance: auto !important;
}

/* "Menu with fewer spaces" */

menupopup > menuitem,
menupopup > menu {
  padding-block: 0.4em !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]
  > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: var(--lwt-toolbar-field-color) !important;
}

.tabbrowser-tab > .tab-stack > .tab-content > .tab-close-button {
  border-radius: 5px !important;
}

#PersonalToolbar {
  background-color: #3e3b9dbe !important;
  background-image: linear-gradient(#161742cc, #18151e98) !important;
  backdrop-filter: blur(32px) !important;
  -moz-backdrop-filter: blur(32px) !important;
}

#PersonalToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  appearance: auto !important;
}

/* Show Tab Close buttons only when hovered (slide in using max-width) */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  min-width: 20px !important;
  opacity: 0 !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  max-width: 20px !important;
  opacity: 1 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.subview-subheader {
  display: -moz-box !important;
}

#urlbar-container {
  padding-block: 2px !important;
}

#urlbar-background {
  margin-block: 2px !important;
}

/* Back button */

#back-button > .toolbarbutton-icon {
  --backbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

#forward-button > .toolbarbutton-icon {
  --forwardbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

.toolbarbutton-1:not([disabled]):hover > .toolbarbutton-icon,
.toolbarbutton-1:not([disabled]):hover > stack,
.toolbarbutton-1[open="true"] > .toolbarbutton-icon,
.toolbarbutton-1[open="true"] > stack,
.toolbarbutton-1[checked="true"] > .toolbarbutton-icon,
.toolbarbutton-1[checked="true"] > stack {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

.titlebar-placeholder {
  border: none !important;
}

.titlebar-spacer {
  border: none !important;
}

.tabbrowser-tab:hover
  > .tab-stack
  > .tab-background:not([selected="true"])
  > spacer {
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/* To be able to see the top border of the tab*/

.tab-stack {
  margin-top: 0px !important;
}

/*container tabs indicator customization. Line Position:bottom Default style */

.tab-context-line {
  -moz-box-ordinal-group: 2;
  margin-block: 0 !important;
}

.tabbrowser-tab .tab-stack {
  border-radius: 5px !important;
}

menupopup > menuitem,
menupopup > menu {
  border-radius: 5px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
}

/* context menu top left button padding */

menugroup > menuitem:first-child {
  border-radius: 5px !important;
}

/* context menu top right button padding */

menugroup > menuitem:last-child {
  border-radius: 5px !important;
}

/* context menu top buttons radius */

menugroup > menuitem {
  border-radius: 5px !important;
}

menugroup > menuitem > hbox > image {
  border-radius: 5px !important;
}

/* for menu item with submenu  */

.panel-header > .subviewbutton {
  border-radius: 5px !important;
}

/***toolbar hamburger menu gradient color*/

#appMenu-fxa-separator {
  border-image: 1 1 1 1
    linear-gradient(
      to right,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}

/***STATUS PANEL BOOKMARKS MENU PANEL MENU*/

#statuspanel-label {
  -moz-appearance: none !important;
  color: #fff !important;
  background-color: #2b2a33 !important;
  border: 1px solid transparent !important;
  border-image: 1 1 0 0
    linear-gradient(
      to right,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}
/*     linear-gradient(
      to right,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;*/

/*container tab label color when selected */

.tabbrowser-tab[selected="true"][class*="identity-color-"] .tab-label {
  color: var(--identity-tab-color) !important;
}

/* Fix awful icon colour */

#star-button[starred],
.urlbarView-row[source="bookmarks"]
  > .urlbarView-row-inner
  > .urlbarView-no-wrap
  > .urlbarView-favicon,
#urlbar-engine-one-off-item-bookmarks {
  fill: #4d4dfe !important;
}

/* Remove bottom radius and bottom margin from current tab */

.tab-background[selected="true"] {
  border-bottom-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
  border-radius: 5px !important;
  margin-bottom: 0px !important;
}

/*** Theme - Compatibility */
/*** */
Header Image */ :root[lwtheme-image] {
  background-image: var(--lwt-header-image) !important;
  background-repeat: no-repeat !important;
  background-position: right top !important;
}

:root[lwtheme-image] #navigator-toolbox:-moz-lwtheme {
  background-image: var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
  background-color: transparent !important;
}

/* Original:  var(--lwt-accent-color)*/

.tabbrowser-tab {
  padding-inline: 0px !important;
}

.tab-background > .tab-context-line {
  flex: 1 !important;
}

/***  Active Tab Brightness *

.tab-content[selected="true"] {
  background-image: color-mix(in srgb, #c5c5c5 90%, transparent) !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/*** show the secondary label when video is in PiP */

.tab-secondary-label[pictureinpicture] {
  display: -moz-box !important;
}

.tab-secondary-label:is([pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -1px !important;
  color: #9400ff !important;
  font-size: 0.5rem !important;
  font-weight: bold !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/* Left space of the first tab */

.tabbrowser-tab:first-child:not([pinned]) {
  margin-left: 0px !important;
}

/* moves context-line to the bottom */

.tab-context-line {
  -moz-box-ordinal-group: 2 !important;
}
/*** Search Bar
#searchbar {
  border: 1px solid transparent !important;
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}

/** Inactive tabs: Separator line style *
.tab-background:not([selected="true"]):not([multiselected="true"]):not([beforeselected-visible="true"]) {
    border-right: 1px solid rgba(0, 0, 0, 0.2) !important;
    /*  border-left: 1px solid rgba(0, 0, 0, 0.2) !important;*
}
/* Remove padding between tabs */

.tabbrowser-tab {
  padding-left: 0 !important;
  padding-right: 0 !important;
}
/**? Usercontext Containter Tabs BG Tab Context**/
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-image: linear-gradient(
    to right,
    transparent 2%,
    var(--identity-tab-color) 2%,
    var(--identity-tab-color) 98%,
    transparent 98%
  ) !important;
  height: 2px !important;
  margin-bottom: 0px !important;
  border-radius: 5px !important;
}

:root[sizemode="normal"] #nav-bar {
  border-radius: 5px 5px 5px 5px !important;
}

.tabbrowser-tab[visuallyselected="false"] {
  --chrome-nav-bar-controls-border-color: transparent !important;
}

/* fancy line for container tabs */

#TabsToolbar
  #tabbrowser-tabs
  .tabbrowser-tab[class*="identity-color"]
  .tab-label {
  text-decoration: underline !important;
  text-decoration-color: var(--identity-icon-color) !important;
  /*font-weight: bold !important;*/
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

tab {
  font-size: 1em !important;
  font-family: sans-serif !important;
}

/* remove padding between tabs and also z-index uhhhhhhh forgot what thats for *

.tabbrowser-tab {
  padding-inline-start: 0 !important;
  padding-inline-end: 0 !important;
  z-index: 1 !important;
}

#urlbar > #urlbar-input-container::before {
	content: "";
	display: -moz-box;
	height: 28px !important;
}

#urlbar {
	--urlbar-min-height: 28px !important;
	--urlbar-icon-padding: 4px !important;
	font-size: 1.35em !important;
	border-radius: 5px !important;
	overflow: hidden !important;
}*/

#urlbar {
  min-height: 28px !important;
  margin-block: 0px 0px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

#searchbar {
  min-height: 28px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

#urlbar[focused="true"] #urlbar-background {
  background-color: #1b1a38f6 !important;
  border: transparent !important;
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

/*----------------------------------------------------------------
.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: #99999990 !important;
}

/* Latest Tab & New tab margin *

#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab[last-visible-tab] {
  margin-inline-end: 5px !important;
}

:is(:root[sizemode="normal"], :root[gtktiledwindow="true"])
  .tabbrowser-tab:first-of-type {
  margin-inline-start: 1px !important;
}

.tabbrowser-tab::after,
.tabbrowser-tab::before {
  border-inline-start: 1px solid var(--toolbarbutton-active-background);
}

.tabbrowser-tab::before {
  margin-inline-start: -1px !important;
}

:root[tabsintitlebar]:not([extradragspace])
  #toolbar-menubar[autohide="true"]
  + #TabsToolbar
  .tabbrowser-tab::after,
.tabbrowser-tab:hover::after,
.tabbrowser-tab[multiselected]::after,
#tabbrowser-tabs:not([movingtab]) .tabbrowser-tab[beforehovered]::after,
#tabbrowser-tabs:not([movingtab]) .tabbrowser-tab[before-multiselected]::after {
  margin-block-start: 3px;
  margin-block-end: 0px;
}

#tabbrowser-tabs:not([movingtab])
  .tabbrowser-tab[beforeselected-visible]::after,
#tabbrowser-tabs[movingtab] .tabbrowser-tab[visuallyselected]::before,
.tabbrowser-tab[visuallyselected]::after,
.tabbrowser-tab[visuallyselected]::before {
  border-color: var(--tabs-border-color);
  margin-block-start: 0;
  margin-block-end: 1px;
}

.tabbrowser-tab::after,
.tabbrowser-tab[visuallyselected]::before,
.tabbrowser-tab:first-of-type::before,
#tabbrowser-tabs[movingtab] .tabbrowser-tab[visuallyselected]::before {
  content: "";
  display: block;
}

.tabbrowser-tab:not([selected], [beforeselected-visible])::after {
  content: "";
  display: block;
  border-left: 1px solid currentColor;
  margin-left: -1px;
  opacity: 0.3;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[last-visible-tab]::after {
  border-width: 0;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[pinned]::after {
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[pinned] {
  min-height: calc(var(--tab-min-height) + 0px) !important;
}*/

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.scrollbox-clip > scrollbox {
  padding-left: 0px !important;
  padding-right: 0px !important;
}

/*----------------------------------------------------------------
.customization-target:is(toolbarbutton, toolbaritem, .toolbarbutton-badge) {
  background-color: hsl(224, 100%, 71%) !important;
  color: var(currentColor) !important;
  box-shadow: 0 1px 1px -1px hsla(0, 0%, 100%, 0.3) inset,
    0 -1px 1px -1px hsla(0, 0%, 0%, 0.5) inset,
    0 1px 1px hsla(240, 3%, 12%, 0.15), 0 1px 3px hsla(240, 3%, 12%, 0.2) !important;
  min-width: 10.5px !important;
  height: 10.5px !important;
  padding: 0 2px 2px !important;
  vertical-align: center !important;
  font-size: 9px !important;
  font-weight: 600 !important;
  line-height: 10px !important;
  filter: none !important;
  margin: -6px -6px 0 -6px !important;
}*/

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#TabsToolbar:-moz-lwtheme-brighttext,
.table-widget-empty-text:-moz-lwtheme-brighttext {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

.tabbrowser-tab .tab-label:-moz-lwtheme-brighttext {
  color: #fff !important;
}

/* navbar shadow */

#navigator-toolbox {
  position: relative !important;
  box-shadow: 0px 0px 8px -5px hsla(240, 4%, 0%, 0.5),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.2) !important;
}

/* Apply dimmed background for inactive tabs *
.tabbrowser-tab:hover
    > .tab-stack
    > .tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 2%, transparent) !important;
}
.tabbrowser-tab
    > .tab-stack
    > .tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 2%, transparent) !important;
}

*/
#TabsToolbar tab:not([visuallyselected="true"]):not(:hover) .tab-close-button {
  opacity: 0 !important;
}

#TabsToolbar tab:hover .tab-close-button {
  opacity: 1 !important;
}
/*
#TabsToolbar tab .close-icon:hover {
  -moz-image-region: unset !important;
  background-clip: padding-box !important;
}

/* Hide close buttons on tabs *

tab[selected="true"] > stack > hbox > .tab-close-button {
  transition: 0.25s all ease-in-out !important;
}
*/
tab:not([selected="true"]) > stack > hbox > .tab-close-button {
  transform: scale(0) !important;
  transition: 0.25s all ease-in-out !important;
}
*/

/* Maintain original tab size when scrollstrip enables, otherwise tab size will awkwardly increase
also the default border-radius makes it hard to click the arrows at the corner of the window*/

#scrollbutton-up,
#scrollbutton-down {
  border: 0px !important;
  border-radius: 0px !important;
  padding: 0px !important;
}

/* but dont drag on buttons, */

.tab-close-button,
.tab-icon-overlay {
  -moz-window-dragging: no-drag !important;
}

#urlbar .urlbar-input-box {
  text-align: center !important;
}

#wrapper-urlbar-container #urlbar {
  height: var(--urlbar-height) !important;
}

/* Make all tabs small except selected one *
.tabbrowser-tab[fadein]:not([selected]):not([pinned]) {
  max-width: 145px !important;
  min-width: 115px !important;
}

/* Selected tabs width *
.tabbrowser-tab[selected][fadein]:not([pinned]) {
  /*max-width: 225px !important;*
  min-width: 205px !important;
}*/

#PersonalToolbar,
.TabsToolbar,
.tab-background-inner,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

.theme-body {
  background: transparent !important;
}

#urlbar,
#searchbar {
  -moz-window-dragging: no-drag !important;
  min-height: 28px !important;
  /*  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;*/
}

/** Add tab separators *

#TabsToolbar #tabbrowser-tabs .tabbrowser-tab .tab-background {
  box-shadow: -1px 0px 0px -1px var(--lwt-background-tab-separator-color),
    1px 0px 0px 0px var(--lwt-background-tab-separator-color) !important;
}
/* box-shadow: 0 0px 0px 0px white, 0 0px 0px 0px white,
    5px 0 0px -4px var(--lwt-background-tab-separator-color),
    -4px 0 0px -4px var(--lwt-background-tab-separator-color) !important;
}

/* Add separator to newtab button. *

#tabs-newtab-button {
    box-shadow: 0 0px 0px 0px white, 0 0px 0px 0px white, 0px 0 0px 0px var(--lwt-background-tab-separator-color), -5px 0 0px -4px var(--lwt-background-tab-separator-color) !important;
}

/* hide separators and yeah. yeah *

#tabs-newtab-button:hover,
#tabbrowser-tabs
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:is([beforeselected-visible], [before-multiselected], [selected], [beforehovered], [visuallyselected], [multiselected], :hover, [collapsed], [last-visible-tab])
  .tab-background,
#tabbrowser-tabs
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:is([beforeselected-visible], [before-multiselected], [selected], [beforehovered], [visuallyselected], [multiselected], :hover, [collapsed], [last-pinned-tab])
  + #tabs-newtab-button {
  box-shadow: none !important;
}

/* Hide forward button only when disabled*
#forward-button[disabled="true"] {
	display: none !important;
}

/* Hide back button only when disabled*
#back-button[disabled="true"] {
	display: none !important;
}

/* Searchbar: Ensure toolbar height doesn't augment when searchbar is visible */

#urlbar-container,
#search-container {
  padding-block: 0 !important;
}

/* Mixed content including neterror *
#identity-box[pageproxystate="valid"].unknownIdentity~.urlbar-input-box {
    color: #1b1a38f6
}

/* http: and potentially some other insecure connections like ftp: *
#identity-box[pageproxystate="valid"].notSecure~.urlbar-input-box {
    color: #f9845b
}

/* Extension pages *
#identity-box[pageproxystate="valid"].extensionPage~.urlbar-input-box {
    color: #ba00e5
}

/* Internal about: and chrome:// urls (includes reader-view) *

#identity-box[pageproxystate="valid"].localResource~.urlbar-input-box,
#identity-box[pageproxystate="valid"].chromeUI~.urlbar-input-box {
    color: #9400ff;
}

/* Shadow above content */

#navigator-toolbox {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

/*
.urlbarView-row[label="Firefox Suggest"]::before {
    display: none !important;
}

.urlbarView-row[label="Firefox Suggest"] {
    margin-top: 0 !important;
}*/

.toolbarbutton-badge {
  color: #ece1fd !important;
  background-color: #4d4dfe40 !important;
  min-width: 14px !important;
  min-height: 14px !important;
  padding: 0px !important;
  margin-right: -10px !important;
}

/* optimize tab drag/drop  movement */

#tabbrowser-tabs[movingtab] .tabbrowser-tab[selected],
#tabbrowser-tabs .tabbrowser-tab[justmoved] {
  will-change: transform !important;
}

/* block our animations while tabs are being dragged & dropped *
#tabbrowser-tabs[movingtab] .tabbrowser-tab */

#tabbrowser-tabs .tabbrowser-tab[justmoved] * {
  transform: none !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar.*/

#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack:before,
.tabbrowser-tab .tab-stack:after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px;
  height: 5px;
  z-index: 2 !important;
}

/* for some reason the gradient on overflowing labels is variable in proton.
it gets bigger when you hover the tab, apparently because the close button gains a background in that condition.
this is ugly in general imo but it's useless with this theme in particular since we put the close button on the right,
meaning it doesn't overlap with the right side of the label at all, which is where the overflowing mask is applied.
so we make the mask size constant. */

.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */

.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */

.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */

.tabbrowser-tab[visuallyselected="true"] {
  z-index: 8 !important;
}

/* multiselected tabs do too, but lower than selected tabs */

.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */

.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 8 !important;
}

/* pinned tabs stack over everything except selected tabs */

.tabbrowser-tab[pinned] {
  z-index: 6 !important;
}

/* and the same formula applies to them too */

.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab) {
  z-index: 7 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected] {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab) {
  z-index: 9 !important;
}

/* the pinnacle of z-index, the pinned, selected, multiselected tab lol */

.tabbrowser-tab[pinned][visuallyselected="true"][multiselected] {
  z-index: 10 !important;
}

#TabsToolbar .tabbrowser-tab {
  padding: 0 !important;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */

.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab)
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/* This colors the folders in the bookmark bar and menu bar */

#PlacesToolbarItems
  toolbarbutton[container="true"]:not([query="true"])
  .toolbarbutton-icon,
:-moz-any(#PlacesToolbarItems, #PlacesChevronPopup, #BMB_bookmarksPopup, #bookmarksMenu, #OtherBookmarksPopup)
  menu[container="true"]:not([query="true"])
  > .menu-iconic-left
  > .menu-iconic-icon {
  fill: #4d4dfe40 !important;
}

/* Change DOWNLOAD ICON color */

.downloadIconShow .button-icon {
  fill: #4d4dfe40 !important;
}

/* change browser tab height in Firefox 91 */

:root {
  --tab-min-height: 32px !important;
}

:root #tabbrowser-tabs {
  --tab-min-height: 32px !important;
}

:root[uidensity="compact"] {
  --tab-min-height: 32px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  padding: 0 !important;
}

/*
:root[uidensity="compact"]
	#tabbrowser-tabs[positionpinnedtabs]
	.tabbrowser-tab[pinned] {
	min-height: calc(var(--tab-min-height)+2px) !important;
}*/

/* Shows tab audio icons next to the tab icon, and by default removes the tab secondary line *

.tabbrowser-tab:not([pinned]) .tab-icon-stack:is([muted], [soundplaying], [activemedia-blocked]) {
    grid-template-areas: "a s" !important;
}

.tabbrowser-tab:not([pinned]) .tab-icon-overlay:is([muted], [soundplaying], [activemedia-blocked]) {
    grid-area: s !important;
}

.tab-icon-overlay,
.tab-icon-image {
    opacity: 1 !important;
}

#TabsToolbar {
    --user-mute-button-height: 20px;}
    /* default size is 12px, site icon is 16px */

/* menu item padding */

toolbarbutton {
  --arrowpanel-menuitem-padding: 2px 8px !important;
}

#nav-bar {
  box-shadow: inset 0 1px 1px var(--lwt-background-tab-separator-color),
    0 -2px 0 0 color-mix(in srgb, currentcolor 30%, transparent) !important;
}

/* 0 calc(-1 * var(--tabs-navbar-shadow-size)) 0 var(--my-border-color) !important;*/

:root[uidensity="compact"] #urlbar-container,
:root[uidensity="compact"] #search-container {
  padding-block: 0px !important;
}

:root #nav-bar {
  border-top: none !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  border-top: none !important;
}

:root:-moz-window-inactive #TabsToolbar,
:root:-moz-window-inactive #titlebar,
:root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: none !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}

/** Enable urlbar border when focused *
#urlbar:focus-within > #urlbar-background {
  border-color: -moz-accent-color !important;
  border-width: 1px !important;
}

/* highlights the top of active tabs *

.tabbrowser-tab:not([selected="true"]) {
	padding-top: 3px !important;
}
*/
.tabbrowser-tab[selected="true"] {
  padding-top: 0px !important;
}

.tabbrowser-tab:not([visuallyselected="true"]):hover {
  padding-top: 0px !important;
}
/*#urlbar {
  max-width: 70% !important;
  margin: 0 15% !important;
  /* URL bar and toolbar height 
  --urlbar-height: 28px !important;
  --urlbar-toolbar-height: 32px !important;
}

/* align bookmarks with nav and tabs */

#PersonalToolbar {
  padding: 2px !important;
}

/* sets the height of the tab toolbar
otherwise will change height when tabs overflow */

#TabsToolbar {
  height: 32px !important;
}

:root {
  --tab-min-height: 32px !important;
}

.tabbrowser-tab > stack {
  width: 100%;
  height: 100%;
}

/* Tab - Max Size */

.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
  max-width: none !important;
}

/** Toolbar Height */

:root:not([uidensity="touch"]) #TabsToolbar {
  --toolbarbutton-inner-padding: 9px !important;
}
/* Original: calc((var(--tab-min-height) - 16px) / 2) = 10px */

:root:not([uidensity]) #TabsToolbar {
  --tab-min-height: 32px !important;
}

:root[uidensity="compact"] #TabsToolbar {
  --tab-min-height: 32px !important;
}

/* Blend Inactive tabs favicon */

#TabsToolbar
  #tabbrowser-tabs
  .tabbrowser-tab[pending]
  .tab-content:not(:hover)
  .tab-icon-image {
  filter: grayscale(70%) !important;
  transition: filter 0.2s ease-in !important;
  opacity: 1 !important;
}

#tabbrowser-tabs[overflow="true"]
  .tabbrowser-tab[pinned]:is(.tab-background, .tab-stack) {
  min-height: var(--tab-min-height) !important;
}

.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line
  + .tab-loading-burst {
  background-color: var(--identity-tab-color) !important;
  opacity: 0.3 !important;
  border-radius: 5px !important;
}

#tabbrowser-tabs {
  --uc-scrollbutton-margin: 0px;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block-width: var(--uc-scrollbutton-margin, 0px) !important;
}

.tabbrowser-tab {
  padding-inline: 0px !important;
}

/****************************************************************
.tab-context-line {
  display: var(--my-gradient) !important;
}
.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background {
  border-block: 2px solid var(--identity-icon-color, transparent) !important;
}********************************/

/*   "Add/Edit Bookmark": Show "Location" in Ctrl+D doorhanger popup
      Nobody wants to launch Library just to edit bookmark URL.
  */

#editBMPanel_locationRow[collapsed="true"] {
  visibility: visible !important;
}

/*
  §  "Add/Edit Bookmark": Show "Keyword" in Ctrl+D doorhanger popup
  */

#editBMPanel_keywordRow[collapsed="true"] {
  visibility: visible !important;
}

/* Remove margin around download item which is actually clickable, but not highlighted on hover (Download progress popup).
Now whole area of tile should be highlighted and link to downloaded item.
Works with Firefox 90 */

#downloadsListBox > richlistitem > .downloadMainArea {
  height: inherit !important;
}

/* Make open containing folder great again - fill whole height of the tile (Download progress popup).
Works with Firefox 90 */

#downloadsListBox > richlistitem > .downloadButton {
  height: inherit !important;
}

/*
.tabbrowser-tab[selected="true"] .tab-background {
  border-top: 3px solid var(--my-gradient) !important;
}
/* DISABLE EXPANDING START *

#urlbar[breakout][breakout-extend] {
  top: calc(
    (var(--urlbar-toolbar-height) - var(--urlbar-height)) / 2
  ) !important;
  left: 0px !important;
}

#urlbar[breakout][breakout-extend] > #urlbar-input-container {
  height: var(--urlbar-height) !important;
  padding-block: 0px !important;
  padding-inline: 0px !important;
}

/*
#urlbar[breakout][breakout-extend] > #urlbar-background {
  animation-name: none !important;
  /* box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 0px 0px 2px 1px rgb(0 0 0 / 23%) !important;*
}

/* Remove margins around download item button (Download progress popup) - prepare for Firefox 93 (experiments on nightly) */

#downloadsListBox > richlistitem {
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 5px !important;
}

/** BEGIN Rouhdness **/

.tab-background,
menupopup,
.menupopup-arrowscrollbox {
  border-radius: 5px !important;
}

.tab-background {
  border-radius: 5px !important;
  margin-bottom: 0px !important;
}

/* tooltips */

.places-tooltip-box {
  border-radius: 5px !important;
}

/* autosave password notification input fields */

#password-notification-username {
  border-radius: 5px !important;
}

#password-notification-password {
  border-radius: 5px !important;
}

/* SUB MENUS --------------------------------------------------------------------------------------------- */

/* removes the rounded corners from (bookmarks) menu */

.menupopup-arrowscrollbox,
.panel-arrowcontainer,
.panel-arrowbox,
.panel-arrowscrollbox,
menupopup {
  border-radius: 5px !important;
}

/* square off aspects of the download menu (i.e. selection boxes, open in folder button) */

.download-state,
.downloadButton {
  border-radius: 5px !important;
}
/*!important*/
/* tab line *
.tab-background:is([selected], [multiselected]) {
  box-shadow: inset 0 2px var(--my-gradient) !important;}
   /* change this to change the color of the tab line */

/* highlights the top of active tabs *
.tabbrowser-tab:not([selected="true"]) {
  padding-top: 3px !important;
}
.tabbrowser-tab[selected="true"] {
  border-top: 3px solid #0a84ff !important;
  padding-top: 0px !important;
}
/* brings container indicators back to the bottom *
.tab-label-container {
  border-bottom: 1px solid var(--identity-icon-color) !important;
  padding-bottom: 2px;
}

.tab-background[selected] {
  border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;
}*/

:root[uidensity="compact"] .toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

/* adds the little colored strip on top of the selected tab *
.tabbrowser-tab[selected] .tab-context-line {
  height: 2px !important;
  background-color: #0a84ff !important;
}*/
/*
#urlbar {
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

/** Mega bar, Search bar */

#search-container,
#urlbar-container {
  --urlbar-container-height: 32px !important;
  padding-block: 2px !important;
}

#urlbar,
#searchbar {
  --urlbar-height: 28px !important;
  --urlbar-min-height: 28px !important;
  --urlbar-toolbar-height: 32px !important;
}

#urlbar-input-container {
  --urlbar-icon-padding: 4px !important;
  border: 0 !important;
}

.tab-content {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.tab-stack {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.tabbrowser-tab {
  padding-inline: 0 !important;
}

:root[sizemode="normal"] {
  border-top: none !important;
}

#navigator-toolbox {
  border-bottom: none !important;
}

#TabsToolbar > .toolbar-items > spacer {
  display: none !important;
}

.titlebar-spacer {
  border: none !important;
}

/* Active tab brightness */

.tab-content[selected="true"] {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/*Label de medios "Reproduciendo" modifiado*/

.tab-secondarylabel-:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  opacity: 1 !important;
  font-weight: bold !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  background: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  -webkit-background-clip: text !important;
  -moz-background-clip: text !important;
  -moz-text-fill-color: transparent !important;
  -webkit-text-fill-color: transparent !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
  animation-duration: 0s !important;
}

/* Remove Border Above Tab bar When Windowed *
#main-window:not([sizemode="maximized"]) #navigator-toolbox {
  margin-top: -8px !important;
}
:root[tabsintitlebar][sizemode="normal"] #titlebar {
  appearance: none !important;
}*/

:root {
  --toolbarbutton-inner-padding: 5px !important;
  --tabs-shadow-size: 1px !important;
  --tab-border-radius: 5px !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --panel-font-size: 1.1em !important;
  --arrowpanel-padding: 0.4em !important;
  --button-bgcolor: color-mix(in srgb, #4e6bfd 35%, transparent) !important;
  --button-hover-bgcolor: color-mix(
    in srgb,
    #4e6bfd 50%,
    transparent
  ) !important;
  --button-active-bgcolor: color-mix(
    in srgb,
    #4e6bfd 65%,
    transparent
  ) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(
    in srgb,
    #4d4dfeff 30%,
    transparent
  ) !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

.tabbrowser-tab[multiselected]:-moz-lwtheme,
.tabbrowser-tab[visuallyselected="true"]:-moz-lwtheme {
  filter: drop-shadow(0 0 3px rgba(32, 32, 32, 0.767)) !important;
}

/** stacks use box-shadow as a border to prevent size from changing */

#navigator-toolbox > toolbar .chromeclass-toolbar-additional > stack {
  box-shadow: inset 0 0 0 1px hsla(240, 5%, 5%, 0.55) !important;
}
*/ .tab-background[selected="true"] {
  backdrop-filter: blur(3px) !important;
}

/********************************
* {
  font-family: "Source code pro", "Ropa Sans", "JetBrains Mono" !important;
  font-size: 13px !important;
}
****************************************************************************/

#urlbar,
.searchbar-textbox {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

.tab-loading-burst {
  border: none !important;
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#back-button,
#forward-button {
  list-style-image: url("chrome://devtools/skin/images/play.svg") !important;
}

#back-button > .toolbarbutton-icon {
  transform: scaleX(-1);
}

/********************************
.tab-background[selected="true"] {
  background: linear-gradient(
      to bottom,
      transparent 2px,
      var(--toolbar-bgcolor) 2px,
      var(--toolbar-bgcolor) 100%
    ),
    linear-gradient(
      to right,
      #9f1aff,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;
}
****/

/*
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-position: bottom !important;
}
*/

/*** custom icon for bookmarks button ***

#bookmarks-menu-button {
  list-style-image: url("chrome://userchrome/content/chill.svg") !important;
}

/* #home-button { list-style-image: url('home.svg') !important; } */

/***COOL URL BAR BACKGROUND *

#urlbar[breakout][breakout-extend] > #urlbar-background {
	background-color: var(--lwt-accent-color) !important;
	background-image: var(--lwt-additional-images) !important;
	background-repeat: var(--lwt-background-tiling) !important;
	background-position: var(--lwt-background-alignment) !important;
}

/* tab close button shows only on hover */

.tabbrowser-tab .tab-close-button {
  display: none;
  transform: scale(0.8, 0.8) !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  transform: scale(0.8, 0.8) !important;
}

/* change tab loading animation color *
.tab-throbber::before {
  fill: white !important;
  opacity: 1 !important;
}*/

#main-window {
  background: transparent !important;
}

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

#TabsToolbar:-moz-lwtheme-brighttext,
.table-widget-empty-text:-moz-lwtheme-brighttext {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

.tabbrowser-tab[selected="true"] .tab-background:-moz-lwtheme-brighttext {
  box-shadow: 0 0 1px rgba(100, 100, 177, 0.616),
    5px 3px 6px rgba(100, 100, 177, 0.616),
    4px 4px 2px rgba(100, 100, 177, 0.616) !important;
}

#navigator-toolbox {
  background-color: var(--lwt-accent-color) !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-top-width: 0 !important;
  border-bottom-width: 0 !important;
}

/* This style makes menus from bookmarks toolbar folders look like context menus do (on Win10) which was the behavior pre-fx92 */

menupopup[placespopup="true"] {
  padding: 0 !important;
  margin: 0 !important;
  --arrowpanel-background: var(--menu-background-color) !important;
  border-radius: 5px !important;
}

.menupopup-arrowscrollbox {
  margin-top: 1px !important;
  border: 1px solid var(--panel-border-color) !important;
  padding: var(--panel-padding) !important;
  border-radius: 5px !important;
}

:where(menupopup[placespopup="true"]) menu,
:where(menupopup[placespopup="true"]) menuitem {
  margin-inline: 0 !important;
  padding-inline-start: 1em !important;
  border-radius: 5px !important;
  padding-block: 0.5em !important;
}

:root[privatebrowsingmode="temporary"] {
  --toolbar-bgcolor: #322560 !important;
  --lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;
}

#urlbar[focused]:not([open]) > #urlbar-background {
  border: none !important;
}

:root {
  --toolbar-field-focus-border-color: transparent !important;
}

.urlbarView-url {
  color: inherit !important;
}

/** Selected Tab - Box Shadow ***********************************************/
#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab[visuallyselected="true"]
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  /* Origina: 0 0 1px var(--tab-line-color, rgba(128,128,142,0.9))
       Bright: 0 0 1px var(--tab-line-color, rgba(128,128,142,0.9)), 0 0 4px rgba(128,128,142,0.5) */
  box-shadow: 0 0 1px rgba(68, 68, 148, 0.9),
    5px 3px 6px rgba(100, 100, 177, 0.616),
    4px 4px 2px rgba(100, 100, 177, 0.616) !important;
}

#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab[multiselected]:not([visuallyselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  box-shadow: 0 0 1px color-mix(in srgb, var(--toolbar-color) 80%, transparent) !important;
}

/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}

/** Selected Tab - Bottom Rounded Corner ************************************/
#tabbrowser-tabs {
  --tab-corner-rounding: 5px; /* 10px looks about like chromium - 17px looks close to Australis tabs */
  --tab-corner-padding: 1px !important;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before,
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  /* Box */
  content: "" !important;
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape */
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;

  /* Color */
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;

  background-image: url(/icons/tab-bottom-corner.svg);
  background-size: var(--tab-corner-rounding);
  background-repeat: no-repeat;
  background-position-y: bottom;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before {
  left: calc(var(--tab-corner-padding) - var(--tab-corner-rounding)) !important;
}
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  left: auto;
  right: calc(var(--tab-corner-padding) - var(--tab-corner-rounding));
  transform: scaleX(-1) !important;
}

.titlebar-placeholder[type="pre-tabs"] {
  display: none !important;
}

#main-window {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

#main-window:-moz-lwtheme {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

/* remove window control buttons *
.titlebar-buttonbox-container {
	display: none !important;
}
/* remove "padding" left and right from tabs */
.titlebar-spacer {
  display: none !important;
}

/* remove gap after pinned tabs */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

/*
.panel-subview-body,
#permList,
scrollbar {
	color: inherit !important;
	scrollbar-color: currentColor transparent !important;
	scrollbar-width: thin !important;
}*/

.tabbrowser-tab:is([selected], [multiselected]) .tab-context-line {
  /* Photon like color
        Default: var(--tab-line-color, rgb(10, 132, 255))
        Automatic: color-mix(in srgb, var(--button-primary-bgcolor) 80%, transparent)
	var(--tab-line-color, rgb(10, 132, 255)) !important;*/
  background-color: var(--tab-line-color) !important;
}

.tabbrowser-tab:hover:not([selected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: rgba(0, 0, 0, 0.2) !important;
  opacity: 1 !important;
  transform: none !important;
}

#TabsToolbar[brighttext]
  .tabbrowser-tab:hover:not([selected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

.tabbrowser-tab:not([selected="true"], [multiselected]) .tab-context-line {
  opacity: 0 !important;
  transform: scaleX(0) !important;
}

.tabbrowser-tab:not([selected="true"], [multiselected]) .tab-context-line {
  transition: transform 250ms var(--animation-easing-function),
    opacity 250ms var(--animation-easing-function) !important;
  --animation-easing-function: cubic-bezier(0.07, 0.95, 0, 1) !important;
}

/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}
/** Selected Tab - Bottom Rounded Corner ************************************
#tabbrowser-tabs {
  --tab-corner-rounding: 5px !important;
  /* 10px looks about like chromium - 17px looks close to Australis tabs *
  --tab-corner-padding: 1px !important;
  --tab-corner-position: calc(
    var(--tab-corner-padding) - var(--tab-corner-rounding)
  ) !important;
}

:root:not([customizing="true"]) tab[visuallyselected] > stack::before,
:root:not([customizing
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape *
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;
  /* Color *
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;
  /* Image *
  background-size: var(--tab-corner-rounding) !important;
  background-repeat: no-repeat !important;
  background-position-y: bottom !important;
}

tab[visuallyselected] > stack::before {
  left: var(--tab-corner-position) !important;
  background-image: url("./icons/tab-bottom-corner-left.svg") !important;
}

tab[visuallyselected] > stack::after {
  left: auto !important;
  right: var(--tab-corner-position) !important;
  background-image: url("./icons/tab-bottom-corner-right.svg") !important;
}

/* Bar between the bookmarks bar and the page  */
#sidebar-splitter {
  border: none !important;
  opacity: 0 !important;
  -moz-appearance: none !important;
  display: none !important;
}

#main-window {
  --chrome-content-separator-color: transparent !important;
}

.findbar-closebutton {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

box#customization-container {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

/* Reduce size of text in urlbar */
#urlbar,
.searchbar-textbox,
#urlbar:hover,
.searchbar-textbox:hover {
  font-size: 1em !important;
}

:root {
  background: transparent !important;
}

.theme-body {
  background: transparent !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}

#main-window {
  background: transparent !important;
}

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
.tab-background-inner,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

.theme-body {
  background: transparent !important;
}

.tab-background:not([selected="true"]) {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

:root #TabsToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

/* Get rid of that annoying flash of white when loading new pages. */
browser,
browser.display.background_color,
tabbrowser tabpanels {
  background-color: #1d1d3bfa !important;
}

/* white flash fix */
browser[type="content-primary"],
browser[type="content"] {
  background: #1d1d3bfa !important;
  /*#222355*/
}

/* Tab Overflow
.tabbrowser-tab {
	min-width: 0px !important;
}
.tab-content {
	overflow: hidden !important;
}
/* Makes Close Tab Button Have Even Padding On Right
.tab-close-button {
	margin-inline-end: 0px !important;
}
/* Close Tab Icon Fade Animation
.tab-close-button,
.tab-icon-overlay:-moz-any([soundplaying], [muted], [activemedia-blocked]),
.tab-icon-sound {
  transition-property: fill-opacity, background-color !important;
  transition-duration: 0.15s !important;
  transition-timing-function: var(--ease-basic) !important;
}
/* Remove Overflow Shadow *
spacer[part="overflow-start-indicator"],
spacer[part="overflow-end-indicator"] {
	opacity: 0 !important;
}*/

/* Remove next line if you want selected tab to have color other than toolbar background - then it follows your theme color  *
	--lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;

/* Uncomment next line to force specific color for tab top line */
#tabbrowser-tabs {
  --tab-line-color: transparent !important;
}

.tab-background[selected] {
  /*border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;*/
  border-inline: none !important;
}

#TabsToolbar {
  --toolbarbutton-inner-padding: 7px !important;
}

#TabsToolbar .toolbarbutton-1 > .toolbarbutton-badge-stack,
#TabsToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  border-radius: 5px !important;
}

/* tabs newtab button needs some special styling... *

#tabbrowser-arrowscrollbox > #tabs-newtab-button > .toolbarbutton-icon {
  border-radius: 5px !important;
  width: initial !important;
  height: initial !important;
  padding: 9px !important;
}

:root[uidensity="compact"]
  #tabbrowser-arrowscrollbox
  > #tabs-newtab-button
  > .toolbarbutton-icon {
  padding: 7px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-radius: 0 !important;
  border-width: 0 !important;
  padding-inline: 3px !important;
}

/* tab shaping */
.tabbrowser-tab {
  padding-inline: 0 !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  -height: 32px !important;
}

.tab-content[pinned] {
  padding-inline: 11px !important;
}

.tab-background {
  border-radius: 5px !important;
}

/***  Line to mark selected tab *
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px;
  content: "";
}

.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
  background-color: highlight !important;
}

.tab-stack > .tab-background[selected]::before {
  background-color: highlight !important;
  background-image: var(--my-gradient) !important;
}

/* Photon-like tab on hover animation for the top line *
@keyframes tab-onhover-line-anim {
  from {
    margin-inline: 90px !important;
  }

  to {
    margin-inline: 0;
  }
}

.tab-stack:hover > .tab-background::before {
  animation: tab-onhover-line-anim 160ms !important;
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
  > .tab-stack
  > .tab-background::before {
  animation: none;
}

/* moves context-line to the bottom */
.tab-context-line {
  -moz-box-ordinal-group: 2;
  margin-inline: 0px !important;
}

/***  Non-selected tab's tab-line hover animation */
@media (prefers-reduced-motion: no-preference) {
  .tab-line:not([selected="true"]):not([multiselected]) {
    transition: transform 250ms var(--animation-easing-function),
      opacity 250ms var(--animation-easing-function) !important;
  }
}

/* Disable tab label mask on hover */
.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 2em !important;
}

/* Disable tab label mask Proton default value = 2em This is a tweak. Photo does contain this mask.
 */
.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

/* hide sidebar header for tree style tabs sidebar */
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"]
  #sidebar-header {
  display: none;
}

/* Hide splitter, when using Tree Style Tab. */
#sidebar-splitter {
  display: none !important;
}

/* Loaded but unread (not selected) */
.tabbrowser-tab:not([selected="true"])[unread] .tab-label {
  color: rgb(133, 133, 133) !important;
  font-style: italic !important;
  font-weight: thin !important;
}

.tabbrowser-tab:not([selected="true"])[unread] .tab-background {
  background-color: transparent !important;
}

/* Not loaded yet (also visited) */
.tabbrowser-tab:not([selected="true"])[pending] .tab-label,
.tabbrowser-tab:not([selected="true"])[visited] .tab-label {
  color: rgb(68, 1, 223) ant;
  font-style: italic !important;
  font-weight: thin !important;
}

/* This ensures that the side arrows when tabs become scrollable sideways don't create a gap below tabs *
#scrollbutton-up,
#scrollbutton-down {
	padding: 0 !important;
	max-height: var(--tab-min-height) + 2px !important;
}*/

#alltabs-button,
#tabs-newtab-button,
#TabsToolbar-customization-target .webextension-browser-action,
#wrapper-alltabs-button,
#wrapper-new-tab-button,
#new-tab-button {
  margin-bottom: 0 !important;
}

/* Menu back button padding */
.panel-header {
  padding: unset !important;
  padding-top: 4px !important;
}

/* url bar *
#widget-overflow-mainView,
#urlbar[open="true"] > #urlbar-background {
  backdrop-filter: contrast(10%) blur(20px) saturate(25%) !important;
}

/* overfow menu in customize menu */
vbox#customization-panelWrapper box.panel-arrowcontent {
  background: #0000 !important;
  backdrop-filter: contrast(100%) blur(6px) !important;
}

/** Clipped tabs - Show close button at hover *******************************/
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

/*
#tabbrowser-tabs[closebuttons="activetab"]
	.tabbrowser-tab:not([visuallyselected])
	.tab-close-button {
	visibility: collapse !important;
	opacity: 0;
	/* Animation - Fade out
	transition: opacity 0.1s var(--animation-easing-function) !important;
}*/
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1;
  /* Animation - Fade in */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}

/** Clipped tabs - Letters cleary *******************************************/
#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}
/********

#urlbar-background,
#urlbar {
	background: color-mix(
		in srgb,
		var(--accent-color) 90%,
		transparent
	) !important;
	border: transparent !important;
}

/* changes bg color of pinned tabs when updated *
.tabbrowser-tab[pinned][titlechanged]:not([selected="true"])
  > .tab-stack
  > .tab-content {
  opacity: 0.6 !important;
  background: var(--secondary-text) !important;
  color: var(--tab-bg) !important;
}*/

/* menubar + bookmarks */

:root #nav-bar,
#titlebar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
#nav-bar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

/*
.tabs-newtab-button:hover,
#new-tab-button:hover,
#alltabs-button:hover,
.scrollbutton-up:hover,
.scrollbutton-down:hover {
	box-shadow: 0px -2px 10px 2px rgba(0, 0, 0, 0.4) !important;
	z-index: 2 !important;
	position: relative !important;
	clip-path: inset(0px -20px 0px -20px) !important;
}
.tabbrowser-tab > .tab-stack > .tab-background[selected] {
	box-shadow: 0px 0px 10px 2px rgba(0, 0, 0, 0.4) !important;
}
#nav-bar {
	box-shadow: 0px -2px 10px 2px rgba(0, 0, 0, 0.4) !important;
	clip-path: inset(-20px 0px 0px 0px) !important;
}
*/
:root #PersonalToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
}

/********************************	 GLOW EFFECT ON TAB ICON ********************
 toolbarbutton.bookmark-item:not([container=true]) .toolbarbutton-icon
/*for icons on the bookmarks bar under the url bar *
.tab-icon-image,
.bookmark-item:not([container="true"]) .menu-iconic-icon {
	filter: drop-shadow(0 0 3px #fff) !important;
}
#urlbar[breakout][breakout-extend][open] {
	background-image: url(noise-512x512.png) !important;
	background-color: #1a13447a !important;
	backdrop-filter: blur(32px) !important;
}

/* Bookmarks bar with BLUR need layout.css.backdrop-filter.enabled = true rgba(50, 50, 52, 0.85)*/
#PersonalToolbar {
  background-image: url(images/noise-512x512.png) !important;
  -webkit-backdrop-filter: blur(32px) !important;
  backdrop-filter: blur(32px) !important;
  background: rgba(50, 50, 52, 0.85) !important;
}

#tabs-toolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: moz-mac-vibrancy-dark !important;
  background-color: transparent !important; /* #232323 !important;
	color: hsl(240, 9%, 98%) !important;*/
}
.urlbar-input::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

/* W h a t   d o e s   t h i s   d o */
#scrollbutton-up,
#scrollbutton-down {
  border-top-width: 0 !important;
  border-bottom-width: 0 !important;
}

/*Idk What This Does But This Was The Note Given:
    "Set A Max Height Based On Min-height Plus Margin-block: 1px 0"*
#TabsToolbar,
#TabsToolbar > hbox,
#TabsToolbar-customization-target,
#tabbrowser-arrowscrollbox {
	min-height: calc(var(--tab-min-height) + 2px) !important;
}
/*
#PlacesToolbarItems > toolbarseparator::before {
	border-image-source: linear-gradient(
		transparent 8px,
		var(--toolbarseparator-color) 8px,
		var(--toolbarseparator-color) calc(100% - 8px),
		transparent calc(100% - 8px)
	) !important;
}*
#tabbrowser-tabs .arrowscrollbox-overflow-start-indicator,
#tabbrowser-tabs .arrowscrollbox-overflow-end-indicator,
#tabbrowser-tabs::part(arrowscrollbox-overflow-start-indicator),
#tabbrowser-tabs::part(arrowscrollbox-overflow-end-indicator),
spacer[part="overflow-start-indicator"],
spacer[part="overflow-end-indicator"] {
	display: none !important;
}
#tabbrowser-tabs[overflow] .tab-content {
	-moz-box-pack: center !important;
}
#navigator-toolbox::after {
	display: none !important;
}
/*prevent tab overflow to expand causing height changes *
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
	min-height: unset !important;
}
/* container tabs indicator customization - different style. this will give rounded borders if tab border radius is there
and covers entire bottom outline of tab. Line Position:bottom
  .tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
    display: none;
}
.tabbrowser-tab[class*="identity-color-"] .tab-background {
    background: linear-gradient(0, var(--identity-tab-color) 1px, transparent 0);
}
.tabbrowser-tab[selected="true"][class*="identity-color-"] .tab-background {
    background: linear-gradient(to bottom, transparent 2px, var(--toolbar-bgcolor) 2px,var(--toolbar-bgcolor) 95%,var(--identity-tab-color) 1px), linear-gradient(to right, #9f1aff, #9f1aff, #8a46ff, #765dff, #5d7dff, #3e8cff, #1c99ff, #00a5ff, #00b4ff, #00c3ff, #00d0ff, #00ddff) !important;
}
/* Tab: Ensure tab height doesn't augment when arrowscrollbox is visible */
#tabbrowser-arrowscrollbox {
  --tab-min-height: 32px !important;
  max-height: var(--tab-min-height) !important;
}

.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
}

.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  /* Disable gap between the last pinned tab and the first visible tab */
  margin-inline-start: 0 !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

/* Sets tab bar transition durations *
#tabbrowser-tabs:not(:hover) tab {
	transition: all 200ms ease 0ms !important;
}
/********
.tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
.tab-label-container[textoverflow]:not([labeldirection]):not([pinned]):-moz-locale-dir(ltr) {
	mask-image: linear-gradient(to left, transparent, black 1.3em) !important;
}

/* Highlight tabs that were changed or shared from other devices by adding a small colored line

.tab-label[attention]:not([selected="true"]) {
	font-weight: normal !important;
}

.tabbrowser-tab:-moz-any([image], [pinned])
	> .tab-stack
	> .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
	> .tab-stack
	> .tab-content[pinned][titlechanged]:not([selected="true"]) {
	background-image: none !important;
}
.tabbrowser-tab[attention] > .tab-stack > .tab-background > .tab-bottom-line {
	height: 1px !important;
	background: linear-gradient(
		to right,
		transparent 35%,
		#1abc9c 35% 65%,
		transparent 65%
	) !important;
}
 /* Dim discarded tabs*/
.tabbrowser-tab[pending] .tab-content:not(:hover) .tab-label {
  opacity: 0.7 !important;
}

/* unloaded tab hover */
.tabbrowser-tab[pending="true"] .tab-text:hover {
  filter: brightness(125%) !important;
}

.tabbrowser-tab:hover .tab-close-button {
  visibility: visible !important;
  opacity: 1;
  /*transition: visibility 0.5s, opacity 0.6s ease !important;*/
  font-weight: bold !important;
}

/*** inactive tab hover */
.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):hover,
.tabbrowser-tab:-moz-lwtheme:hover {
  /*filter: grayscale(25%) !important;*/
  opacity: 1 !important;
  filter: brightness(125%) !important;
  backdrop-filter: blur(14px) !important;
}

#urlbar[open="true"] {
  backdrop-filter: blur(14px) !important;
}
/***!**/
/*Regla para visualizar mejor el seleccionar varias pestañas*/
.tabbrowser-tab[multiselected]:-moz-lwtheme {
  color: var(--lwt-tab-text) !important;
  --tab-line-color: transparent !important;
}

/*
.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]),
.tabbrowser-tab > .tab-stack > .tab-content:is([multiselected]) {
	background: #4d4dfe !important;
}
.tabbrowser-tab:hover
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-color: color-mix(
		in srgb,
		var(--button-hover-bgcolor) 60%,
		transparent
	) !important;
}
#tabbrowser-tabs {
	--tab-line-color: (var(--gradient), transparent) !important;
}
.tab-label[attention]:not([selected="true"]) {
	font-weight: unset !important;
}

.tabbrowser-tab:is([image], [pinned])
	> .tab-stack
	> .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
	> .tab-stack
	> .tab-content[pinned][titlechanged]:not([selected="true"]) {
	background-image: unset !important;
	background-position: unset !important;
	background-repeat: unset !important;
}

/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned]):is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]):is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack:before,
.tabbrowser-tab .tab-stack:after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack:before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack:after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack:before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack:after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab :is(.tab-line, .tab-context-line) {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack:before,
.tabbrowser-tab[pinned] .tab-stack:after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack:before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack:after {
  display: none !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack:after {
  display: block !important;
}

/* how the background color is applied. it's not as convoluted as it looks,
it needs to be a gradient image because the bottom line .tab-context-line overlaps with the outside corners.
we want the corners to take on the color of the bottom line, but the corners are taller than the bottom line, so they can't be fully the same color as the line.
they must have a 1px tall stripe at the bottom, the color of the bottom line (should it exist), with the remaining 4px being the current bg color of the tab. */
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack:after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack:before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  );
}

.tabbrowser-tab[selected] .tab-stack:after,
.tabbrowser-tab[selected] .tab-stack:before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  );
}

.tabbrowser-tab[multiselected] .tab-stack:after,
.tabbrowser-tab[multiselected] .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  );
}

.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack:after,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  );
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack:after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border: none !important;
}

/*
.tab-background {
  border: none !important;
  border-radius: 5px !important;
  box-shadow: none !important;
  opacity: 1 !important;
  z-index: 1;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/*
#TabsToolbar tab:not([visuallyselected="true"]):not(:hover) .tab-close-button {
	opacity: 0 !important;
}*/

#TabsToolbar tab:hover .tab-close-button {
  opacity: 1 !important;
}

#TabsToolbar tab .close-icon:hover {
  -moz-image-region: unset !important;
  background-clip: padding-box !important;
}

/***  Hide close buttons on tabs *

tab[selected="true"] > stack > hbox > .tab-close-button {
	transition: 0.05s all ease-in-out !important;
}

tab:not([selected="true"]) > stack > hbox > .tab-close-button {
	transform: scale(0) !important;
	transition: 0.15s all ease-in-out !important;
}

/* indicator for multiselected tabs */
.tabbrowser-tab[multiselected="true"] .tab-stack .tab-content {
  box-shadow: inset 2px 0 0 Highlight, inset -2px 0 0 Highlight,
    inset 0 2px 0 Highlight, inset 0 -2px 0 Highlight !important;
}

#tabbrowser-tabs[overflow="true"]
  .tabbrowser-tab[pinned]:is(.tab-background, .tab-stack) {
  min-height: var(--tab-min-height) !important;
}

/* reduce minimum tab height */
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
.tabbrowser-tabs[positionpinnedtabs] > .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

#TabsToolbar #tabbrowser-tabs[overflow="true"] .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
  max-height: var(--tab-min-height) !important;
}

/* [Optional] Animation when hovering non-active/non-selected tabs */

.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  transform: scaleX(1);
  transition: transform 100ms linear;
}
:root[privatebrowsingmode="temporary"] #urlbar-input-container:hover {
  background-color: #1f1b36 !important;
}

:root[privatebrowsingmode="temporary"] {
  /* Toolbar */
  --toolbar-bgcolor: #322560 !important;

  /* Behind Tabs */
  --lwt-accent-color: #19162f !important;

  /* Search Bar Colour */
  --toolbar-field-background-color: #0b0724 !important;

  /* Turns Tab Into Same Colour As Toolbar */
  --lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;

  /* What Happens When You Hover Over A Button */
  --toolbarbutton-hover-background: rgba(255, 255, 255, 0.05) !important;

  /* Click On A Button, This Colour Is What The Button Will Be */
  --toolbarbutton-active-background: #4d4175 !important;

  /* Click A Button With A Context Menu? This Is The Menu Colour */
  --arrowpanel-background: #1d1935 !important;

  /* Tool Bar Context Menu Outline */
  --arrowpanel-border-color: #322560 !important;

  /* Line Between Toobar And Site */
  --chrome-content-separator-color: transparent !important;

  /* Colour Of The Expanded Address Bar */
  --toolbar-field-focus-background-color: var(
    --toolbar-field-background-color
  ) !important;

  /* Hovering Over The Autocomplete Items Colour */
  --autocomplete-popup-hover-background: #1d1935 !important;

  /* Clicking On Said Autocomplete Item Colour */
  --autocomplete-popup-highlight-background: rgba(65, 48, 117, 0.5) !important;
}

/* Right Click Menu */
:root[privatebrowsingmode="temporary"] menupopup {
  --menuitem-hover-background-color: #413d54 !important;
  --menu-background-color: #1d1935 !important;
  --menu-color: #eeeeee !important;
  --menuitem-disabled-hover-background-color: #ffffff00 !important;
  --menu-disabled-color: #ffffff50 !important;
  --menu-border-color: #322560 !important;
}

/* Set Value For Radius For Both Top Corners */
#tabbrowser-tabs {
  --user-tab-rounding: 5px;
}

/* Adjust Tab Corner Shape */
.tab-background {
  border-radius: 5px !important;
  margin-block: 0px 0px !important;
}

/** Make Tab Name Semi-Bold When Selected */
.tab-text[selected] {
  font-weight: 500 !important;
}

/* Changes Minimum Height For Tabs [Do Not Touch] */
#TabsToolbar,
#tabbrowser-tabs {
  --tab-min-height: 32px !important;
}

#TabsToolbar,
#TabsToolbar > hbox,
#TabsToolbar-customization-target,
#tabbrowser-arrowscrollbox {
  -height: 32px !important;
}

/* Always Show Close Icon - Selected Tabs */
#TabsToolbar .tabbrowser-tab[selected]:not([pinned]) .close-icon {
  display: inline-block !important;
}

/*** URL Bar Fade Animation On Hover *
#urlbar-input-container:hover {
	background-color: #322560 !important;
}
#urlbar-input-container {
	transition: background-color 0.3s ease-in;
}
/*
#urlbar-background {
	backdrop-filter: blur(20px) !important;
}*/
#PlacesToolbarItems toolbarbutton {
  /*border-radius: 20px !important;*/
  padding-left: 5px !important;
  padding-right: 5px !important;
  transition: background 0.05s !important;
}

.tab-background[selected="true"] {
  backdrop-filter: blur(20px) !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  -height: 32px !important;
}

/* This ensures that the side arrows when tabs become scrollable sideways don't create a gap below tabs *
#scrollbutton-up,
#scrollbutton-down {
  padding: 0 !important;
  -height: 33px !important;
  max-height: 32px !important;
} /*
:root {
	--lwt-toolbar-field-highlight: red !important;
	--lwt-toolbar-field-highlight-text: blue !important;
}
/*
* Only show close buttons on background tabs when hovering with the mouse*
.tabbrowser-tab:not([selected]) .tab-close-button {
	visibility: hidden !important;*

.tabbrowser-tab:not([selected]):hover .tab-close-button {
  visibility: visible !important;
}

.tabbrowser-tab:not([selected]):not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
}

/*
.tabbrowser-tab:hover .tab-background:not([selected]) {
  border-color: #dadada !important;
  border: 1px solid !important;
}*/
*::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

/* change urlbar highlight text color */
#urlbar-input::-moz-selection {
  background-color: rgb(144, 89, 255, 1) !important;
  color: #ffffff !important;
}

.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}

.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
}

/*
.urlbarView-row[has-url]:not([has-action]) .urlbarView-title[no-highlights] {
	color: #ff0022 !important;
}*/
#tabbrowser-tabs {
  --scrollbutton-block-border: 0px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block: var(--scrollbutton-block-border, initial) !important;
}

#new-tab-button .toolbarbutton-icon {
  height: 32px !important;
}

/* Gradient color container line */
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--lwt-accent-color)
    )
    1 !important;
}
*/
  .tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--tab-line-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--tab-line-color)
    )
    1 !important;
}
*/
/* remove 'open all in tabs' option (.bookmarks-actions-menuseparator,.openintabs-menuseparator*/
.openintabs-menuitem {
  display: none !important;
}

#urlbar-background,
#searchbar {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/******************************** Find Bar ********************************/

findbar {
  -moz-box-ordinal-group: 0;
  margin-bottom: -33px;
  position: relative;
  top: 0 !important;
  left: 1.5em;
  border: 0px solid transparent !important;
  border-bottom-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-top: none !important;
  box-shadow: 0px 0px 7px -2px hsla(240, 4%, 0%, 0.6),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.2) !important;
  background-image: none !important;
  transition: 0.2s ease-in-out opacity, 0.2s ease-in-out transform !important;
  transform-style: preserve-3d !important;
  backface-visibility: hidden !important;
  z-index: 1 !important;
  animation: 0.2s ease-in-out findbar-down !important;
  overflow: hidden !important;
}

@keyframes findbar-down {
  0% {
    opacity: 0;
    transform: translateY(-2em);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.findbar-container > .findbar-find-fast {
  padding: var(--toolbarbutton-inner-padding) 1px !important;
  margin: 0 !important;
}

findbar[hidden] {
  transform: translateY(-40px) !important;
}

findbar > .findbar-container,
findbar > .close-icon {
  border: 1px solid var(--chrome-content-separator-color) !important;
  border-width: 0 0 1px 0px !important;
  background: var(--uc-light-bkgnd-color, var(--toolbar-bgcolor)) !important;
  pointer-events: auto !important;
}

findbar > .findbar-container {
  -moz-box-direction: reverse;
  border-left-width: 1px !important;
  border-bottom-left-radius: 4px !important;
}

.findbar-closebutton {
  margin: 0 !important;
  border-radius: 0 !important;
  padding: 5px !important;
}

.findbar-closebutton > image {
  padding: 3px !important;
}

.findbar-closebutton:hover > image {
  background: var(--toolbarbutton-hover-background) !important;
  border-radius: 4px !important;
}

findbar > .findbar-container > hbox {
  margin: 0 5px !important;
}

findbar::before {
  content: "";
  display: -moz-box;
  -moz-box-flex: 100;
}

/*
Move findbar so it isn't over the scrollbar
Delete if you want findbar to begin from right window edge
*/

findbar {
  margin-right: 16px !important;
  border-right: 1px solid var(--chrome-content-separator-color) !important;
}

.findbar-closebutton .toolbarbutton-icon {
  border-radius: var(--toolbarbutton-border-radius) !important;
  fill-opacity: 0 !important;
  width: var(--findbar-height) !important;
  height: var(--findbar-height) !important;
  padding: 5px !important;
  /* list-style-image: url(chrome://userchrome/content/textbox-clear.svg) !important; */
  list-style-image: url(chrome://userchrome/content/textbox-clear.svg) !important;
  stroke: white !important;
  -moz-context-properties: fill, fill-opacity, stroke !important;
}

.findbar-closebutton:is(:hover, :focus-visible):not([disabled])
  .toolbarbutton-icon {
  background-color: var(--toolbarbutton-hover-background) !important;
}

.findbar-closebutton:is(:hover, :focus-visible):not([disabled]):active
  .toolbarbutton-icon {
  background-color: var(--toolbarbutton-active-background) !important;
}

[anonid="findbar-textbox-wrapper"] {
  border-radius: var(--toolbarbutton-border-radius) !important;
  overflow: hidden !important;
  height: var(--findbar-height) !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox {
  border: none !important;
  transition: 300ms !important;
  width: 20em !important;
  border-radius: 0 !important;
  outline: none !important;
  max-height: var(--findbar-height) !important;
  padding-inline: 6px !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox input > .anonymous-div {
  color: white !important;
  opacity: 1 !important;
}

.findbar-textbox,
.findbar-textbox:-moz-lwtheme {
  background-color: var(--search-box-color) !important;
  color: var(--ui-text-80) !important;
}

@supports -moz-bool-pref("userChrome.css.mac-ui-fonts") {
  findbar .matches-indicator {
    font-weight: var(--uc-font-weight-thin, 300) !important;
    line-height: 23px !important;
  }
}

.findbar-textbox:focus ~ .matches-indicator {
  background-color: var(--search-box-focus) !important;
}

.findbar-textbox[status="notfound"] ~ .matches-indicator {
  background-color: var(--search-box-null) !important;
  transition-duration: 400ms !important;
}

[anonid="findbar-textbox-wrapper"]:focus-within
  .findbar-textbox:not([status="notfound"])
  ~ .matches-indicator {
  background-color: var(--search-box-focus) !important;
}

.findbar-find-previous,
.findbar-find-next {
  border: none !important;
  padding: 0 !important;
  background: var(--search-box-color) !important;
  fill: rgba(255, 255, 255, 1) !important;
  transition: 300ms !important;
}

.findbar-find-previous > .toolbarbutton-icon,
.findbar-find-next > .toolbarbutton-icon {
  background: none !important;
  padding: 0 !important;
  width: 12px !important;
  margin-inline: 2px !important;
  opacity: 0.5 !important;
}

.findbar-find-previous {
  padding-inline: 0 !important;
  margin-inline: 0 !important;
  list-style-image: url(chrome://userchrome/content/menu-arrow-left-tiny.svg) !important;
}

.findbar-find-next {
  padding-inline: 0 !important;
  margin-inline: 0 !important;
  list-style-image: url(chrome://userchrome/content/menu-arrow-tiny.svg) !important;
}

:is(.findbar-find-previous, .findbar-find-next):not([disabled], [hidden]):is(:hover, :focus-visible)
  > .toolbarbutton-icon {
  background: none !important;
  opacity: 1 !important;
}

:is(.findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):is(:hover, :focus-visible, [checked]):is(.toolbarbutton-icon, .checkbox-icon) {
  background: none !important;
  opacity: 0.8 !important;
}

:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):hover:active {
  box-shadow: none !important;
}

:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):where([checked]:hover, [checked]:focus-visible, :hover:active, :focus-visible:hover):is(.toolbarbutton-icon, .checkbox-icon) {
  background: none !important;
  opacity: 1 !important;
}

.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next)
  > .toolbarbutton-icon,
.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next)
  > .toolbarbutton-icon,
:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):is([disabled="true"], [hidden]):is(.toolbarbutton-icon, .checkbox-icon) {
  fill: rgba(255, 255, 255, 1) !important;
  opacity: 0.25 !important;
}

.findbar-textbox:focus
  ~ :is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive) {
  background-color: var(--search-box-focus) !important;
  transition: 300ms !important;
}

.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive) {
  background-color: var(--search-box-null) !important;
  transition: 400ms !important;
}

.findbar-textbox {
  border: none !important;
  transition: 300ms !important;
  width: 20em !important;
  border-radius: 0 !important;
  outline: none !important;
  max-height: var(--findbar-height) !important;
  padding-inline: 6px !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox input > .anonymous-div {
  color: white !important;
  opacity: 1 !important;
}

.findbar-textbox,
.findbar-textbox:-moz-lwtheme {
  background-color: var(--search-box-color) !important;
  color: var(--ui-text-80) !important;
}

.findbar-textbox::placeholder {
  color: var(--ui-text-50) !important;
}

.findbar-textbox:focus {
  background-color: var(--search-box-focus) !important;
  color: var(--lwt-toolbar-field-color) !important;
  transition: 300ms !important;
}

.findbar-textbox[status="notfound"] {
  background-color: var(--search-box-null) !important;
  color: var(--ui-text-80) !important;
  transition: 400ms !important;
}

[anonid="findbar-textbox-wrapper"]:focus-within
  .findbar-textbox:not([status="notfound"]) {
  background-color: var(--search-box-focus) !important;
  color: var(--lwt-toolbar-field-color) !important;
  transition: 300ms !important;
}

findbar .matches-indicator {
  background-color: var(--search-box-color) !important;
  transition: 300ms background-color !important;
  mask-image: linear-gradient(to right, transparent 0px, black 20px) !important;
  line-height: var(--findbar-height) !important;
  height: var(--findbar-height) !important;
}

/*
 * Force the overlay to create a new stacking context so it always appears on
 * top of the icon.
 */
.tab-icon-overlay {
  opacity: 0.9999 !important;
}

.tab-label {
  margin-block: 1px 0 !important;
}

/* Draws a border around urlbar using the color of the current container. */

#urlbar:not([open]) > #urlbar-input-container {
  border-width: 0 !important;
  padding: 2px !important;
}

#userContext-icons::before {
  box-sizing: border-box;
  display: block;
  position: absolute;
  content: "";
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  outline: 1px solid var(--identity-icon-color);
  border-radius: var(--toolbarbutton-border-radius);
  outline-offset: -1px;
  pointer-events: none;
}

#urlbar[focused] #userContext-icons::before {
  outline-width: 2px;
  outline-offset: -2px;
}

/* These might potentially cause some issues, but are needed to make the border extend the border to the full popup when urlabar popup is open */
#urlbar[open] > #urlbar-input-container {
  position: static !important;
}

#urlbar[open] > #urlbar-background {
  z-index: -1 !important;
}

/* OPTIONAL FEATURES */

/* Hide container label in urlbar */
/* #userContext-label{ display: none } */

/* Hide container icon in urlbar */
/* #userContext-indicator{ display: none } */

/* Hide the container line above tabs */
/* .tab-context-line{ display: none } */

/* New hover effect */
#TabsToolbar toolbarbutton {
  filter: opacity(100%) brightness(50%);
}

#TabsToolbar toolbarbutton:not([disabled]):hover,
#TabsToolbar toolbarbutton[open="true"] {
  filter: opacity(100%) brightness(120%) drop-shadow(2px 0px 0px #00000060) !important;
}

/* hide the close button for pinned tabs. if the last visible tab is pinned, it doesn't hide the close button since the tab doesn't get shrunk in that case.
this requires you to make a pref in about:config and set it to true: "userChrome.tabs.pinned-tabs.close-buttons.disabled" */
@supports (
  -moz-bool-pref("userChrome.tabs.pinned-tabs.close-buttons.disabled")
) {
  .tabbrowser-tab[pinned] .tab-close-button {
    display: none !important;
  }

  .tabbrowser-tab[pinned] .tab-throbber[busy],
  .tabbrowser-tab[pinned]:not([busy]):is(.tab-icon-image, .tab-sharing-icon-overlay) {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* for some reason the gradient on overflowing labels is variable in proton.
it gets bigger when you hover the tab, apparently because the close button gains a background in that condition.
this is ugly in general imo but it's useless with this theme in particular since we put the close button on the right,
meaning it doesn't overlap with the right side of the label at all, which is where the overflowing mask is applied.
so we make the mask size constant. */
.tabbrowser-tab {
  --tab-label-mask-size: 1em !important;
}
/*
:root:-moz-lwtheme {
  --chrome-content-separator-color: rgba(0, 0, 0, 0.3) !important;
}

:root {
  --toolbar-non-lwt-bgcolor: -moz-dialog;
  --toolbar-non-lwt-textcolor: -moz-dialogtext;
  --toolbar-non-lwt-bgimage: none;
  --toolbarbutton-vertical-text-padding: calc(
    var(--toolbarbutton-inner-padding) + 1px
  ) !important;
  --toolbarbutton-border-radius: 5px !important;
  --panel-separator-color: hsla(210, 4%, 10%, 0.14);
}

/** Begin titlebar **/

#titlebar {
  /* Centrally align content items vertically */
  -moz-box-pack: center !important;
}

.titlebar-button {
  display: none !important;
}

.titlebar-buttonbox-container {
  -moz-box-align: center !important;
}

/* Hide window controls in fullscreen */
:root[inFullscreen] .titlebar-buttonbox-container {
  display: none !important;
}

.titlebar-buttonbox:-moz-locale-dir(ltr) {
  margin-left: 12px !important;
  margin-right: 0 !important;
}

.titlebar-buttonbox:-moz-locale-dir(rtl) {
  margin-left: 12px;
  margin-right: 12px;
}

#nav-bar:not([tabs-hidden="true"]) {
  /* The toolbar buttons that animate are only visible when the #TabsToolbar is not collapsed.
     The animations use position:absolute and require a positioned #nav-bar. */
  position: relative !important;
}

/* Draw the bottom border of the tabs toolbar when titlebar isn't using vibrancy */
:root:not([inFullscreen], [tabsintitlebar]) #nav-bar:not([tabs-hidden="true"]),
#nav-bar:not([tabs-hidden="true"]):-moz-lwtheme {
  box-shadow: 0 calc(-1 * var(--tabs-navbar-shadow-size)) 0
    var(--tabs-border-color) !important;
}

:root[chromehidden~="toolbar"][chromehidden~="location"][chromehidden~="directories"] {
  border-top: none !important;
}

.browser-toolbar {
  appearance: none !important;
}

.browser-toolbar:not(.titlebar-color) {
  background: var(--toolbar-bgcolor) !important;
  color: var(--toolbar-color) !important;
}

.tab-label-container:not([selected="true"], [multiselected]) {
  opacity: 0.7 !important;
}

.tabbrowser-tab[multiselected],
.tabbrowser-tab[visuallyselected="true"] {
  /* overriding tabbox.css */
  text-shadow: inherit !important;
}

:root[uidensity="compact"] {
  --urlbar-min-height: 28px !important;
  --urlbar-icon-padding: 4px !important;
  /* (26px - 2px border - 2px padding - 16px icon) / 2 */
}

:root:-moz-lwtheme {
  --toolbar-bgcolor: transparent !important;
  --toolbar-bgimage: none !important;
  --toolbar-color: var(--lwt-text-color, inherit) !important;
  color: var(--lwt-text-color) !important;
}

:root[uidensity="compact"] {
  --toolbarbutton-outer-padding: 3px !important;
  --toolbarbutton-inner-padding: 6px !important;
  --bookmark-block-padding: 1px !important;
  --tab-shadow-max-size: 1px !important;
  --tab-block-margin: 2px !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox::part(scrollbox) {
  /* Add padding to match the shadow's blur radius so the
    shadow doesn't get clipped when either the first or
    last tab is selected */
  padding-inline: var(--tab-shadow-max-size) !important;
}

/********************************
.tab-icon-image {
  filter: invert(40%) contrast(25%) saturate(25%) !important;
}

/* Remove next line if you want selec4ed tab to have color other than toolbar background - then it follows your theme color  *
	--lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;
}

.tab-background[selected] {
	border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;
}

/* Few exceptions for default light theme */
#navigator-toolbox:not([movingtab]):-moz-lwtheme > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: transparent !important;
}

#TabsToolbar:not(:-moz-lwtheme) {
  --tab-line-color: transparent !important;
}

.tab-background[selected]:not(:-moz-lwtheme) {
  background: var(--toolbar-bgcolor) !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

.tab-background:not([selected])[multiselected] {
  background: color-mix(in srgb, currentColor 11%, transparent) !important;
  margin-inline-start: -1px !important;
}

/**  Line to mark selected tab */
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px !important;
  content: "";
}
.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
}
.tab-stack > .tab-background[selected]::before {
  background-image: var(--my-gradient) !important;
}
/* Photon-like tab on hover animation for the top line */
@keyframes tab-onhover-line-anim {
  from {
    margin-inline: 20px;
  }

  to {
    margin-inline: 0;
  }
}

.tab-stack:hover > .tab-background::before {
  animation: tab-onhover-line-anim 160ms;
}

:root[lwtheme-image] #navigator-toolbox:-moz-lwtheme {
  background-image: var(
    --lwt-additional-images
  ) !important; /* Original: var(--lwt-header-image), var(--lwt-additional-images); */
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
  background-color: var(
    --lwt-accent-color
  ) !important; /* Original:  var(--lwt-accent-color) */
}
/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.1) !important;
}

:root:-moz-lwtheme #toolbar-menubar {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  /* Original: 0 0 .5em white, 0 0 .5em white, 0 1px 0 rgba(255, 255, 255, .4) */
}

/* Unloaded Tab - Contents Opacity ******************************************/
#tabbrowser-tabs .tabbrowser-tab[pending] .tab-content {
  opacity: 0.7 !important;
}

/** Clipped tabs - Letters cleary *******************************************/
#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}

/** Clipped tabs - Show close button at hover *******************************/
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  visibility: collapse !important;
  opacity: 0 !important;

  /* Animation - Fade out */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1 !important;

  /* Animation - Fade in */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}

/* Closed Button's icon thicker */
.tabbrowser-tab .tab-content > .close-icon {
  list-style-image: url("./icons/dismiss-filled.svg") !important;
}

/* Closed Button's icon larger *
.tab-close-button {
  padding: 6px !important; /* Original: 7px *
}
.tabbrowser-tab:not(:hover) > .tab-stack > .tab-content > .tab-close-button {
  padding-inline-start: 1px !important; /* Original: 0px *
  width: 19px !important; /* Original: 17px *
}

/* Closed Button's padding reduce *
#tabbrowser-tabs[closebuttons="activetab"] .tab-content > .tab-close-button {
  margin-inline-end: calc(
    (var(--inline-tab-padding) / -2) + 2px
  ) !important; /* Original: calc(var(--inline-tab-padding) / -2)*
  padding: 4px !important; /* Original: 7px *
  width: 20px !important; /* Original: 24px *
  height: 20px !important; /* Original: 24px *
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not(:hover)
  > .tab-stack
  > .tab-content
  > .tab-close-button {
  padding-inline-start: 3px !important; /* Original: 0px *
  width: 19px !important; /* Redefine from 19px !important, Original: 17px = (width - padding)  *
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
	> .tab-stack
	> .tab-background::before {
	animation: none !important;
}

/* These ones are used for the read/unread tabs styling. For italic rules use
  either "normal" or "italic" without the quotes for either no italics or using italics,
  and for bold, use either "bold" or "normal" in the same way. You'll want to use semi-transparent
  colors (if any) for background colors, otherwise it will show as too bright opaque colors.
  Requires the use of setAttribute_unread.uc.js for unread tabs editting. *
:root {
	--Loaded-and-selected-text: #eee;
	--Loaded-and-selected-italic: normal;
	--Loaded-and-selected-bold: normal;

	--Loaded-but-unread-text: #fff;
	--Loaded-but-unread-italic: italic;
	--Loaded-but-unread-bold: normal;

	--Not-loaded-text: #ccc;
	--Not-loaded-italic: italic;
	--Not-loaded-bold: normal;

	--Loading-text: #0088ff;
	--Loading-italic: normal;
	--Loading-bold: normal;
}

/* GLOW EFFECT ON TAB ICON */
/* toolbarbutton.bookmark-item:not([container=true]) .toolbarbutton-icon
for icons on the bookmarks bar under the url bar *
.tab-icon-image,
.bookmark-item:not([container="true"]) .menu-iconic-icon {
  filter: drop-shadow(0 0 3px #fff) !important;
}

/* TAB READ/UNREAD COLORS */
/* You can bold the text of any tab adding "font-weight: bold !important" after their last rule, but before the "}"  */
/* Selected (loaded) *
.tabbrowser-tab[selected="true"] .tab-label {
	color: var(--Loaded-and-selected-text) !important;
	font-style: var(--Loaded-and-selected-italic) !important;
	font-weight: var(--Loaded-and-selected-bold) !important;
}

/* Loaded but unread (not selected) *
.tabbrowser-tab:not([selected="true"])[unread] .tab-label {
	color: var(--Loaded-but-unread-text) !important;
	font-style: var(--Loaded-but-unread-italic) !important;
	font-weight: var(--Loaded-but-unread-bold) !important;
}

/* Not loaded yet (also visited) *
.tabbrowser-tab:not([selected="true"])[pending] .tab-label,
.tabbrowser-tab:not([selected="true"])[visited] .tab-label {
	color: var(--Not-loaded-text) !important;
	font-style: var(--Not-loaded-italic) !important;
	font-weight: var(--Not-loaded-bold) !important;
}

/* loading *
.tabbrowser-tab[busy] .tab-text.tab-label {
	color: var(--Loading-text) !important;
	font-style: var(--Loading-italic) !important;
	font-weight: var(--Loading-bold) !important;
}
*/
/*remove space before 1st tab*/
:root .titlebar-spacer[type="pre-tabs"] {
  display: none !important;
} /*
:root .tab-background[selected="true"] {
  background: linear-gradient(
      to bottom,
      transparent 2px,
      var(--toolbar-bgcolor) 2px,
      var(--toolbar-bgcolor) 100%
    ),
    linear-gradient(
      to right,
      #9f1aff,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;
}
/* removes the alpha coloring of the navbar background*
#nav-bar:-moz-lwtheme {
	background: rgba(255, 255, 255, 0) !important;
}

/* Gray out the favicon icon on the inactive tab *

.tabbrowser-tab .tab-icon-image:not([selected=true]):not([pinned]) {
    filter: grayscale(100%) !important;
}
/* favicon gray on inactive Tab */

.tab-icon:not([selected="true"]),
.tab-icon-image:not([selected="true"]) {
  filter: grayscale(1) brightness(1) contrast(1) invert(0.5) blur(0.2px)
    opacity(0.7) !important;
}

/* Onetab *
#extension_one-tab_com-browser-action {
  list-style-image: url("./icons/broom.svg") !important;
  transform: scale(2);
  margin-bottom: -3px !important;
  fill: white !important;
}

/* This sets a color for border around tabs and between tabs & navigation toolbars. Set to transparent to remove the border.*/
#navigator-toolbox {
  --tabs-border-color: color-mix(
    in srgb,
    currentcolor 30%,
    transparent
  ) !important;
}

#navigator-toolbox:not([movingtab]) > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: transparent !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
	> .tab-stack
	> .tab-background::before {
	animation: none !important;
}

/* Line to mark selected tab */
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px !important;
  content: "";
}
.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
}
.tab-stack > .tab-background[selected]::before {
  background-image: var(--my-gradient) !important;
}
*/
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  display: none;
}
:root.tabbrowser-tab[class*="identity-color-"] .tab-background {
  background: linear-gradient(0, var(--identity-tab-color) 2px, transparent 0);
}
:root.tabbrowser-tab[selected="true"][class*="identity-color-"]
  .tab-background {
  background: linear-gradient(
    to bottom,
    transparent 2px,
    var(--toolbar-bgcolor) 2px,
    var(--toolbar-bgcolor) 95%,
    var(--identity-tab-color) 2px
  ) !important;
}
:root::-moz-lwtheme.tab-background[selected="true"] {
  background: linear-gradient(
    to bottom,
    transparent 2px,
    var(--toolbar-bgcolor) 2px,
    var(--toolbar-bgcolor) 100%
  ) !important;
}

/* Gradient color container line*/
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 0 !important;
  margin: -2px 0px 0px 0px !important;
  border-top: 2px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 92%,
      var(--lwt-accent-color)
    )
    1 !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 0 !important;
  margin: -2px 0px 0px 0px !important;
  border: 2px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--tab-line-color),
      var(--identity-icon-color) 4.5% 90%,
      var(--tab-line-color)
    )
    1 !important;
}
*/
  #TabsToolbar:not([brighttext])
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

:root:not([lwtheme-mozlightdark])
  #TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 2em !important;
}

/* Add a translucent color on top of multiselected tabs */
.tab-background[multiselected="true"]:not([selected="true"]) {
  opacity: 0.9 !important;
  border-radius: 5px !important;
}

:root #navigator-toolbox {
  --tabs-border-color: transparent !important;
}

.tab-stack > .tab-background[selected]::before {
  /*	background-color: highlight;*/
  background-image: var(--my-gradient) !important;
}
/* Photon-like tab on hover animation for the top line*/
@keyframes tab-line-anim {
  from {
    margin-right: var(--tab-min-width);
  }
  to {
    margin-right: 0;
  }
}
.tab-background::before {
  animation: tab-line-anim 1500ms !important;
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab[pinned] > .tab-stack > .tab-background::before {
  animation: none !important;
}
.tab-stack:hover > .tab-background::before {
  background-color: var(--toolbar-bgcolor) !important;
}*/
.tab-background[selected]::before {
  animation: tab-line-anim 1500ms !important;
}
@keyframes tab-loading-line-anim {
  from {
    background-position-x: left;
  }
  to {
    background-position-x: right;
  }
}
.tabbrowser-tab[busy] > .tab-stack > .tab-background[selected]::before {
  background-size: 300% !important;
  background-image: var(--my-gradient) !important;
  opacity: 0.9 !important;
  animation: tab-line-anim 1500ms,
    tab-loading-line-anim 800ms alternate infinite ease-in-out !important;
}
/* Hide the throbber all tabs*
.tab-throbber {
  display: none;
}
.tab-icon-image[src] {
  display: -moz-box;
}
*/

/* Remove throbber from selected tab*/
.tab-throbber[selected] {
  display: none !important;
}
:root {
  --toolbarbutton-focus-outline: var(--focus-outline);
  --focus-outline: none !important;
}

:root[privatebrowsingmode="temporary"] {
  /* Value for --in-content-page-background in aboutPrivateBrowsing.css.
     !important overrides the direct setting of this variable in
     ThemeVariableMap.jsm when the user has a theme that defines
     ntp_background. */
  --tabpanel-background-color: #25003e !important;
}

#tabbrowser-tabs {
  --tab-min-width: 76px !important;
  --tab-loading-fill: #0a84ff;
}

#tabbrowser-tabs,
#tabbrowser-arrowscrollbox,
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

.tab-background,
.tab-stack {
  min-height: inherit !important;
  border-radius: 5px !important;
}
.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}
/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}
#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px;
  height: 5px;
  z-index: 2;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  left: -5px;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  right: -5px;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}
.tabbrowser-tab[usercontextid] .tab-context-line {
  opacity: 0 !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]
  .tab-context-line,
.tabbrowser-tab[usercontextid]:is(:hover, [selected], [multiselected], .keyboard-focused-tab, [open])
  .tab-context-line {
  transform: none;
  opacity: 1 !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::before,
.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack::before {
  left: -4.6px !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::after,
.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack::after {
  right: -4.6px !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::after,
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::before,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack::after,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  );
}
/***/
.tabbrowser-tab[selected],
.tabbrowser-tab[pinned]:not([selected]) {
  --tab-bg-current: var(--toolbar-bgcolor);
}

.tabbrowser-tab:not([selected], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  --tab-bg-current: hsl(233, 55%, 8%);
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]) {
  --tab-bg-current: hsl(233, 53%, 8%);
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  --tab-bg-current: hsl(233, 51%, 10%);
}
/* style the loading burst that triggers when tab loading finishes */
.tab-loading-burst {
  z-index: 2 !important;
  pointer-events: none;
}

#TabsToolbar .tab-loading-burst::before {
  backface-visibility: hidden;
}
/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */
.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */
.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */
.tabbrowser-tab[visuallyselected="true"] {
  z-index: 6 !important;
}

/* multiselected tabs do too, but lower than selected tabs */
.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */
.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 6 !important;
}

/* pinned tabs stack over everything except selected tabs */
.tabbrowser-tab[pinned] {
  z-index: 7 !important;
}

/* and the same formula applies to them too */
.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected] {
  z-index: 9 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 10 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected][visuallyselected="true"] {
  z-index: 11 !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border: none !important;
}

.tab-throbber[busy]::before {
  opacity: 0.8 !important;
  fill: var(--busy-throbber-fill) !important;
}

.tab-throbber[progress]::before {
  opacity: 1 !important;
  fill: var(--loading-throbber-fill) !important;
}

/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
  border-radius: 5px !important;
  -moz-box-ordinal-group: 2 !important;
}

/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}

.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
  border-radius: 5px !important;
}
.tab-background {
  border: none !important;
  border-radius: 5px !important;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1);
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}
/* Selected tab *

.tab-background {
  border: 2px none transparent !important;
  background-clip: padding-box !important;
}


/* New tab button */

#tabs-newtab-button,
#TabsToolbar #new-tab-button {
  list-style-image: url(chrome://global/skin/icons/plus.svg) !important;
}
/* Hide solo tab *
#tabbrowser-tabs
  tab[first-visible-tab="true"][last-visible-tab="true"]:only-of-type {
  visibility: collapse;
}
/* Stretch Tabs*/
.tabbrowser-tab[fadein]:not([pinned]) {
  max-width: none !important;
}
/*
#TabsToolbar {
	background-image: radial-gradient(
		eclipse at bottom,
		rgba(255, 255, 255, 0.8),
		rgba(255, 255, 255, 0.5) 80%,
		transparent
	) !important;
}*/
/* (MACOS ONLY!) Enable window vibrancy behind tabs */

#navigator-toolbox:not(:-moz-window-inactive) {
  background-color: #0001 !important;
}

#main-window[lwthemetextcolor="bright"]
  #navigator-toolbox:not(:-moz-window-inactive) {
  background-color: #1114 !important;
}
*/ #main-window {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  appearance: auto;
}

#main-window[lwthemetextcolor="bright"] {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  appearance: auto;
}
/***
:-moz-any(#main-window, #navigator-toolbox):-moz-any([inFullscreen="true"], :-moz-window-inactive) {
  appearance: none !important;
  background-color: var(--lwt-accent-color) !important;
}

/* Edge Style Tab Shadows */

#nav-bar {
  box-shadow: 0 -1px 2px -1px #0004 !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 2px -1px #0006 !important;
}

.tabbrowser-tab[visuallyselected] .tab-background {
  box-shadow: 0 2px 4px #0005, 0 -1px 2px -1px #0004 !important;
}

:root[lwthemetextcolor="bright"]
  .tabbrowser-tab[visuallyselected]
  .tab-background,
:root[lwthemetextcolor="bright"] {
  box-shadow: 0 2px 4px #0008, 0 -1px 2px -1px #0006 !important;
}
#PlacesToolbarItems > toolbarseparator::before {
  border-image-source: linear-gradient(
    transparent 8px,
    var(--toolbarseparator-color) 8px,
    var(--toolbarseparator-color) calc(100% - 8px),
    transparent calc(100% - 8px)
  ) !important;
}

#PersonalToolbar {
  padding-block: 0 2px !important;
  padding-inline: 6px 12px !important;
  margin-top: -2px !important;
  background: var(--toolbar-bgcolor) !important;
  clip-path: inset(2px 0 0 0) !important;
}
:-moz-any(.titlebar-placeholder, .titlebar-spacer)[type="pre-tabs"] {
  width: 0 !important;
}

#TabsToolbar {
  -moz-appearance: moz-mac-vibrancy-dark !important;
  background-color: transparent !important;
  color: var(--lwt-text-color) !important;
}
.tab-close-button {
  filter: drop-shadow(2px 0px 0 black) !important;
}
/* different tab background colors in various states */
.tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-hover) !important;
}

.tabbrowser-tab:is([visuallyselected], [selected]) .tab-background {
  background: var(--tab-selected) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant])
  > .tab-stack
  > .tab-background,
.tabbrowser-tab.keyboard-focused-tab[selected] > .tab-stack > .tab-background {
  background: var(--tab-focused-hover) !important;
}

.tabbrowser-tab:not([selected])[pinned]:is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-pinned-hover) !important;
}

.tabbrowser-tab:not([selected], [pinned], [multiselected], :hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-background) !important;
}

.tabbrowser-tab:not([selected])[pinned] .tab-background {
  background: var(--tab-pinned) !important;
}

.tabbrowser-tab[multiselected]:not([selected], [pinned], :hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-multi) !important;
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]):is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-multi-hover) !important;
}
/* block our animations while tabs are being dragged & dropped */
#tabbrowser-tabs[movingtab] .tabbrowser-tab *,
#tabbrowser-tabs .tabbrowser-tab[justmoved] * {
  transform: none !important;
}
.tab-background {
  border: none !important;
  border-radius: 5px !important;
  opacity: 1 !important;
}
/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
}

/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}

.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
  transition: none !important;
}

.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}

/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}
/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::after {
  display: none !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack::after {
  display: block !important;
}
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[selected] .tab-stack::after,
.tabbrowser-tab[selected] .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[multiselected] .tab-stack::after,
.tabbrowser-tab[multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

.tabbrowser-tab[usercontextid] .tab-stack::after,
.tabbrowser-tab[usercontextid] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack::after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}
/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */
.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */
.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */
.tabbrowser-tab[visuallyselected="true"] {
  z-index: 6 !important;
}

/* multiselected tabs do too, but lower than selected tabs */
.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */
.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 6 !important;
}

/* pinned tabs stack over everything except selected tabs */
.tabbrowser-tab[pinned] {
  z-index: 7 !important;
}

/* and the same formula applies to them too */
.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected] {
  z-index: 9 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 10 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected][visuallyselected="true"] {
  z-index: 11 !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

/* tab buttons are generally styled the same */
.tab-close-button,
.tab-icon-sound:not([pictureinpicture]) {
  opacity: 1 !important;
  fill: white !important;
  fill-opacity: 1 !important;
  border-radius: var(--tab-button-border-radius, 2px) !important;
}
.tab-close-button:hover {
  opacity: 1 !important;
}
.tabbrowser-tab:is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-icon-sound, .tab-close-button):not(:hover) {
  opacity: 1 !important;
}

.tabbrowser-tab:is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-icon-sound, .tab-close-button):hover:active {
  background-color: var(--arrowpanel-dimmed-further) !important;
  opacity: 1 !important;
}

.tabbrowser-tab:not([pinned]):is(:hover, .keyboard-focused-tab, [open])
  .tab-close-button:not(:hover, :active) {
  opacity: 1 !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}
/* Adjust Colors */
.tab-background:not([selected="true"]),
.tab-background[selected="true"] {
  background: transparent !important;
}
/*
#urlbar[breakout][breakout-extend] > #urlbar-background {
	background: linear-gradient(
		180deg,
		transparent calc(var(--urlbar-height) + 1px),
		var(--key-color) 0
	) !important;
}*/
:root {
  /* This defines the size of the blue highlight on the tabs. */
  /* It differs for no reason depending on OS/setup */
  --tab-color-offset: -2px; /* Default: -1px */
}
/***1st pinned tab space */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  /* Add a gap between the last pinned tab and the first visible tab */
  margin-inline-start: 0px !important; /* .tabbrowser-tab sets margin: 0 !important; */
}
#TabsToolbar {
  --attention-icon-color: var(
    --lwt-tab-attention-icon-color,
    rgb(42, 195, 162)
  ) !important;
}

#TabsToolbar[brighttext] {
  --attention-icon-color: var(
    --lwt-tab-attention-icon-color,
    rgb(84, 255, 189)
  ) !important;
}

/** Container Tab - Color line at icon's bottom *******************************/
.tab-context-line {
  display: none;
}

.tab-icon-image {
  box-sizing: content-box;
  padding: 2px 0;

  border-bottom: 2px solid var(--identity-icon-color);
}

/* None exist favicon & Pinned to select */
.tabbrowser-tab:not([image]):not([pinned], [sharing], [crashed]):not([soundplaying], [muted], [activemedia-blocked])
  .tab-content::before,
.tabbrowser-tab[pinned][visuallyselected]:not([busy]):not(:hover)
  .tab-content::before {
  /* Box Model */
  content: "";
  display: block;
  position: absolute !important;
  transition: 0.2s !important;
  transform: translateY(10px) !important;

  /* Shape */
  border-bottom: 2px solid var(--identity-icon-color);
  width: 16px;
}
.tabbrowser-tab:not([image]):not([pinned], [sharing], [crashed]):not([soundplaying], [muted], [activemedia-blocked])
  .tab-content::before {
  transform: translateY(10px) !important; /* None exist favicon */
}
.tabbrowser-tab[pinned][visuallyselected]:not([busy]):not(:hover)
  .tab-content::before {
  transform: translateX(2.5px) translateY(10px) !important; /* Pinned to select */
}

/* None exist favicon - With Sound */
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  box-sizing: content-box;
  padding: 3px 0;

  border-radius: 0 !important;
  border-bottom: 2px solid var(--identity-icon-color);
}
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]):hover {
  padding: 0;

  border-radius: 10px !important;
  border-bottom: none;
}

/* Pinned Tab - Titlechanged Indicator override */
.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"])
  .tab-icon-image,
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"])
  .tab-icon-image {
  border-bottom: 2px solid transparent !important;
}

.tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  --dotted-identity-image: radial-gradient(
    circle,
    var(--identity-icon-color),
    var(--identity-icon-color) 2px,
    transparent 2px
  );
  background-image: var(--dotted-identity-image), var(--dotted-identity-image),
    var(--dotted-identity-image) !important;
  background-position-x: 32%, 50%, 70% !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  background-position-x: 30%, 50%, 70% !important;
}
/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}

/** Selected Tab - Bottom Rounded Corner ************************************/
#tabbrowser-tabs {
  --tab-corner-rounding: 5px; /* 10px looks about like chromium - 17px looks close to Australis tabs */
  --tab-corner-padding: 1px;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before,
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  /* Box */
  content: "" !important;
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape */
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;

  /* Color */
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;

  background-image: url(./icons/tab-bottom-corner.svg) !important;
  background-size: var(--tab-corner-rounding) !important;
  background-repeat: no-repeat !important;
  background-position-y: bottom !important;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before {
  left: calc(var(--tab-corner-padding) - var(--tab-corner-rounding)) !important;
}
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  left: auto;
  right: calc(var(--tab-corner-padding) - var(--tab-corner-rounding));
  transform: scaleX(-1) !important;
}
/* Move container color bar to bottom of tab */

.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 2px) !important;
  border-radius: 5px !important;
}

/* Emulate blue tab line from Photon 57-88 UI */

/* Set size and position of the bar relative to background */
.tab-background::before {
  content: "";
  display: block;
  height: 2px;
  border-radius: 5px !important;
}
/* Active tab */
.tabbrowser-tab[selected] .tab-background::before {
  background-color: var(--tab-line-color);
}
/* Selected tabs */
.tabbrowser-tab[multiselected]:not([selected]) .tab-background::before {
  background-color: color-mix(in srgb, var(--tab-line-color) 66%, transparent);
}
/* non-active/non-selected tabs */
.tabbrowser-tab:not([selected], [multiselected]):hover .tab-background::before {
  background-color: color-mix(in srgb, currentColor 33%, transparent);
}
/* non-active/non-selected tabs (container) */
.tabbrowser-tab[usercontextid]:not([selected], [multiselected]):hover
  .tab-background::before {
  background-color: color-mix(
    in srgb,
    var(--identity-tab-color) 100%,
    transparent
  ) !important;
  filter: brightness(20%);
}
/* Container tabs */
.tabbrowser-tab[usercontextid] .tab-background::before {
  background: var(--identity-tab-color);
}

/* [Optional] Animation when hovering non-active/non-selected tabs *

.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  transform: scaleX(0.8);
  transition: transform 100ms linear;
}

/* Cool container tabs */

/* Hide default line *
.tabbrowser-tab[usercontextid] .tab-context-line {
  display: none !important;
}

/* Tab background *
.tabbrowser-tab[usercontextid]:not([selected]) .tab-background {
  background: var(--identity-tab-color) !important;
  opacity: 0.6 !important;
}
.tabbrowser-tab[usercontextid]:not([selected]) {
  background: var(--identity-tab-color) !important;
}

/* Adjust margin on blue tab line for squared background tabs *
.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  margin: 0px 0 0 !important;
}
/*	Faviicon when mouse over inactive tab grayscale(15%) Pinned */
.tabbrowser-tab:hover .tab-icon-image[pinned] {
  filter: grayscale(15%) !important;
}

/* Favicon icon on pinned inactive tab grayscale(35%) */
.tabbrowser-tab .tab-icon-image[pinned] {
  filter: grayscale(0%) !important;
}

/* Favicon icon when mouse over over inactive tab grayscale(15%) */
.tabbrowser-tab:hover .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: grayscale(15%) !important;
}

/* Gray out the favicon icon on the inactive tab */
.tabbrowser-tab .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: grayscale(100%) !important;
}
/*** Container color bar visibility */
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin: 0px max(calc(var(--user-tab-rounding) - 3px), 0px) !important;
}

/***  Glowing line at bottom. *
.tabbrowser-tab > .tab-stack > .tab-background > .tab-context-line {
  background-color: var(--identity-icon-color) !important;
  height: 2px !important;
  border-radius: 5px !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}
/*
#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0px 0px 2px 1px rgba(255, 255, 255, 0.6) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/integrated_searchbar_popup.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* This makes the searchbar popup look integrated into the searchbar,
 * kinda like urlbar popup looks.
 * Go to about:config and enable color-mix with layout.css.color-mix.enabled
 * to make the popup border show properly, or make the border use other color.*/

#PopupSearchAutoComplete,
#searchbar {
  /* text input is clipped if this is too large compared to font-size. */
  --uc-searchbar-border-radius: 6px;
}

#PopupSearchAutoComplete {
  --uc-inner-margin: 6px;
  --uc-searchbar-border-outer-radius: calc(
    var(--uc-searchbar-border-radius) + var(--uc-inner-margin)
  );
  --arrowpanel-border-color: transparent !important;
  margin-top: calc(1px - var(--uc-searchbar-border-radius));
  outline: 2px solid var(--toolbar-field-focus-border-color) !important;
  outline-offset: -8px;
  -moz-window-shadow: none !important;
  margin-inline: calc(0px - var(--uc-inner-margin));
  padding-inline: var(--uc-inner-margin);
  margin-bottom: -6px;
  padding-bottom: 6px;
  filter: drop-shadow(0 0 6px rgba(0, 0, 0, 0.2));
  background: transparent !important;
  border-radius: 0 0 var(--uc-searchbar-border-outer-radius)
    var(--uc-searchbar-border-outer-radius) !important;
}

#searchbar:focus-within {
  border-radius: var(--uc-searchbar-border-radius) !important;
}

slot {
  border-radius: 0 0 var(--uc-searchbar-border-radius)
    var(--uc-searchbar-border-radius) !important;
}
#PopupSearchAutoComplete::before {
  height: 8px;
  background: var(--toolbar-field-focus-background-color);
  border-inline: 2px solid var(--toolbar-field-focus-border-color);
  display: -moz-box;
  content: "";
  position: relative;
  z-index: 2;
}
/*** Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_bookmarks_toolbar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. *

#PersonalToolbar {
  --uc-bm-height: 28px; /* Might need to adjust if the toolbar has other buttons *
  --uc-bm-padding: 7px; /* Vertical padding to be applied to bookmarks *
  --uc-autohide-toolbar-delay: 300ms; /* The toolbar is hidden after 0.6s */

/* 0deg = "show" ; 90deg = "hide" ;  Set the following to control when bookmarks are shown *\
  --uc-autohide-toolbar-focus-rotation: 90deg !important; /* urlbar is focused *
  --uc-autohide-toolbar-hover-rotation: 0deg; /* cursor is over the toolbar area *
}

:root[uidensity="compact"] #PersonalToolbar {
  --uc-bm-padding: 1px;
}
:root[uidensity="touch"] #PersonalToolbar {
  --uc-bm-padding: 7px;
}

#PersonalToolbar:not([customizing]) {
  position: relative;
  margin-bottom: calc(0px - var(--uc-bm-height) - 2 * var(--uc-bm-padding));
  transform: rotateX(90deg);
  transform-origin: top;
  transition: transform 135ms linear var(--uc-autohide-toolbar-delay) !important;
  z-index: 1;
  /* The following properties should allow the themes with trasparent toolbars to work *
  background-color: transparent !important;
  background-repeat: no-repeat, no-repeat, var(--lwt-background-tiling);
  --uc-bg-y: calc(
    -2 * (
        var(--tab-block-margin) + var(--toolbarbutton-inner-padding) +
          var(--toolbarbutton-outer-padding)
      ) - var(--tab-min-height) - 16px - var(--bookmark-block-padding)
  );
  background-position: top left, top left,
    var(--lwt-background-alignment, top left);
  background-position-y: top, top, var(--uc-bg-y), var(--uc-bg-y),
    var(--uc-bg-y);
  background-image: linear-gradient(
      var(--toolbar-bgcolor),
      var(--toolbar-bgcolor)
    ),
    var(--lwt-header-image, var(--lwt-additional-images)) !important;
}

#PlacesToolbarItems > .bookmark-item,
#OtherBookmarks,
#PersonalToolbar > #import-button {
  padding-block: var(--uc-bm-padding) !important;
}

#nav-bar:focus-within + #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-focus-rotation, 0));
}

#navigator-toolbox:hover > #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-hover-rotation, 0));
}

#navigator-toolbox:hover > #nav-bar:focus-within + #PersonalToolbar {
  transform: rotateX(0);
}

/** Gradient line ***/

.tab-content::after {
  width: calc(100%-10px) !important;
  margin-block: 0px !important;
  background-image: linear-gradient(
    to right,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  position: absolute;
  content: "";
  height: 2px !important;
  left: 0px;
  right: 0px;
  top: 0;
  margin-right: 0px !important;
  margin-left: 0px !important;
  border-radius: 5px !important;
  transform: scale(0, 1) !important;
  transform-origin: center center !important;
  opacity: 1 !important;
}

.tab-content[selected="true"]::after {
  transform: scale(1, 1) !important;
}
/* Selected tab */

#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 4px rgba(114, 109, 109, 0.411) !important;
}
/**  inactive Favicons */
.tabbrowser-tab:not([visuallyselected="true"], [multiselected])
  .tab-icon-image {
  filter: brightness(60%) grayscale(10%) contrast(120%) blur(0.5px)
    opacity(100%) !important;
}

.tabbrowser-tab:not([visuallyselected="true"], [multiselected]):hover
  .tab-icon-image {
  filter: drop-shadow(1px 1px 2px rgba(43, 43, 43, 0.658))
    drop-shadow(1px 1px 1px rgba(2, 2, 2, 0.74)) contrast(175%) brightness(113%) !important;
}

/* Inactive Tab Opacity */
.tabbrowser-tab {
  opacity: 0.8 !important;
  padding-inline: 0 !important;
}
*/ .tabbrowser-tab:hover {
  opacity: 1 !important;
}

/* Unloaded Tab - Contents Opacity ********************************************/
#tabbrowser-tabs .tabbrowser-tab[pending] .tab-content {
  opacity: 0.6 !important;
}
#urlbar {
  box-shadow: 0px 0px 20px #1a1b26 !important;
}
#urlbar[breakout][breakout-extend][open] {
  /* background-color: #16161e !important;*/
  -webkit-backdrop-filter: blur(32px) !important;
  backdrop-filter: blur(32px) !important;
}
#wrapper-urlbar-container #urlbar {
  height: var(--urlbar-height) !important;
}
:root {
  --default-search-identity-icon: url(chrome://userchrome/content/engines/my-engine-icon.svg) !important;
}
.tab-context-line {
  -moz-box-ordinal-group: 2;
  margin-block: 0 !important;
}
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-image: linear-gradient(
    to right,
    transparent 10%,
    var(--identity-tab-color) 10%,
    var(--identity-tab-color) 90%,
    transparent 90%
  ) !important;
  height: 2px !important;
  margin-bottom: 0px !important;
}
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line
  + .tab-loading-burst {
  background-color: var(--identity-tab-color) !important;
  opacity: 0.3 !important;
}
/* align bookmarks with nav and tabs */
#PersonalToolbar {
  padding-inline: 2px !important;
}
.tab-label-container:not([selected="true"], [multiselected]) {
  opacity: 1 !important;
}
/*** Unread Tab Mods ***/
.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}
/* controls the appearance of individual tabs and elements inside a tab. *

#TabsToolbar .tabbrowser-tab {
  background: var(--lwt-accent-color) !important;
  padding: 0 !important;
}
.tab-background {
  border: none !important;
  border-radius: 5px !important;
  z-index: 1 !important;
}
/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1);
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}
/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
}
/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}
.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
  transition: none !important;
}
/***
.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}
/*
.tab-label[attention]:not([selected="true"]) {
  font-weight: unset !important;
}
.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-image: unset !important;
  background-position: unset !important;
  background-repeat: unset !important;
}
/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-bottom-left-radius: 5px !important;
  overflow: hidden !important;
}

/* unround top left/right corner for first/last tab.
this is complicated because we don't want to unround a tab unless it's really in place as the first/last tab,
and is stuck up against the left/right edge of the tab strip. that means we don't unround tabs when
1) a tab is being dragged/dropped, 2) a tab is being moved by an animation,
or 3) tabs are being closed from the end via mouse, and the mouse is still in the navbar,
because tabs are prevented from flexing to the end until the user's mouse leaves the navbar. */
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"]),
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 0 !important;
}

/* remove the first tab's rounded top left corner */
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"]),
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 0 !important;
}

/* when there are no unpinned tabs and the tab strip is not overflowing,
the tab strip won't be filled since they don't flex to fill the tab strip.
so the last tab should have a rounded corner since it won't be touching the end of the tab strip. */
#TabsToolbar
    #tabbrowser-tabs
    #tabbrowser-arrowscrollbox:not([overflowing="true"])
    .tabbrowser-tab[last-visible-tab][pinned]
    :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst),
/* when the last tab has its max-width property set, it means tab sizing
has been set to some value less than what would fill the tab strip,
by _lockTabSizing in tabbrowser-tabs.js. this prevents the tabs from snapping
to fill the space when the user closes tabs with the mouse, in order to keep
the close button under the mouse. if the tab strip is overflowing, this is achieved
by adding a spacer (using-closing-tabs-spacer) at the end of the tab strip.
if it's not overflowing, this is achieved by setting the max-width of every tab
to the current width of the tab that was just closed. this way the tabs don't expand
when a tab is removed, until the user's mouse has moved out of the tab strip.
since the tabs no longer fill the entire tab strip, we give the final tab a rounded top-right corner.
you can see this at work by making a new tab and opening 5 tabs. select the first tab,
then close tab 2 by clicking its close button. then close tabs 3 and 4 without moving the mouse.
the tabs' width will not expand until you move your mouse out of the tab strip. */
#TabsToolbar
    #tabbrowser-tabs
    #tabbrowser-arrowscrollbox:not([overflowing="true"])
    .tabbrowser-tab[last-visible-tab][style*="max-width"]
    :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. *
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0 !important;
  content: "";
  display: block !important;
  position: absolute !important;
  pointer-events: none !important;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::after {
  display: none !important;
}

/* we can't apply the rounded outside corner to the last tab when tabs' max-width is manually set
to prevent tabs from flexing, while the user is closing tabs with the mouse button.
it's kinda complicated but basically the outside corner would add 5px to the last tab,
which would make the tab strip overflow for like 1ms which changes the way tabbrowser-tabs.js works.
if we apply the corner in this situation when closing a tab to the right of the active tab,
while the tab strip is not overflowing, then there'll be no animation when the tab closes.
which would look very ugly so it's not worth it. this means there'll be rounded inside corners
on the last tab when it's not stretching to the right edge of the tab strip,
but unfortunately it won't have rounded outside corners unless the tab strip is overflowing. */
#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack::after {
  display: block !important;
}

/* how the background color is applied. it's not as convoluted as it looks,
it needs to be a gradient image because the bottom line .tab-context-line overlaps with the outside corners.
we want the corners to take on the color of the bottom line, but the corners are taller than the bottom line, so they can't be fully the same color as the line.
they must have a 1px tall stripe at the bottom, the color of the bottom line (should it exist), with the remaining 4px being the current bg color of the tab. *
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[selected] .tab-stack::after,
.tabbrowser-tab[selected] .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[multiselected] .tab-stack::after,
.tabbrowser-tab[multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}

.tabbrowser-tab[usercontextid] .tab-stack::after,
.tabbrowser-tab[usercontextid] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack::after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}*/
.tab-background {
  border: none !important;
  border-radius: 0px !important;
  box-shadow: none !important;
  opacity: 1 !important;
  z-index: 1;
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
} /*
.tab-content[pinned] {
  -moz-box-pack: center !important;
}
.tab-content[pinned] {
  width: 36px !important;
  padding: 0 !important;
  padding-inline-start: 10px !important;
  padding-inline-end: 0 !important;
}
#tabbrowser-tabs[overflow] {
  margin-inline-start: 8px !important;
}

#tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-tab]:not([pinned]),
#tabbrowser-tabs[overflow]
  .tabbrowser-tab[pinned]
  + .tabbrowser-tab:not([pinned]),
#tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab] {
  margin-inline-start: 8px !important;
}
/***  circle indicator 
.tabbrowser-tab[usercontextid] > .tab-stack::after {
  content: "" !important;
  position: absolute !important;
  display: flex !important;
  bottom: 0 !important;
  left: 8px !important;
  width: calc(100% - 16px) !important;
  height: 2px !important;
  box-sizing: border-box !important;
  border-radius: 99px 99px 0 0 !important;
  transform: none !important;
  background: var(--identity-tab-color) !important;
  transition-property: top, bottom, left, right, width, height, border-radius;
  transition-duration: 0.225s !important;
  transition-timing-function: var(--ease-out) !important;
}

*/
#main-window[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([movingtab])
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab
  > .tab-stack
  > .tab-background[selected="true"]:-moz-lwtheme {
  box-shadow: 0 4px 3px rgba(0, 0, 0, 0.45) !important;
}

:root:-moz-any([sizemode="fullscreen"], [customize-entered])
  #nav-bar:not([tabs-hidden="true"]),
:root:not([tabsintitlebar]) #nav-bar:not([tabs-hidden="true"]),
#nav-bar:not([tabs-hidden="true"]):-moz-lwtheme {
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2) !important;
}

#main-window[lwthemetextcolor="bright"] #TabsToolbar {
  background: rgba(0, 0, 0, 0.49) !important;
}
/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.3);
}
#sidebar-header,
#sidebar-search-container,
#bookmarks-view-children,
#historyTree {
  background-color: #2b2a33 !important;
  -moz-appearance: none !important;
}
/*prevent tab overflow to expand causing height changes *
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
  min-height: unset !important;
}
/***
.tab-stack {
  transition: transform 20ms linear !important;
}
.tabbrowser-tab:active .tab-stack {
  transform: scale(0.9) !important;
}
***/
/* Photon-like tab on hover animation for the top line*/
@keyframes tab-line-anim {
  from {
    margin-right: var(--tab-min-width);
  }
  to {
    margin-right: 0;
  }
}
.tab-background::before {
  animation: tab-line-anim 1500ms;
}
/* Disable animation for selected and pinned tabs */
.tabbrowser-tab[pinned] > .tab-stack > .tab-background::before {
  animation: none !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/tab_line_loading_indicator.css made available under Mozilla Public License v. 2.0See the above repository for updates as well as full license text. */

@keyframes tab-loading-line-anim {
  from {
    background-position-x: left !important;
  }
  to {
    background-position-x: right !important;
  }
}
.tabbrowser-tab[busy] > .tab-stack > .tab-background[selected]::before {
  background-size: 300% !important;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  opacity: 0.9;
  animation: tab-line-anim 1500ms,
    tab-loading-line-anim 800ms alternate infinite ease-in-out !important;
}
/* Hide the throbber all tabs*/
/*.tab-throbber{ display: none } 
.tab-icon-image[src]{ display: -moz-box }*/

/* Remove throbber from selected tab*/
.tab-throbber[selected] {
  display: none;
}
#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

#PlacesToolbarItems {
  background-color: #11092300 !important;
  backdrop-filter: blur(30px) !important;
}

#urlbar[focused="true"] #urlbar-background {
  border: transparent !important;
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  border-radius: 9px !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  animation-duration: 0ms !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
  background-color: #212142 !important;
  border-radius: 5px !important;
}
#urlbar-background,
#urlbar {
  border-radius: 9px !important;
  background-color: #212142 !important;
  border: transparent !important;
}

#urlbar {
  background-image: linear-gradient(
    160deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

#urlbar-background {
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
}

#urlbar[focused="true"] #urlbar-background {
  background-color: #212142 !important;
}

#urlbar[open="true"] #urlbar-background {
  background-color: #212142 !important;
}

/** Mega bar, Search bar */

#search-container,
#urlbar-container {
  --urlbar-container-height: 32px !important;
  padding-block: 2px !important;
}
/* Gradient color container line *
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--lwt-accent-color)
    )
    1 !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--tab-line-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--tab-line-color)
    )
    1 !important;
}
/* !!USER!! -  REMOVE ALL BUTTONS you can from the tabs toolbar and menubar */

/* IMPORTANT */
/*
Get window_control_placeholder_support.css
Window controls will be all wrong without it
*/

#titlebar {
  -moz-appearance: none !important;
}
/* We'll use window controls from menubar instead */
#TabsToolbar > .titlebar-buttonbox-container {
  display: none;
}

#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
#tabbrowser-arrowscrollbox {
  min-height: 0 !important;
}

#TabsToolbar > .titlebar-spacer[type="post-tabs"] {
  width: calc(
    var(--uc-window-control-width, 0px) + var(--uc-window-drag-space-post, 0px)
  ) !important;
}
#toolbar-menubar > spacer {
  pointer-events: none;
}

:root:not([customizing]) #tabs-newtab-button,
:root:not([customizing]) #tabbrowser-tabs .tabs-newtab-button {
  -moz-appearance: none !important;
  height: 0px;
  padding-block: 0px !important;
  -moz-box-align: stretch;
  margin: 0 !important;
}

#tabs-newtab-button {
  transform: scale(0.8);
  border-radius: var(--tab-border-radius);
}

.accessibility-indicator,
.private-browsing-indicator {
  height: unset !important;
}
.accessibility-indicator > hbox {
  padding-block: 0 !important;
}

#tabbrowser-tabs .tabbrowser-tab {
  height: calc(var(--tab-min-height) + 2 * var(--tab-block-margin));
}
#tabbrowser-tabs
  .tabbrowser-tab[first-visible-tab="true"][last-visible-tab="true"] {
  visibility: collapse;
}

/* Button re-styling */
#tabs-newtab-button:hover,
#tabbrowser-tabs .tabs-newtab-button:hover {
  background-color: var(--toolbarbutton-hover-background);
}

#tabs-newtab-button > .toolbarbutton-icon,
#tabbrowser-tabs .tabs-newtab-button > .toolbarbutton-icon {
  padding: 0 !important;
  transform: scale(0.6);
  background-color: transparent !important;
}
/* Extra top padding  in maximized window */
@media (-moz-os-version: windows-win7), (-moz-os-version: windows-win10) {
  :root[tabsintitlebar][sizemode="maximized"] #navigator-toolbox {
    padding-top: 7px !important;
  }
}
/* Window controls in nav-bar */
:root:not([customizing]) #toolbar-menubar[inactive] {
  height: initial !important;
  min-height: initial !important;
  margin-bottom: -28px !important;
}

:root:not([customizing]) #toolbar-menubar[autohide][inactive] > #menubar-items {
  pointer-events: none;
  opacity: 0;
}

:root[sizemode="fullscreen"] #TabsToolbar > #window-controls {
  z-index: 2;
}
.titlebar-buttonbox {
  color: inherit;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/centered_tab_content.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */
.tabbrowser-tab[selected]:not(:hover):not([pinned]) .tab-label-container,
#tabbrowser-tabs:not([closebuttons="activetab"])
  .tabbrowser-tab:not(:hover):not([pinned])
  .tab-label-container {
  margin-inline-end: 7px;
}
.tab-content:not([pinned])::before {
  display: -moz-box;
  content: "";
  -moz-box-flex: 1;
}
/* Firefox Quantum userChrome.css tweaks ************************************************/
/* Github: https://github.com/aris-t2/customcssforfx ************************************/
/****************************************************************************************/
#PersonalToolbar {
  opacity: 0 !important;
  transition: all 0.5s ease 0s !important;
  margin-top: -32px !important;
}

#navigator-toolbox:hover #PersonalToolbar {
  opacity: 1 !important;
  transition-delay: 0s !important;
  margin-top: inherit !important;
}

#PersonalToolbar {
  -moz-window-dragging: no-drag !important;
}

/* Proton compatibility */
@media (-moz-proton) {
  #main-window[sizemode="fullscreen"]:not([inDOMFullscreen="true"])
    #PersonalToolbar {
    min-height: 1px !important;
    height: 1px !important;
  }
}
.tabbrowser-tab[class*="identity-color"] .tab-loading-burst {
  background-image: linear-gradient(
    90deg,
    transparent,
    var(--identity-tab-color)
  ) !important;
}
.tabbrowser-tab .tab-loading-burst {
  background-image: linear-gradient(90deg, transparent, #9c04d1) !important;
  background-repeat: no-repeat !important;
  transition: background-size 0.5s ease-out !important;
  opacity: 0.3s linear !important;
  background-size: 0px 100% !important;
  background-position-y: bottom !important;
}

.tabbrowser-tab:not([busy]) .tab-loading-burst {
  opacity: 0 !important;
}

.tabbrowser-tab[busy] .tab-loading-burst {
  background-size: 20% 100% !important;
  transition: background-size 0.3s ease-out !important;
}

.tabbrowser-tab[busy][progress] .tab-loading-burst {
  background-size: 100% 100% !important;
  transition-duration: 2s !important;
}

.tabbrowser-tab[bursting] .tab-loading-burst {
  background-size: 100% 100% !important;
  transition-duration: 0.5s !important;
}
/* hide_tabs_with_one_tab https://github.com/MrOtherGuy/firefox-csshacks/blob/master/chrome/hide_tabs_with_one_tab.css */
#titlebar {
  -moz-appearance: none !important;
}
#TabsToolbar {
  min-height: 0px !important;
}

#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
#tabbrowser-arrowscrollbox {
  min-height: 0 !important;
}

:root:not([customizing]) #tabbrowser-tabs .tabs-newtab-button,
:root:not([customizing]) #tabs-newtab-button,
:root:not([customizing]) #TabsToolbar-customization-target > .toolbarbutton-1,
:root:not([customizing]) #TabsToolbar .titlebar-button {
  -moz-appearance: none !important;
  height: 0px;
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  -moz-box-align: stretch;
  margin: 0 !important;
}

#tabbrowser-tabs .tabbrowser-tab {
  height: var(--tab-min-height);
}

#tabbrowser-tabs
  .tabbrowser-tab[first-visible-tab="true"][last-visible-tab="true"] {
  visibility: collapse !important;
}

/* Button re-styling */
#tabs-newtab-button:hover,
#tabbrowser-tabs .tabs-newtab-button:hover {
  background-color: var(--toolbarbutton-hover-background);
}

#tabs-newtab-button > .toolbarbutton-icon,
#tabbrowser-tabs .tabs-newtab-button > .toolbarbutton-icon {
  padding: 0 !important;
  transform: scale(0.6);
  background-color: transparent !important;
}
/* Extra top padding  in maximized window */
@media (-moz-os-version: windows-win10) {
  :root[sizemode="maximized"] #navigator-toolbox {
    padding-top: 7px !important;
  }
}
/* Fix window controls not being clickable */
:root[tabsintitlebar] #toolbar-menubar[autohide="true"][inactive] {
  transition: height 0ms steps(1) 80ms;
}
#nav-bar {
  border-inline: var(--uc-window-drag-space-width) solid var(--toolbar-bgcolor);
}
/* TABS DESIGN */

.tab-line {
  /* hide acrive tab line */
  background-color: set your color !important; /*OR*/
  display: none !important;
}

.tabbrowser-tab[fadein]:not([pinned]) {
  /* https://www.reddit.com/r/FirefoxCSS/comments/74cnrs/full_width_tabs_firefox_57/ */
  max-width: none !important;
}
/* colors */
#titlebar {
  background-color: #e0d5d515 !important;
  -moz-box-ordinal-group: 2;
  -moz-appearance: none !important;
}

.tabbrowser-tab[selected="true"] .tab-background {
  background: #e0d5d515 !important;
}
