 @import url(uc-globals.css);
 /*@import url(uc-variables.css);*/
 @import url(uc-panels.css);
 @import url(uc-app-menu.css);
 @import url(uc-findbar.css);
 @import url(uc-ctrl-tab.css);
 @import url(uc-bookmarks.css);
 @import url(resources/in-content/library.css);
 @import url(resources/in-content/downloads.css);
 @import url(uc-popups.css);
 @import url(uc-search-mode-icons.css);
 @import url(uc-extensions.css);
 @import url(uc-unified-extensions.css);
 @import url(uc-sidebar.css);
 @import url(uc-misc.css);
 @import url(uc-search-one-offs.css);
 @import url(uc-context-menu-icons.css);
 @import url(uc-context-menus.css);
 @import url(components/integrated_searchbar_popup.css);
 @import url(compact-bookmarks.css);
 @import url(components/clean_extensions_menu.css);
 @import url(addons.css);
 @import url(components/colored_soundplaying_tab.css);
 @import url(components/search_bar_transparent_background.css);
 @import url(components/url_bar_no_border.css);
 @import url(components/autohide_sidebar.css);
 @import url(components/dark_additional_windows.css);
 @import url(components/overlay_tab_audio_icons.css);
 @import url(components/urlbar_container_color_border.css);
 @import url(components/tab_closing_animation.css);
 /* @import url(components/buttonlike_toolbarbuttons.css);*/
 @import url(components/tab_closing_animation.css);
 /*@import url(components/shrinking_pinned_tabs.css);*/
 @import url(components/centered_tab_content.css);
 /*@import url(components/tab_line_loading_indicator.css);*/
 @import url(components/dark_checkboxes_and_radios.css);
 @import url(components/autohide_bookmarks_toolbar.css);
 @import url(components/tab_close_button_always_on_hover.css);
 @import url(components/compact_extensions_panel.css);
 @import url(custom-chrome.css);

 /* Remove Tab When Only One */
 #tabbrowser-tabs tab:first-of-type:last-of-type {
   visibility: collapse !important;
 }

 /* Add all around shadow-looks like an Outline */
 /*.tabbrowser-tab[selected] .tab-icon-image {
     filter:
         drop-shadow(1px 0 0 white) drop-shadow(-1px 0 0 white) drop-shadow(0 1px 0 white) drop-shadow(0 -1px 0 white) !important;
     border-radius: 15% !important;
 }*/
 /* Bookmarks bar background color */
 #PersonalToolbar {
   background-color: transparent !important;
   -webkit-backdrop-filter: blur(24px) !important;
   backdrop-filter: blur(24px) !important;
   -moz-appearance: -moz-mac-source-list !important;
   appearance: -moz-mac-source-list !important;
 }

 /* Remove empty space from tabs bar*
 #TabsToolbar .titlebar-spacer[type="pre-tabs"],
 #TabsToolbar .titlebar-spacer[type="post-tabs"],
 #TabsToolbar .titlebar-spacer,
 /* Private browser icons remove and change main menu to purple *
 #private-browsing-indicator-with-label,
 .private-browsing-indicator {
     display: none !important;
 }*/

 .tabbrowser-tab .tab-label-container .tab-label {
   transition: color 250ms ease !important;
 }

 .tabbrowser-tab[fadein]:not([style^="max-width"]) {
   max-width: 100vw !important
 }

 /*
 #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected])>.tab-stack>.tab-background:not(:-moz-lwtheme) {
     box-shadow: 0 0 4px rgba(128, 128, 142, 0.5) !important;
 }

 #TabsToolbar:not([brighttext]) #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected])>.tab-stack>.tab-background:not(:-moz-lwtheme) {
     box-shadow: 0 0 1px var(--tab-line-color, rgba(128, 128, 142, 0.9)), 0 0 4px rgba(128, 128, 142, 0.5) !important;
 }

 :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme),
 :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) {
     --focus-outline-color: AccentColor !important;
 }

 :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme) #urlbar[open]>#urlbar-background,
 :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) #urlbar[open]>#urlbar-background {
     border-color: color-mix(in srgb,
             AccentColor 50%,
             transparent) !important;}
     /* Like: --toolbar-field-focus-border-color */

 #private-browsing-indicator-with-label,
 .private-browsing-indicator {
   display: none
 }

 :root[privatebrowsingmode="temporary"] #PanelUI-menu-button {
   list-style-image: url("chrome://global/skin/icons/indicator-private-browsing.svg") !important;
 }

 /* This style simply makes the tab stay visible while it is being closed as well as makes the transition a bit slower */

 .tabbrowser-tab:not([pinned], [fadein]) {
   transition-duration: 240ms, 240ms !important;
   transition-timing-function: ease-out, ease-out !important;
   visibility: visible !important;
 }

 .tab-content:not([fadein], [pinned]) .tab-icon-pending:not([fadein]),
 .tab-icon-image:not([fadein]),
 .tab-label:not([fadein]) {
   visibility: visible !important;
 }

 .tab-label:not([fadein]) {
   display: flex !important;
 }

 /*Makes black favicons more visible on dark background, contrast will be lowered though*/
 .tab-icon-image {
   filter: invert(40%) contrast(250%) saturate(250%) !important;
 }


 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected=true], [multiselected]) {
     background-color: color-mix(in srgb, currentColor 17%, transparent) !important;
 }

 .tabbrowser-tab:not(:hover)>.tab-stack>.tab-background:not([selected], [multiselected]) {
     background-color: color-mix(in srgb, currentColor 11%, transparent);
 }

 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
     background-color: color-mix(in srgb, currentColor 17%, transparent) !important;
 }

 /* Turn tabs playing audio gold*/

 .tabbrowser-tab[soundplaying] .tab-background {

   background-color: rgb(0, 255, 72) !important;

 }

 #tabbrowser-tabs .tab-background:is([selected], [multiselected]),
 #TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon {
   box-shadow: var(--uc-tab-shadow) !important;
 }

 #titlebar {
   box-shadow: var(--uc-titlebar-shadow) !important;
 }

 #tabbrowser-tabs[closebuttons="activetab"] .tabbrowser-tab .tab-label-container {
   --tab-label-mask-size: 1em !important;
 }

 /* need layout.css.has-selector.enabled*/
 .tabbrowser-tab:has(+ .tabbrowser-tab:is([selected="true"], :hover, [beforeselected-visible], [beforehovered])) .tab-stack::after {
   display: none;
 }

 #tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {
   margin-inline-start: 0 !important;
 }

 .titlebar-spacer[type="post-tabs"] {
   display: flex !important;
 }

 .titlebar-spacer[type="pre-tabs"],
 .private-browsing-indicator {
   display: none !important;
 }

 #TabsToolbar .toolbarbutton-animatable-box,
 #TabsToolbar .toolbarbutton-1 {
   fill: currentColor !important;
 }

 /*
 :root:not(:-moz-lwtheme) #navigator-toolbox:-moz-window-inactive {
     background-color: var(--lwt-accent-color-inactive, var(--lwt-accent-color)) !important;
 }

 .tab-background {
     border-radius: var(--tab-border-radius);
     border-bottom-left-radius: 8px !important;
     border-bottom-right-radius: 8px !important;
     margin-block: 0 !important;
     border: 0 !important;
     position: relative !important;
     --uc-tab-corner-bg: transparent;
 }

 /* rounded bottom corners*/
 .tab-background::before,
 .tab-background::after {
   content: "" !important;
   display: block !important;
   position: absolute !important;
   width: 8px !important;
   height: 8px !important;
   bottom: 0 !important;
   pointer-events: none !important;
   clip-path: inset(0);
 }

 .tab-background::before {
   border-bottom-right-radius: var(--tab-border-radius) !important;
   left: 0 !important;
   transform: translateX(-8px) !important;
   box-shadow: 4px 4px 0 4px var(--uc-tab-corner-bg) !important;
 }

 .tab-background::after {
   border-bottom-left-radius: var(--tab-border-radius) !important;
   right: 0 !important;
   transform: translateX(8px) !important;
   box-shadow: -4px 4px 0 4px var(--uc-tab-corner-bg) !important;
 }

 /* tab open/close transition */
 .tabbrowser-tab:not([pinned]) {
   transition-property: min-width, max-width !important;
   transition-duration: 150ms !important;
   transition-timing-function: cubic-bezier(0, .75, .25, 1) !important;
 }

 #tabbrowser-tabs[movingtab]>#tabbrowser-arrowscrollbox>.tabbrowser-tab[fadein]:not([selected]):not([multiselected]),
 .tabbrowser-tab[tab-grouping],
 .tabbrowser-tab[tabdrop-samewindow] {
   transition: transform 200ms cubic-bezier(0, .75, .25, 1) !important;
 }


 :root:is([inFullscreen], :not([tabsintitlebar])) #titlebar {
   --tab-block-margin: 4px !important;
 }

 /* button background transition */
 @media not (prefers-reduced-motion) {

   .toolbarbutton-1>.toolbarbutton-icon,
   .toolbarbutton-1>.toolbarbutton-text,
   .toolbarbutton-1>.toolbarbutton-badge-stack,
   :not(.panel-subview-body>toolbaritem)>.bookmark-item:not(menu, menuitem),
   .urlbar-page-action,
   .identity-box-button,
   #tracking-protection-icon-container,
   panel button,
   panel menulist,
   .titlebar-button {
     transition: background-color 0.25s ease !important;
   }

   .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-icon,
   .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-text,
   .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-badge-stack,
   :not(.panel-subview-body>toolbaritem)>.bookmark-item:not(menu, menuitem):not([disabled=true]):is([open], [checked], :hover:active),
   .urlbar-page-action:not([disabled=true]):is([open], [checked], :hover:active),
   .identity-box-button:not([disabled=true]):is([open], [checked], :hover:active),
   #tracking-protection-icon-container:not([disabled=true]):is([open], [checked], :hover:active),
   panel button:not([disabled=true]):is([open], [checked], :hover:active),
   panel menulist:not([disabled=true]):is([open], [checked], :hover:active),
   .titlebar-button:not([disabled=true]):hover:active {
     transition-duration: 0s !important;
   }
 }

 /* remove background from urlbar box */
 #identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:not(:hover, [open]),
 #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:not(:hover, [open]),
 #identity-box[pageproxystate="valid"].extensionPage>.identity-box-button:not(:hover, [open]) {
   background-color: transparent !important;
 }

 #urlbar[open]>#urlbar-background {
   border-color: transparent !important;
   box-shadow: 0 10px 16px #0005, 0 0 1px #0006 !important;
 }

 .urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner,
 .urlbarView-row-inner[selected] {
   box-shadow: 3px 0 var(--toolbar-field-focus-border-color) inset !important;
 }


 :root #titlebar {
   --tab-block-margin: 8px !important;
 }

 /* Remove empty space from tabs bar */
 #TabsToolbar .titlebar-spacer[type="pre-tabs"],
 #TabsToolbar .titlebar-spacer[type="post-tabs"],
 #TabsToolbar .titlebar-spacer,
 /* Remove Line above search engine selection in search bar */
 #urlbar .search-one-offs .search-panel-one-offs-header-label,
 /* Remove lefover window buttons from extra menu bar (when pressing alt)*/
 #titlebar #toolbar-menubar .titlebar-buttonbox-container,
 /* Private browser icons remove and change main menu to purple */
 #private-browsing-indicator-with-label,
 .private-browsing-indicator,
 /* Hide tracking protection icon from Search Bar */
 #tracking-protection-icon-container,
 /* Hide permission icons, see it when pressing permission button */
 #blocked-permissions-container {
   display: none !important;
 }

 /* Remove right and left side tab overflow border line */
 #scrollbutton-up~spacer {
   border-color: transparent !important;
 }

 .tabbrowser-tab[selected="true"] .tab-icon-image {
   /* Your CSS properties for the selected tab's icon here */
   /* For example, you can change the background color or add a filter background-color: #ff0000;*/
   filter: grayscale(0%) opacity(100%) brightness(100%) drop-shadow(3px 3px rgba(36, 36, 36, 0.757)) !important
 }


 :root[tabsintitlebar] #titlebar:-moz-window-inactive {
   opacity: 1 !important;
 }

 :root[tabsintitlebar] #titlebar:-moz-window-inactive .tabbrowser-tab:not([selected]) {
   opacity: 0.6 !important;
 }

 /*toolbar hamburger menu gradient color*/
 #appMenu-fxa-separator {
   border-image: 1 1 1 1 linear-gradient(90deg, #9400FF, #ba00e5, #df06b9, #e62da7, #f13b95, #f64d86, #f85f7a, #fc7169, #f9845b, #e8ab52) !important;
 }

 /*unread tabs -use tab flag extension*/
 .tabbrowser-tab[titlechanged]:not([selected="true"]) .tab-label {
   font-style: italic !important;
   color: #8c36f5 !important;
 }

 .tabbrowser-tab[busy]:not([selected="true"]) .tab-label {
   font-style: italic !important;
   color: #8c36f5 !important;
 }

 .tabbrowser-tab[class*="identity-color-"] .tab-background {
   border-right: solid 2px var(--identity-icon-color) !important;
   border-left: solid 2px var(--identity-icon-color) !important;
   transition: all .15s ease-in-out !important;
 }

 .tabbrowser-tab[class*="identity-color-"] .tab-background[selected="true"] {
   border-right: solid 4px var(--identity-icon-color) !important;
   border-left: solid 4px var(--identity-icon-color) !important;
 }

 /*container tab label color when selected */
 .tabbrowser-tab[class*="identity-color-"] .tab-label {
   color: var(--identity-tab-color) !important;
 }

 /* Container color bar visibility */
 .tabbrowser-tab[usercontextid]>.tab-stack>.tab-background>.tab-context-line {
   margin: 0px max(calc(var(--user-tab-rounding) - 3px), 0px) !important;
 }

 /* prevent white flash during page load */
 @-moz-document url(chrome://browser/content/browser.xhtml) {

   #main-window,
   browser[type="content-primary"],
   browser[type="content"],
   tabbrowser#content,
   #content,
   browser[type="content"]>html {
     background: #000000 !important;
   }
 }

 :root {
   --tab-block-margin: 3px 3px !important;
 }

 /* Contrainer extension code */
 #TabsToolbar #tabbrowser-tabs .tabbrowser-tab:is([usercontextid], [pinned]) .tab-background:not([selected]) {
   background: var(--identity-tab-color) !important;
   opacity: 0.3 !important;
 }

 /* Contrainer extension code */
 #tabbrowser-tabs .tab-context-line {
   display: none !important;
 }

 /* Normal tabs design *
 .tabbrowser-tab .tab-background:not([selected]) {
     /*border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-bg-color) !important;
  transition: background-color 250ms ease !important;
     box-shadow: var(--firefoxcss-normal-tabs-box-shadow) !important;
 }

 /* Normal tabs design on hover *
 #tabbrowser-tabs .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected]) {
     /*  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-hover-bg-color) !important;
     box-shadow: var(--firefoxcss-normal-tabs-box-shadow) !important;
 }

 /* Selected tabs design *
#tabbrowser-tabs .tabbrowser-tab .tab-background[selected] {
  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-active-bg-color) !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Multiselect tabs *
#tabbrowser-tabs .tabbrowser-tab .tab-background[multiselected] {
  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  outline: none !important;
  background-color: var(--firefoxcss-tab-active-bg-color) !important;
  box-shadow: none !important;
}

#tabbrowser-tabs
  .tabbrowser-tab
  .tab-background:is([selected]):is([multiselected]) {
  outline: 1px solid var(--firefoxcss-tab-multiselect-outline) !important;
  outline-offset: 0px !important;
  outline-width: 1px !important;
}*/
 /* Set tab icon color to gray when selected */
 .tab-icon:active {
   filter: none !important;
 }

 /* Change tab icon color when hovered */
 .tabbrowser-tab:hover .tab-icon-image {
   filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(100deg) !important;
 }

 /* Change unselected tab icon color to gray */
 .tabbrowser-tab[pinned][selected] .tab-icon-image,
 .tabbrowser-tab[pinned][selected] .tab-icon-sound {
     filter: grayscale(0%) !important;
 }

 .tabbrowser-tab .tab-icon-image,
 .tabbrowser-tab .tab-icon-sound {
     filter: grayscale(100%) !important;
 }

 /* userChrome.css */

 .tabbrowser-tab .tab-icon {
     filter: grayscale(1) opacity(0.7) !important;
 }
*/
 .tabbrowser-tab[selected="true"] .tab-icon {
   filter: grayscale(0) opacity(1) !important;
 }

 .tab-content:not([selected]) {
   text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5) !important;
 }

 /* Bookmarks toolbar *
 #PersonalToolbar {
   background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)) !important;
  /* border-top: 1px solid rgba(255, 255, 255, 0.5);*
   text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) !important;
   -webkit-backdrop-filter: blur(24px) !important;
   backdrop-filter: blur(24px) !important;
 }

 #PersonalToolbar .toolbarbutton-icon {
   filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.4)) !important;
 }*/

 #TabsToolbar .toolbarbutton-icon,
 .tab-close-button:not([selected]) {
   filter: drop-shadow(0 -1px 0 rgba(0, 0, 0, 0.5)) !important;
 }

 #nav-bar toolbarbutton,
 [selected] .tab-close-button {
   filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.5)) !important;
 }

 #nav-bar .toolbarbutton-1 {
   &:not([disabled]) {
     &:is([open], [checked], :hover:active)> :is(.toolbarbutton-icon, .toolbarbutton-text, .toolbarbutton-badge-stack) {
       fill: #07D;
       box-shadow: 0 1px 3px inset rgba(0, 0, 0, 0.2) !important;
       background-image: radial-gradient(rgba(255, 255, 255, 0.2), transparent) !important;
     }
   }
 }

 /*
 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
     background: linear-gradient(transparent, rgba(255, 255, 255, 0.25)) !important;
 }

 /* 1/16/2022 Tone down the Fx96 tab border with add-on themes in certain fallback situations
 .tab-background:is([selected], [multiselected]):-moz-lwtheme {
     --lwt-tabs-border-color: rgba(0, 0, 0, 0.5) !important;
     box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
     /* , 0 3px 3px rgba(0,0,0,0.3)
     border: 1px solid rgba(0, 0, 0, 0.25);
 }

 [brighttext="true"] .tab-background:is([selected], [multiselected]):-moz-lwtheme {
     --lwt-tabs-border-color: rgba(255, 255, 255, 0.5) !important;
     border-bottom-color: transparent !important;
 }
 tab:not([selected]) .tab-icon-image {
     opacity: 1 !important;
     filter: none !important;
 }

 /* different tab shadows in various states. to produce the illusion of modulated depth */
 .tabbrowser-tab .tab-content {
   box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2), 0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
 }

 .tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) .tab-content,
 .tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
   box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
 }

 .tabbrowser-tab[selected] .tab-content,
 .tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
   box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
 }

 .tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
   box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
 }

 /*  Pinned tabs dont have background color *
 #TabsToolbar #tabbrowser-tabs .tabbrowser-tab:is([pinned]) .tab-background:not([selected]) {
     background-color: transparent !important;
     box-shadow: none !important;
 }

 /* Change bookmarks bar color to be the same as top toolbar */
 :root {
   --firefoxcss-bookmarks-bg-color: transparent !important;
 }

 /*
 #nav-bar #urlbar[breakout][breakout-extend][open] {
     box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,
         rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,
         rgba(0, 0, 0, 0.09) 0px 32px 16px !important;
 }

 /* ----- My Custom Colors ----- */
 :root {
   --firefoxcss-bookmarks-bg-color: hsl(240, 2%, 20%) !important;
 }

 /*
 .tabbrowser-tab[selected="true"] .tab-icon-image {
     /* Your CSS properties for the selected tab's icon here */
 /* For example, you can change the background color or add a filter background-color: #ff0000;
     filter: blur(5px) grayscale(0%) contrast(200%) opacity(100%) brightness(2) drop-shadow(1px 1px rgba(58, 58, 58, 0.55)) !important*/

 .tabbrowser-tab:not([selected="true"]):not([multiselected="true"]) .tab-background {
   border-top: 1px solid rgba(130, 130, 130, 0.3) !important;
   border-left: 1px solid rgba(130, 130, 130, 0.3) !important;
   border-right: 1px solid rgba(130, 130, 130, 0.3) !important;
 }

 .tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
   opacity: 0.9 !important;
   transition: opacity 250ms ease !important;
 }

 /* Mouse Hover Background by passing by non-selected tabs */

 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
   background-image:
     /*var(--button-hover-bgcolor)*/
     radial-gradient(circle at bottom center,
       #3c2675 15px,
       #240e4355) !important;
   /*box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important; */
   box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
 }

 /* Back button */

 #back-button>.toolbarbutton-icon {
   --backbutton-background: transparent !important;
   border: 0 !important;
   border: none !important;
   border-radius: 10px !important;
   box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, 0.6) !important;
 }

 #forward-button>.toolbarbutton-icon {
   --forwardbutton-background: transparent !important;
   border: 0 !important;
   border: none !important;
   box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, 0.6) !important;
   border-radius: 10px !important;
 }

 /*container tab label color when selected */

 .tabbrowser-tab[class*="identity-color-"] .tab-label {
   color: var(--identity-tab-color) !important;
   font-weight: bold !important;
   font-style: underline !important;
 }

 /* Active tab brightness *

 .tab-content[selected="true"] {
   background-color: color-mix(in srgb, #5c04ae 20%, transparent) !important;
   text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.3),
     1px 1px 1px rgba(0, 0, 0, 0.5) !important;
   margin-top: 0px !important;
   margin-bottom: 0px !important;
 }

 /* non-active/non-selected tabs (container) */

 .tabbrowser-tab[usercontextid]:not([selected], [multiselected]):hover .tab-background {
   background-color: color-mix(in srgb,
       var(--identity-tab-color) 20%,
       transparent) !important;
   outline: 1px solid var(--identity-tab-color) !important;
   box-shadow: inset 0em -2em 0em var(--identity-tab-color) !important;
 }

/*
 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
     background-image:
         /*var(--button-hover-bgcolor)
         radial-gradient(circle at bottom center,
             #9400ff 15px,
             #9500ff7d) !important;
    box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
 }

 .tab-icon-image {
   filter: drop-shadow(0px 0px 2px white) !important;
 }

 .tabbrowser-tab[notselectedsinceload]:not([pending]),
 .tabbrowser-tab[notselectedsinceload][pending][busy] {
   font-style: italic !important;
 }

 /* Remove selected tab shadow, darken the border to account for lighter background color *
 #TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon,
 #tabbrowser-tabs .tab-background:is([selected], [multiselected]) {
   border: 1px solid color-mix(in srgb, currentColor 35%, transparent) !important;
   border-color: color-mix(in srgb, currentColor 35%, transparent) !important;
   background: radial-gradient(circle at bottom center, #540091a7 25px, #170027c3) !important;
   outline: 1px solid color-mix(in srgb, #f9845b 35%, transparent) !important;
 }

 /***inactive*/

 .tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
   opacity: 0.9 !important;
   filter: grayscale(0.2), brightness(0.7), contrast(20%) !important;
 }

 #nav-bar {
   box-shadow: inset 0 0 20px 5px hsla(0, 0%, 0%, 0.5) !important;
 }

 /**  inactive Favicons */
 .tabbrowser-tab:not([visuallyselected="true"], [multiselected]) .tab-icon-image {
   filter: brightness(80%) grayscale(20%) contrast(120%) blur(0.5px) opacity(100%) !important;
 }

 .tabbrowser-tab:not([visuallyselected="true"], [multiselected]):hover .tab-icon-image {
   filter: drop-shadow(1px 1px 2px rgba(43, 43, 43, 0.658)) drop-shadow(1px 1px 1px rgba(2, 2, 2, 0.74)) contrast(175%) brightness(113%) !important;
 }

 /* Shadow above content */

 #navigator-toolbox {
   box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
 }


 .sidebar-splitter {
   display: none !important;
 }

 .tab-content:not([selected="true"]) {
   text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.3),
     1px 1px 1px rgba(0, 0, 0, 0.5) !important;
 }

 .tab-content:not([selected="true"]) {
   text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5) !important;
 }

 .tabbrowser-tab[notselectedsinceload]:not([pending]),
 .tabbrowser-tab[notselectedsinceload][pending][busy] {
   font-style: italic !important;
 }

 /* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
 :root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
 :root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
   font-style: italic !important;
 }

 /* new code */
 .tabbrowser-tab[pending] {
   /* Set styles for unloaded tab */
   font-style: italic !important;
 }

 .tabbrowser-tab[busy] {
   /* Set styles for loading tab */
   font-style: italic !important;
 }

 .tabbrowser-tab[unread] {
   /* Set styles for unread tab */
   font-style: italic !important;
   font-weight: bold !important;
 }
    :root[tabsintitlebar]:not([lwtheme], :-moz-window-inactive)
    {
        appearance: menupopup !important;

        #navigator-toolbox
        {
            background-color: transparent !important;
        }

        .titlebar-color
        {
            --toolbarbutton-hover-background: color-mix(in srgb, currentColor 17%, transparent) !important;
            --toolbarbutton-active-background: color-mix(in srgb, currentColor 30%, transparent) !important;
        }
    }
 :root,
 :root[lang^="en"] {
     --uc-string-private: "Private";
 }

 /* Change "Private Browsing" text to "Private" (English locale only)*/
 :root:is([lang^="en"]) #private-browsing-indicator-with-label>label {
     display: none !important;
 }

 :root:is([lang^="en"]) #private-browsing-indicator-with-label::after {
     content: var(--uc-string-private);
     margin-block: 1px 2px;
     margin-inline: 6px 5px;
 }

 :root {
     --uc-titlebar-shadow: 0 -3px 2px -3px rgba(0, 0, 0, 0.2) inset;
     --uc-tab-shadow:
         0 0 0 1px var(--lwt-tab-line-color, var(--lwt-tabs-border-color, transparent)),
         0px 2px 4px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.1);
 }

 :root[lwtheme-brighttext="true"] {
     --uc-titlebar-shadow: 0 -3px 2px -3px rgba(0, 0, 0, 0.75) inset inset;
     --uc-tab-shadow:
         0 0 0 1px var(--lwt-tab-line-color, var(--lwt-tabs-border-color, transparent)),
         0 2px 4px rgba(0, 0, 0, 0.45), 0 0px 2px rgba(0, 0, 0, 0.2);
 }

 #tabbrowser-tabs .tab-background:is([selected], [multiselected]),
 #TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon {
     box-shadow: var(--uc-tab-shadow) !important;
 }

 #titlebar {
     box-shadow: var(--uc-titlebar-shadow) !important;
 }
  :root[privatebrowsingmode="temporary"] #PanelUI-menu-button {
     list-style-image: url("chrome://global/skin/icons/\indicator-private-browsing.svg") !important;
 }
 #PersonalToolbar {
     background-color: transparent !important;
     backdrop-filter: blur(10px) !important;
     -moz-appearance: -moz-mac-source-list !important;
 }
  /* rounded bottom corners*
 .tab-background::before,
 .tab-background::after {
     content: "" !important;
     display: block !important;
     position: absolute !important;
     width: 8px !important;
     height: 8px !important;
     bottom: 0 !important;
     pointer-events: none !important;
     clip-path: inset(0);
 }

 .tab-background::before {
     border-bottom-right-radius: var(--tab-border-radius) !important;
     left: 0 !important;
     transform: translateX(-8px) !important;
     box-shadow: 4px 4px 0 4px var(--uc-tab-corner-bg) !important;
 }

 .tab-background::after {
     border-bottom-left-radius: var(--tab-border-radius) !important;
     right: 0 !important;
     transform: translateX(8px) !important;
     box-shadow: -4px 4px 0 4px var(--uc-tab-corner-bg) !important;
 }*/
 #urlbar-background,
#searchbar {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.337),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}
#PersonalToolbar {
  background-image: url(images/noise-512x512.png) !important;
  background-color: #0d0d0dcf !important;
  -webkit-backdrop-filter: blur(32px) !important;
  backdrop-filter: blur(32px) !important;
}
/* Adds an effect to the highlight that wasn't there in Photon */
/* Remove if unwanted */
.tabbrowser-tab:hover>.tab-stack>.tab-background[selected]::before {
  filter: brightness(125%) saturate(150%) !important;
}

.tabbrowser-tab:not([visuallyselected="true"], [multiselected]):hover .tab-icon-image {
  filter: drop-shadow(1px 1px 1px rgba(2, 2, 2, 0.74)) contrast(175%) brightness(100%) !important;
}
.tabbrowser-tab:hover:not([selected]) .tab-label {
  font-weight: bold !important;
}
/* Blend Inactive tabs favicon */
#TabsToolbar #tabbrowser-tabs .tabbrowser-tab[pending] .tab-content:not(:hover) .tab-icon-image {
  filter: grayscale(70%);
  transition: filter 0.2s ease-in;
  opacity: 0.7;
}
.tab-text,
.tab-label {
  text-decoration: solid underline var(--identity-tab-color) 2px;
  text-underline-offset: 4px;
}

/* New activity in tab */
.tabbrowser-tab[titlechanged] .tab-text.tab-label {
  color: #9400FF !important;
  font-style: italic !important;
}

/* Selected (loaded) */
.tabbrowser-tab[selected="true"] .tab-label {
  color: #eee !important;
  font-style: normal !important;
  font-weight: bold !important;
  text-shadow: 1px 2px 1px #000 !important;
}

/* loading */
.tabbrowser-tab[busy] .tab-text.tab-label {
  color: #626262 !important;
  font-style: italic !important;
}

/* Not loaded yet (also visited) */
.tabbrowser-tab:not([selected="true"])[pending] .tab-label,
.tabbrowser-tab:not([selected="true"])[visited] .tab-label {
  font-style: italic !important;
  opacity: var(--inactive_opacity) !important;
}

.tabbrowser-tab:not([selected="true"]):not([multiselected="true"]) .tab-background {
  border-top: 1px solid rgba(130, 130, 130, 0.3) !important;
  border-left: 1px solid rgba(130, 130, 130, 0.3) !important;
  border-right: 1px solid rgba(130, 130, 130, 0.3) !important;
}
/* multi tab selection */
#tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([multiselected])>.tab-stack>.tab-background:-moz-lwtheme {
  outline-color: var(--toolbarseparator-color) !important;
}
/* Favicon icon when mouse over over inactive tab grayscale(15%) */
.tabbrowser-tab:hover .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: grayscale(0%) !important;
}

 /**  inactive Favicons */
.tabbrowser-tab:not([visuallyselected="true"], [multiselected]) .tab-icon-image {
  filter: brightness(100%) grayscale(70%) contrast(120%) blur(0.5px) opacity(100%) !important;
}
/***inactive*/

 .tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
   opacity: 0.7 !important;
   filter: grayscale(0.8), brightness(0.8), contrast(20%) !important;
 }
 /* Multiselect tabs */
#tabbrowser-tabs .tabbrowser-tab .tab-background[multiselected="true"] {
  border-style: solid !important;
  border-image: 1 1 1 1 linear-gradient(90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52) !important;
  outline: none !important;
  /*background-color: var(--firefoxcss-other-color) !important;
  /* box-shadow: none !important;*/
  /*background-color: color-mix(in srgb, #fc7169 20%, transparent) !important;*/
}
 /* non-active/non-selected tabs (container) */

.tabbrowser-tab[usercontextid]:not([selected], [multiselected]):hover .tab-background {
  background-color: color-mix(in srgb,
      var(--identity-tab-color) 70%,
      transparent) !important;
  /*outline: 1px solid var(--identity-tab-color) !important;
  /*box-shadow: inset 0em -2em 0em var(--identity-tab-color) !important;*/
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}
@media (-moz-bool-pref: "userChrome.MacOS.Vibrancy.Enabled")
{
    :root[tabsintitlebar]:not([lwtheme], :-moz-window-inactive)
    {
        -moz-default-appearance: menupopup !important;
    }
}

/*  Changes for macos compatibility  */
.titlebar-button { display: flex !important; }
.titlebar-buttonbox-container{ order: 1000 !important; }
.titlebar-buttonbox{ height: 100% !important; }
:root:not([sizemode="maximized"], [sizemode="fullscreen"]) .titlebar-restore, :root:is([sizemode="maximized"], [sizemode="fullscreen"]) .titlebar-max{display: none !important;}
.titlebar-buttonbox { margin-inline: 0 !important; }
.titlebar-buttonbox-container{margin-bottom: 0px;}

/*  Rounded corner in pages  *//*  layout.css.has-selector.enabled  */
#main-window:has(#navigator-toolbox[style=""]) #tabbrowser-tabpanels, :not([sizemode="fullscreen"]) #tabbrowser-tabpanels{margin: -10px 0 0 0!important; border-top-left-radius: 10px !important; border-top-right-radius: 10px !important;}
#main-window:has(#navigator-toolbox[style=""]) .browserStack>browser, :not([sizemode="fullscreen"]) .browserStack>browser{border-top-left-radius: 10px !important; border-top-right-radius: 10px !important;}
#navigator-toolbox{padding-bottom: 10px;}
[inFullscreen] #tabbrowser-tabpanels, [inFullscreen] .browserStack>browser{border-radius: 0 !important; margin: 0 !important; transition: border-radius .7s !important}
.browserStack{background-color: -moz-Dialog !important; border-radius: 10px !important; z-index: 2;}
.browserContainer{background-color: transparent}
.browserContainer:has(> .devtools-toolbox-bottom-iframe) .browserStack>browser{margin-bottom: -10px !important; border-bottom-right-radius: 10px !important; border-bottom-left-radius: 10px !important; transition: border-radius .2s !important}
findbar{height: 50px; border: none !important; background-color: -moz-Dialog !important; z-index: 1;}
.browserContainer:has(> .devtools-toolbox-bottom-iframe) findbar{border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;}
.findbar-container, findbar .close-icon{margin-top: 10px !important}
.browserContainer:has(> findbar)  .browserStack>browser{margin-bottom: -10px !important; border-bottom-right-radius: 10px !important; border-bottom-left-radius: 10px !important; transition: border-radius .2s !important}
.browserContainer:has(> .devtools-toolbox-bottom-iframe):has(> findbar) findbar{margin-bottom: -10px !important;}
[inFullscreen] .browserContainer:has(> .devtools-toolbox-bottom-iframe) .browserStack>browser{margin-bottom: -10px !important; border-bottom-right-radius: 10px !important; border-bottom-left-radius: 10px !important; transition: border-radius .2s !important}
[inFullscreen] .browserContainer:has(> findbar)  .browserStack>browser{margin-bottom: -10px !important; border-bottom-right-radius: 10px !important; border-bottom-left-radius: 10px !important; transition: border-radius .2s !important}
#main-window{background-color: -moz-Dialog}


/*  Makes the sidebar a little nicer  */
#sidebar-splitter{display: none}
#sidebar-header{padding-bottom: 0!important; border-bottom: 0!important}
/*  Removes annoying border  */
#navigator-toolbox{border:none !important;}
/*  Removes space after pinned tabs  */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {margin-inline-start: 0!important}

  /* Shadow for navbar and tabs */
  :root,
  :root .tabbrowser-tab {
    --uc-titlebar-shadow: none;
    --uc-tab-shadow-outline: rgb(0 0 0 / .11);
    --uc-tab-shadow: 0 2.5px 3px 1px rgb(0 0 0 / .08);

    & [brighttext],
    & [brighttext] .tabbrowser-tab {
      --uc-titlebar-shadow: none;
      --uc-tab-shadow-outline: transparent;
      --uc-tab-shadow: 0 2px 3px rgb(0 0 0 / .12);
    }

    & #TabsToolbar {
      --tab-border-radius: 8px !important;
    }
  }

  /* remove toolbar bg */
  #nav-bar,
  #PersonalToolbar {
    background-color: transparent !important;
  }

  /* invert bottom corner radius for tabs */
  .tab-background {
    border-radius: var(--tab-border-radius) !important;

    &::before,
    &::after {
      display: none !important;
    }
  }

  .tab-background[selected] {
    border: 1px solid var(--lwt-tab-line-color, var(--lwt-tabs-border-color, transparent)) !important;
    outline: 1px solid var(--uc-tab-shadow-outline) !important;

    /* Fractional scaling adjustments (150%, 175%, etc.) */
    @media (1dppx < resolution < 2dppx) {
      outline-width: 1.5px !important;
    }
  }
    :root:is([inFullscreen], :not([tabsintitlebar])) {
    --uc-tab-top-margin: 4px !important;
  }

  @media (-moz-bool-pref: "uc.tweak.disable-drag-space") {
    :root {
      --uc-tab-top-margin: 4px !important;
    }
  }

  /* IMPORTANT: Adds padding and removes margin on top of tabs to allow user to
   * select it from the top edge of the window */
  #tabbrowser-tabs {
    margin-top: calc(var(--uc-tab-top-margin) - 4px) !important;

    & .tabbrowser-tab,
    & #tabs-newtab-button {
      padding-top: 4px !important;
    }
  }

  #scrollbutton-up:not(.menupopup-scrollbutton),
  #scrollbutton-down:not(.menupopup-scrollbutton) {
    &,
    & ~ spacer {
      margin-top: 4px !important;
    }
  }

  /* move tab shadow behind urlbar */
  .tabbrowser-tab[visuallyselected="true"],
  #nav-bar {
    z-index: 2 !important;
  }

  /* tab shadow adjustments */
  .tabbrowser-tab {
    overflow-clip-margin: 8px !important;
  }

  #tabbrowser-arrowscrollbox > *,
  #scrollbutton-up:not(.menupopup-scrollbutton),
  #scrollbutton-up:not(.menupopup-scrollbutton) ~ spacer,
  #scrollbutton-down:not(.menupopup-scrollbutton) {
    margin-bottom: 8px !important;
  }

  #tabbrowser-arrowscrollbox {
    margin-bottom: -8px !important;
  }
  #tabbrowser-tabs[closebuttons="activetab"] .tabbrowser-tab:not([pinned], [selected]):hover .tab-close-button {
    display: flex !important;
  }
    :root {
    --uc-tab-top-margin: 0px !important;
  }
  #navigator-toolbox[style*="transform"] {
  box-shadow: 0 -3px 5px 3px light-dark(rgb(0 0 0 / .3), rgb(0 0 0 / .6)) !important;
}

/* Rounded Corners Tweak */
@media (-moz-bool-pref: "uc.tweak.rounded-corners") {
  /* Since Firefox 120, when the bookmarks bar is set to only open on new tabs,
   * the bookmarks bar overlaps the #browser element. */

  /* Change the element that shifts the browser content to the correct position. */
  #main-window[BookmarksToolbarOverlapsBrowser] .newTabBrowserPanel,
  #main-window[BookmarksToolbarOverlapsBrowser] #sidebar-box {
    padding-top: 0 !important;
  }

  #main-window[BookmarksToolbarOverlapsBrowser] #browser {
    margin-top: var(--bookmarks-toolbar-overlapping-browser-height);
  }

  /* Make sure that the toolbars are not positioned in-front of the browser
   * element. */
  #main-window[BookmarksToolbarOverlapsBrowser] #navigator-toolbox:not([style*="z-index"]) {
    z-index: auto !important;
  }

  /* Move the browser element in-front of the toolbars when on the new tab page. */
  #main-window:not([BookmarksToolbarOverlapsBrowser]) #browser {
    z-index: 1 !important;
  }

  /* Variables used for the rounded corners. */
  #main-window:not([chromehidden~="toolbar"]) {
    --uc-tweak-rounded-corners-padding: 4px;
    --uc-tweak-rounded-corners-radius: 8px;
    --uc-tweak-rounded-corners-shadow:
      0 -.8px 0 0 rgb(0 0 0 / 0.02),
      0 0.5px 1px 1px rgb(0 0 0 / 0.06),
      0 1px 1px rgb(0 0 0 / 0.1);
    --browser-frame-bgcolor: var(--toolbar-bgcolor, var(--lwt-accent-color));

    /* Different shadow for higher resolution displays. */
    @media (resolution > 1.8dppx) {
      --uc-tweak-rounded-corners-shadow:
        0 0 0.5px 0.5px rgb(0 0 0 / 0.06),
        0 0.5px 1.5px rgb(0 0 0 / 0.1);
    }

    @media (-moz-bool-pref: "uc.tweak.floating-tabs") {
      --browser-frame-bgcolor: var(--lwt-accent-color);

      &:-moz-window-inactive {
        --browser-frame-bgcolor: var(--lwt-accent-color-inactive, var(--lwt-accent-color));
      }
    }
  }

  /* Hide border below titlebar on macOS, as its titlebar already has a border. */
  @media (-moz-platform: macos) {
    :root[chromehidden~="toolbar"][chromehidden~="location"][chromehidden~="directories"] {
      border-top: none !important;
    }
  }

  /* Remove separator between toolbars and the browser window. */
  #navigator-toolbox {
    border-bottom: none !important;
  }
   /* Apply rounded corners to the browser container. */
  #appcontent .browserStack {
    margin-inline: var(--uc-tweak-rounded-corners-padding) !important;
    margin-block-end: var(--uc-tweak-rounded-corners-padding) !important;
    border-radius: var(--uc-tweak-rounded-corners-radius) !important;
    box-shadow: var(--uc-tweak-rounded-corners-shadow) !important;
    background-color: var(--tabpanel-background-color) !important;
    position: relative !important;

    /* Use pseudo element overlay to simulate rounded corners, similar to the
     * tab corners, fixes bug with backdrop-filter. */
    &::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      /* Draw toolbar background on the negative corner space, then draw the
       * same shadow from the browser window on top. */
      box-shadow:
        var(--uc-tweak-rounded-corners-shadow, 0 0 transparent),
        0 0 0 16px var(--browser-frame-bgcolor) !important;
      clip-path: inset(0);
      pointer-events: none;
    }
  }

  /* Prevent status panel corners and shadow from appearing outside the browser. */
  #statuspanel {
    overflow: hidden;
  }

  /* Apply rounded corners to sidebar. */
  #sidebar-box {
    margin-inline-start: var(--uc-tweak-rounded-corners-padding) !important;
    margin-block-end: var(--uc-tweak-rounded-corners-padding) !important;
    border-radius: var(--uc-tweak-rounded-corners-radius) !important;
    overflow: hidden !important;
    box-shadow: var(--uc-tweak-rounded-corners-shadow) !important;

    &[positionend] {
      margin-inline-start: 0 !important;
      margin-inline-end: var(--uc-tweak-rounded-corners-padding) !important;
    }
  }

  /* Devtools window when docked to the left or right. */
  .devtools-toolbox-side-iframe {
    margin-block-end: var(--uc-tweak-rounded-corners-padding) !important;
    border-radius: var(--uc-tweak-rounded-corners-radius) !important;
    overflow: hidden !important;
    box-shadow: var(--uc-tweak-rounded-corners-shadow) !important;

    /* Devtools window when docked to the left. */
    &:first-child {
      margin-inline-start: var(--uc-tweak-rounded-corners-padding) !important;
    }

    /* Devtools window when docked to the right. */
    &:last-child {
      margin-inline-end: var(--uc-tweak-rounded-corners-padding) !important;
    }
  }

  /* Devtools window when docked to the bottom. */
  .devtools-toolbox-bottom-iframe {
    margin: var(--uc-tweak-rounded-corners-padding) !important;
    margin-block-start: 0 !important;
    border-radius: var(--uc-tweak-rounded-corners-radius) !important;
    overflow: hidden !important;
    box-shadow: var(--uc-tweak-rounded-corners-shadow) !important;
  }

  /* Hide devtools splitter. */
  .devtools-side-splitter,
  .devtools-horizontal-splitter {
    background-color: transparent !important;
  }

  /* Remove sidebar border when not in full screen. */
  :not(:root[inFullscreen] #navigator-toolbox[style*="margin-top"]) + #browser #sidebar-splitter {
    border-inline-width: 0 !important;
  }

  /* Apply colour to the frame around the browser window. */
  #browser {
    background-color: var(--browser-frame-bgcolor);
  }

  /* Change colour of page when loading */
  #tabbrowser-tabpanels {
    background-color: transparent !important;
  }
}
/* Ensure that dark mode is enabled completely in private browsing mode. */
@media (-moz-bool-pref: "browser.theme.dark-private-windows") {
  :root[privatebrowsingmode="temporary"],
  :root[privatebrowsingmode="temporary"] #nav-bar,
  :root[privatebrowsingmode="temporary"] #PersonalToolbar {
    --toolbar-color-scheme: dark !important;
    --tab-selected-color-scheme: dark !important;
    color-scheme: dark !important;
  }
}
/* FF123+ tab preview pop-up.
 * CSS reference: https://searchfox.org/mozilla-central/source/browser/components/tabpreview/tabpreview.css
 * Requires `browser.tabs.cardPreview.enabled` set to `true` */
.tab-preview-container {
  background-color: var(--arrowpanel-background) !important;
  color: var(--arrowpanel-color) !important;
  border: 0.5px solid var(--panel-separator-color) !important;
  border-radius: 8.5px !important;

  /* Place thumbnail at the top of the tooltip. */
  display: flex !important;
  flex-direction: column-reverse !important;

  & .tab-preview-uri {
    color: var(--panel-description-color) !important;
  }
}
 @media (-moz-platform: macOS) {
      &:not([noicon]) > #titleCropper {
        translate: 0 calc(-1px - max(.55 * var(--icon-size) - .6em, 0px)) !important;
      }
    }
    .dialogBox:not(.spotlightBox) {
  border-radius: 8px !important;
  outline: 0.5px solid var(--panel-separator-color) !important;
  box-shadow:
    0 20px 38px rgb(0 0 0 / 0.23),
    0 5px 9px rgb(0 0 0 / 0.22) !important;
}

dialog {
  /* Dialog title. */
  & #titleContainer {
    /* Add larger gap between icon and title text. */
    & .titleIcon {
      padding-inline-end: 8px !important;
    }

    /* Match font style in Edge. */
    & #titleText {
      font-size: 1.18em !important;
      font-weight: 700 !important;
    }
  }
  :root {
  --toolbarbutton-border-radius: 4px !important;
  --toolbarbutton-inner-padding: 7px !important;
  --uc-toolbarbutton-inner-inline-padding: 12px !important;
  --toolbarbutton-outer-padding: 2px !important;
  --tabs-navbar-shadow-size: 0px !important;
}

#nav-bar .toolbarbutton-1>.toolbarbutton-icon {
  width: calc(2 * var(--uc-toolbarbutton-inner-inline-padding) + 16px) !important;
}

#nav-bar .toolbarbutton-1>.toolbarbutton-icon,
#nav-bar .toolbarbutton-1>.toolbarbutton-text,
#nav-bar .toolbarbutton-1>.toolbarbutton-badge-stack {
  padding-inline: var(--uc-toolbarbutton-inner-inline-padding) !important;
}

/* move reload/stop icon to middle of button */
#reload-button>.toolbarbutton-animatable-box,
#stop-button>.toolbarbutton-animatable-box {
  top: calc(50% - 10px) !important;
}

#nav-bar-customization-target :where(#reload-button, #stop-button)>.toolbarbutton-icon {
  padding: var(--toolbarbutton-inner-padding) var(--uc-toolbarbutton-inner-inline-padding) !important;
}

toolbar .toolbaritem-combined-buttons {
  margin-inline: var(--toolbarbutton-outer-padding) !important;
}

:root {
  /* Extra space at the top of the window. */
  --uc-tab-top-margin: 8px !important;

  /* Remove extra space at the top of the window when in fullscreen or when
   * title bars are enabled.
   */
  &[inFullscreen],
  &:not([tabsintitlebar]) {
    --uc-tab-top-margin: 0px !important;
  }

  /* Remove extra space at the top when the window is maximised or the menu bar
   * is active, only on platforms other than macOS.
   */
  @media not (-moz-platform: macos) {
    &[sizemode="maximized"],
    & #toolbar-menubar:not([inactive]) + #TabsToolbar,
    &:has(#toolbar-menubar:not([inactive])) {
      --uc-tab-top-margin: 0px !important;
    }
  }

  & #TabsToolbar {
    --tab-min-height: 32px !important;
    --inline-tab-padding: 11px !important;
    --uc-inline-pinned-tab-padding: 12px !important;
    --tab-border-radius: 4px !important;
    --toolbarbutton-inner-padding: 6px !important;
    --uc-toolbarbutton-inner-inline-padding: 8px !important;
    --toolbarbutton-border-radius: 4px !important;
    --tabs-navbar-shadow-size: 0px !important;
    --tab-shadow-max-size: 0 !important;
    --uc-tab-separator-height: 20px;
    --uc-toolbarbutton-block-margin: 2px;
  }
}

/* ::::: Tab transitions ::::: */

/* Tab grow/shrink transition. */
.tabbrowser-tab:not([pinned]) {
  transition-property: min-width, max-width !important;
  transition-duration: 150ms !important;
  transition-timing-function: cubic-bezier(0, .75, .25, 1) !important;
}

/* Tab moving transition. */
#tabbrowser-tabs[movingtab] > #tabbrowser-arrowscrollbox > .tabbrowser-tab[fadein]:not([selected]):not([multiselected]),
.tabbrowser-tab[tab-grouping],
.tabbrowser-tab[tabdrop-samewindow] {
  transition: transform 200ms cubic-bezier(0, .75, .25, 1) !important;
}

/* Remove tab toolbar background transition on inactive windows. */
#navigator-toolbox {
  transition: none !important;
}

/* ::::: Tabs toolbar & button appearance ::::: */
/* #region */

#TabsToolbar {
  /* Padding between the edge of the toolbar and its content. */
  padding-inline-start: 8px !important;

  /* Remove any existing margins from toolbar buttons. */
  & .toolbarbutton-1 {
    margin: 0 !important;
  }

  /* Tab toolbar button sizing. */
  & .toolbarbutton-1 > .toolbarbutton-icon,
  & .toolbarbutton-1 > .toolbarbutton-badge-stack {
    border-radius: var(--toolbarbutton-border-radius) !important;
    padding: var(--toolbarbutton-inner-padding) var(--uc-toolbarbutton-inner-inline-padding) !important;
    /* Add margin-block to buttons so they are positioned correctly. */
    margin: var(--uc-toolbarbutton-block-margin) 0 !important;
  }

  & .toolbarbutton-1 > .toolbarbutton-icon {
    width: calc(2 * var(--uc-toolbarbutton-inner-inline-padding) + 16px) !important;
    height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
  }

  /* Keep certain buttons (such as new tab) square shaped. */
  & #tabs-newtab-button > .toolbarbutton-icon,
  & #alltabs-button > .toolbarbutton-badge-stack,
  & #tabbrowser-tabs[hasadjacentnewtabbutton][overflow] ~ #new-tab-button > .toolbarbutton-icon {
    padding: var(--toolbarbutton-inner-padding) !important;
    width: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
  }

  /* Toolbar buttons should use the same colour as unselected tabs. */
  & .toolbarbutton-animatable-box,
  & .toolbarbutton-1 {
    fill: currentColor !important;
  }

  & #TabsToolbar-customization-target {
    /* Vertically align toolbar buttons to the bottom of the tab bar. */
    align-items: end !important;

    /* Reduce space between start of the window and first toolbar button. */
    & > .toolbarbutton-1:nth-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *)) {
      margin-inline-start: -2px !important;
    }

    /* Add space after the last toolbar button before the tabs. */
    & > .toolbarbutton-1:nth-last-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *)),
    :root[privatebrowsingmode] & > .toolbarbutton-1:nth-last-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *):not(#firefox-view-button)) {
      margin-inline-end: 4px !important;

      /* Reduces space between this button and the tab scroll button when
       * overflowed for consistency.
       */
      &:has(~ #tabbrowser-tabs[overflow]) {
        margin-inline-end: 2px !important;
      }
    }
  }
}

#tabbrowser-tabs {
  /* Remove the border from the left of the tab bar. */
  border-inline: none !important;
  padding-inline-start: var(--tab-overflow-pinned-tabs-width) !important;

  /* Add space above the tabs. */
  margin-top: var(--uc-tab-top-margin) !important;

  /* Pull tabs closer to toolbar buttons when overflowed. */
  &[overflow]:not([haspinnedtabs]) {
    margin-inline-start: -2px !important;
  }

  /* Remove gap between pinned and unpinned tabs. */
  &[haspinnedtabs]:not([positionpinnedtabs]) .tabbrowser-tab:nth-child(1 of :not([pinned], [hidden])) {
    margin-inline-start: 0 !important;
  }
}

/* Add space between last tab and new tab button. */
#tabbrowser-tabs #tabs-newtab-button {
  margin-inline-start: 2px !important;
}

/* Tab scrolling buttons. */
#scrollbutton-up:not(.menupopup-scrollbutton),
#scrollbutton-down:not(.menupopup-scrollbutton) {
  border-width: 2px !important;
  border-radius: calc(var(--toolbarbutton-border-radius) + 2px) !important;
  padding-inline: calc(var(--toolbarbutton-inner-padding) - 4px) !important;
  padding-block: var(--toolbarbutton-inner-padding) !important;
}

/* Add margin to the side of the button facing the tabs so the buttons line up
 * on the opposite side with others in the toolbar.
 */
#scrollbutton-up:not(.menupopup-scrollbutton) {
  margin-inline: 0 2px !important;
}

#scrollbutton-down:not(.menupopup-scrollbutton) {
  margin-inline: 2px 0 !important;
}

/* Hide pre-tabs spacer as it isn't needed. */
.titlebar-spacer[type="pre-tabs"] {
  display: none !important;
}

/* Make sure that the post-tabs spacer appears. */
.titlebar-spacer[type="post-tabs"] {
  display: flex !important;
}

/* macOS titlebar buttons positioning. */
@media (-moz-platform: macos) {
  /* Compensate for padding added to the Tabs Toolbar. */
  .titlebar-buttonbox-container {
    margin-inline-start: -8px !important;

    /* Make sure that titlebar buttons have equal spacing on all sides. */
    & .titlebar-buttonbox {
      margin-inline: calc((var(--tab-min-height) + var(--uc-tab-top-margin) - 14px) / 2) !important;
    }
  }
}


/* Linux titlebar button positioning. */
@media (-moz-platform: linux) {
  .titlebar-buttonbox-container {
    /* Add space between buttons and other toolbar buttons. */
    margin-inline: 8px 0 !important;

    @media (-moz-gtk-csd-reversed-placement) {
      /* Compensate for padding added to the Tabs Toolbar. */
      margin-inline: -8px 8px !important;
    }
  }
}
}
  /* Pinned tab padding. */
  &[pinned] {
    padding: 0 var(--uc-inline-pinned-tab-padding) !important;
  }

  /* Indicator for when the title of a pinned tab changes. */
  &[pinned][titlechanged]:not([selected]),
  .tabbrowser-tab:is([image], [pinned]) &[attention]:not([selected]) {
    background-position: center bottom 2px !important;
  }

/* Space between tab icons and the tab titles. */
.tab-throbber:not([pinned]),
.tab-icon-pending:not([pinned]),
.tab-icon-image:not([pinned]),
.tab-sharing-icon-overlay:not([pinned]) {
  margin-inline-end: calc(var(--inline-tab-padding) - 1px) !important;
}

/* Make sure that the tabs are the correct height. */
#tabbrowser-tabs .tab-label-container {
  height: var(--tab-min-height) !important;

  /* Hide tab audio indicator label. */
  & .tab-secondary-label {
    display: none !important;
  }
}

/* Tab close button styling. */
.tab-close-button {
  margin-inline-end: 8px !important;
  width: 17px !important;
  height: 17px !important;
  padding: 4px !important;
  border-radius: var(--toolbarbutton-border-radius) !important;
}
.tab-label-container:not([selected="true"], [multiselected]),
.tab-icon-stack[indicator-replaces-favicon] > :not(.tab-icon-overlay) {
  opacity: 1 !important;
}
/* Tab container indicator. */
.tabbrowser-tab[usercontextid] {
  & .tab-context-line {
    height: 2px !important;
    border-radius: 2px !important;
    margin: 2px 7px 0 !important;
  }

  &[selected] .tab-context-line {
    margin-inline: 9px !important;
  }
}
/* ::::: Tab background and bottom rounded corners ::::: */
/* #region */

.tab-background {
  border-radius: var(--tab-border-radius);
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
  margin-block: 0 !important;
  border: 0 !important;
  position: relative !important;
  --uc-tab-corner-bg: transparent;
  --uc-tab-corner-outline: transparent;

  /* Both rounded bottom corners. */
  &::before,
  &::after {
    content: "" !important;
    position: absolute !important;
    width: var(--tab-border-radius) !important;
    aspect-ratio: 1 / 1;
    bottom: 0 !important;
    pointer-events: none !important;
    clip-path: inset(0);
  }

  /* Bottom left corner. */
  &::before {
    border-bottom-right-radius: var(--tab-border-radius) !important;
    left: 0 !important;
    translate: calc(-1 * var(--tab-border-radius)) 0 !important;
    box-shadow:
      /* First shadow is a 1px outline for better theming support. */
      -1px -1px var(--uc-tab-corner-outline) inset,
      /* Second shadow is to add the background colour to the corner. */
      0 0 0 var(--tab-border-radius) var(--uc-tab-corner-bg) !important;
  }

  /* Bottom right corner. */
  &::after {
    border-bottom-left-radius: var(--tab-border-radius) !important;
    right: 0 !important;
    translate: var(--tab-border-radius) 0 !important;
    box-shadow:
      /* First shadow is a 1px outline for better theming support. */
      1px -1px var(--uc-tab-corner-outline) inset,
      /* Second shadow is to add the background colour to the corner. */
      0 0 0 var(--tab-border-radius) var(--uc-tab-corner-bg) !important;
  }

  /* Make sure that the bottom corners have the same background colour. */
  &:is([selected], [multiselected]) {
    --uc-tab-corner-bg: var(--tab-selected-bgcolor, var(--lwt-selected-tab-background-color, var(--toolbar-bgcolor)));
    --uc-tab-corner-outline: var(--lwt-tab-line-color, transparent);
    /* Disable tab outlines when selected. */
    outline: none !important;
  }

  /* Tab hover background colour. */
  .tabbrowser-tab:hover &:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 8%, transparent) !important;
    --uc-tab-corner-bg: color-mix(in srgb, currentColor 8%, transparent) !important;

    /* When in light mode, the hover colour should be white. */
    #TabsToolbar:not([brighttext]) & {
      background-color: rgb(255 255 255 / .3) !important;
      --uc-tab-corner-bg: rgb(255 255 255 / .3) !important;

      @media (-moz-bool-pref: "uc.tweak.floating-tabs") {
        background-color: var(--toolbar-bgcolor) !important;
        --uc-tab-corner-bg: var(--toolbar-bgcolor) !important;
      }
    }
  }

  /* When tabs are selected but not active, they should have a partially
   * transparent background.
   */
  #tabbrowser-tabs &[multiselected]:not([selected]) {
    box-shadow: none !important;
    opacity: 0.7 !important;
  }
   */
.tabbrowser-tab:is([selected], [multiselected]):not([hidden]) {
  & + .tabbrowser-tab .tab-background:not([selected]),
  & + .tabbrowser-tab[hidden] ~ .tabbrowser-tab:not([hidden]):is([hidden] + *) .tab-background:not([selected]) {
    border-bottom-left-radius: var(--tab-border-radius) !important;

    &::before {
      --uc-tab-corner-bg: transparent !important;
    }
  }}}
  /* ::::: Tab shadows ::::: */
/* #region */

/* Tab and toolbar shadows. */
:root,
:root  .tabbrowser-tab {
  /* Light mode shadows. */
  --uc-titlebar-shadow:
    0 -1px var(--tabs-navbar-shadow-color, transparent) inset,
    0 -3px 2px -3px rgb(0 0 0 / .2) inset;
  --uc-tab-shadow:
    0 0 0 1px var(--lwt-tab-line-color, transparent),
    0 4px 5px rgb(0 0 0 / .21),
    0 0px 2px rgb(0 0 0 / .18);

  & [brighttext],
  & [brighttext] .tabbrowser-tab {
    /* Dark mode shadows. */
    --uc-titlebar-shadow:
      0 -1px var(--tabs-navbar-shadow-color, transparent) inset,
      0 -3px 2px -3px rgb(0 0 0 / .7) inset;
    --uc-tab-shadow:
      0 0 0 1px var(--lwt-tab-line-color, transparent),
      0 5px 7px rgb(0 0 0 / .44),
      0 0px 2px rgb(0 0 0 / .7);
  }
}

/* Apply tab shadows. */
#tabbrowser-tabs .tab-background:is([selected], [multiselected]),
#TabsToolbar #firefox-view-button[open] > .toolbarbutton-icon {
  box-shadow: var(--uc-tab-shadow) !important;
}

/* Apply toolbar shadows. */
#TabsToolbar {
  box-shadow: var(--uc-titlebar-shadow) !important;
}

/* Prevent interference with context menu arrowscrollbox. */
#tabbrowser-arrowscrollbox {
  --uc-padding-top: 4px;
  --uc-margin-top: -4px;
  --uc-padding-inline-end: var(--tab-border-radius)
}

/* Make room for the tab shadows so they aren't clipped at the top. */
.scrollbox-clip > scrollbox {
  padding-top: var(--uc-padding-top, 0) !important;
  margin-top: var(--uc-margin-top, 0) !important;
  /* Used to fix tab overflow issue with rounded corners. */
  padding-inline-end: var(--uc-padding-inline-end, 0) !important;
}

/* Add some room horizontally for the tab shadows and rounded corners. */
#tabbrowser-tabs {
  &:not([overflow]) {
    margin-inline-start: -8px !important;
    margin-inline-end: calc(-1 * var(--tab-border-radius)) !important;

    #tabbrowser-arrowscrollbox .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden])) {
      margin-inline-start: 8px !important;
    }
  }
}

/* Clip the bottom of the tabs so the shadows don't bleed into other areas. */
#tabbrowser-tabs[positionpinnedtabs] > #tabbrowser-arrowscrollbox > .tabbrowser-tab[pinned] {
  clip-path: inset(-8px -8px 0) !important;
}
/* ::::: Private browsing indicator ::::: */
/* #region */

:root[privatebrowsingmode="temporary"] {
  /* Move the other content in the Tabs Toolbar in-front of the indicator. */
  & #TabsToolbar .toolbar-items,
  & #TabsToolbar .titlebar-buttonbox-container {
    position: relative;
    z-index: 1;
  }

  /* Hide the post tab spacer as it is not needed. */
  .titlebar-spacer[type="post-tabs"] {
    display: none !important;
  }
}

/* String for the custom label. */
:root,
:root[lang^="en"] {
  --uc-string-private: "Private";
}

/* Appearance & sizing for the private browsing indicator. */
#private-browsing-indicator-with-label {
  position: relative !important;
  isolation: isolate;
  font-size: 12px;

  /* Allow space for the gradient to underlay other toolbar items. */
  margin-inline: -16px -16px !important;
  padding-inline: 32px 24px !important;
  color: var(--button-primary-color, var(--toolbar-bgcolor)) !important;
  text-shadow: none !important;
  background: var(--uc-gradient);
  --uc-bg-color: var(--button-primary-bgcolor, var(--toolbarbutton-icon-fill-attention));

  /* Primay gradient, fades to transparent on the left. */
  --uc-gradient: linear-gradient(to right, transparent, var(--uc-bg-color) 35%);

  /* Alternate gradient, fades to transparent on both sides. */
  --uc-gradient-alt: linear-gradient(to right, transparent, var(--uc-bg-color) 25%, var(--uc-bg-color) 75%, transparent);

  /* If the titlebar buttons are on the right, then use the alternate gradient
   * if the menu bar is not permanently enabled.
   */
  @media (-moz-platform: windows),
  (-moz-gtk-csd-available) and (not (-moz-gtk-csd-reversed-placement)) {
    :root[tabsintitlebar] #toolbar-menubar:not([autohide="false"]) ~ #TabsToolbar & {
      background: var(--uc-gradient-alt);
    }
  }

  /* Private browsing icon size. */
  & .private-browsing-indicator-icon {
    height: 24px !important;
    width: 24px !important;
  }

  /* Change "Private Browsing" text to "Private" (English locale only). */
  :root:is([lang^="en"]) & {
    /* Hide original label. */
    & > label {
      display: none !important;
    }

    /* Add custom "Private" label. */
    &::after {
      content: var(--uc-string-private);
      margin-block: 1px 2px;
      margin-inline: 6px 5px;
    }
  }
}