@import url(uc-globals.css);
@import url(resources/in-content/root.css);
@import url(resources/in-content/menus.css);
@import url(resources/in-content/devtools.css);
@import url(resources/in-content/picture-in-picture.css);
@import url(resources/in-content/library.css);
@import url(resources/in-content/downloads.css);
@import url(resources/in-content/system.css);
@import url(resources/in-content/ext-containers.css);
@import url(resources/in-content/ext-darkreader.css);
@import url(resources/in-content/ext-mdm.css);
@import url(resources/in-content/ext-bitwarden.css);
@import url(resources/in-content/ext-ublock.css);
@import url(resources/in-content/ext-tabnotes.css);
@import url(resources/in-content/ext-firefoxnotes.css);
@import url(resources/in-content/ext-sortbookmarks.css);
@import url(resources/in-content/ext-privatebookmarks.css);
/*@import url(components/onetab-darknew.css);
@import url(components/circular_homepage_shortcuts.css);*/
@import url(components/mozilla.css);
@import url(addons.css);
@import url(components/addons.css);

/*  https://github.com/Godiesc/opera-gx
@import url(components/one_root-personal.css);
@import url(components/one_UC-newtabpage.css);
@import url(components/one_UC-settings-addons-pages.css);
@import url(components/one_UC-addons-store.css);*/

/* Change the purple color in private windows */
html.private {
  --in-content-page-background: #6f00b9b7 !important;
}

/* Spill style. Modifications for userContent file */

:root {
  --firefoxcss-item-bg-color: hsla(240, 2%, 45%, 0.4) !important;
  --firefoxcss-item-hover-bg-color: hsl(240, 2%, 55%, 0.4) !important;
  --firefoxcss-settings-wheel-color: hsla(240, 20%, 80%, 0.6) !important;
  --firefoxcss-settings-wheel-color-hover: hsla(240, 20%, 80%, 0.9) !important;
}

@-moz-document url("about:privatebrowsing") {

  #search-handoff-button {
    background-color: hsla(267, 91%, 28%, 0.276) !important;
    border-top: 1px solid hsla(264, 37%, 48%, 0.2) !important;
    fill: hsl(266, 74%, 33%) !important;
    backdrop-filter: blur(24px) !important;
  }

  #search-handoff-button:hover,
  #search-handoff-button:focus,
  #search-handoff-button:active {
    background-color: hsla(290, 21%, 45%, 0.2) !important;
    border-top: 1px solid hsla(290, 21%, 55%, 0.2) !important;
    fill: hsl(270, 97%, 38%) !important;
  }

  #search-handoff-button .fake-textbox {
    color: hsla(267, 98%, 40%, 0.417) !important;
  }

  #search-handoff-button:active>.fake-textbox,
  #search-handoff-button:hover>.fake-textbox,
  #search-handoff-button:focus>.fake-textbox {
    color: hsl(290, 21%, 70%) !important;
  }
}


/* Wallapaper edition. Change wallpaper.jpg to wallpaper.png if used different file extension */
@-moz-document url("about:home"),
url("about:newtab") {

  .outer-wrapper .search-wrapper .search-handoff-button {
    -webkit-backdrop-filter: blur(24px) !important;
    backdrop-filter: blur(24px) !important;
    border-top: 1px solid hsla(0, 0%, 70%, 0.135) !important;
    fill: hsla(0, 0%, 100%, 0.6) !important;
    border: 1px solid #0000001c !important;
  }

  .outer-wrapper .logo-and-wordmark .wordmark {
    filter: drop-shadow(0px 1px 1px hsl(0, 0%, 0%));
  }

  #root .outer-wrapper .body-wrapper .tile {
    backdrop-filter: unset !important;
    border-top: 0px solid hsla(0, 0%, 100%, 0) !important;
    border-bottom: 0px solid hsla(0, 0%, 100%, 0) !important;
    background-color: hsla(0, 0%, 11%, 0.6) !important;
    border-bottom-left-radius: 0px !important;
    border-bottom-right-radius: 0px !important;
    border: 0px !important;
    box-shadow: none !important;
    margin-left: 0px !important;
    margin-right: 0px !important;
    width: 100% !important;
    border-bottom: 1px solid color-mix(in srgb, currentColor 10%, transparent) !important;
  }

  .outer-wrapper .search-inner-wrapper:hover .search-handoff-button {
    background-color: var(--firefoxcss-item-hover-bg-color) !important;
    border-top: 1px solid hsla(0, 0%, 48%, 0.3) !important;
    fill: rgba(251, 251, 254, 0.8) !important;
  }

  #root .outer-wrapper .body-wrapper .top-site-button:hover .tile {
    border-top: 0px !important;
    background-color: hsla(0, 0%, 16%, 0.4) !important;
  }

  .outer-wrapper .top-site-outer .top-site-button .title {
    opacity: 0.8 !important;
    /* text-shadow: 0px 0px 1px #000 !important;8*/
    text-shadow: 0 0 1px black, 0 0 1px black, 0 0 1px black, 0 0 1px black !important;
  }

  .outer-wrapper .top-site-outer .top-site-inner {
    backdrop-filter: blur(24px) !important;
    background-color: hsla(0, 0%, 13%, 0.5) !important;
    border-radius: 10px !important;
    border: 1px solid #ffffff17 !important;
    box-shadow: 0 1px 1px hsl(0deg 0% 0% / 0.075),
      0 2px 2px hsl(0deg 0% 0% / 0.075), 0 4px 4px hsl(0deg 0% 0% / 0.075),
      0 8px 8px hsl(0deg 0% 0% / 0.075), 0 16px 16px hsl(0deg 0% 0% / 0.075) !important;
    /* 1px solid #33333329 !important  */
  }

  .outer-wrapper .body-wrapper .top-site-inner:hover {
    background-color: hsla(0, 0%, 15%, 0.5) !important;
  }

  .outer-wrapper .search-wrapper .search-handoff-button .fake-textbox {
    opacity: 0.6 !important;
  }

  .outer-wrapper .context-menu-button.icon,
  .card-outer .context-menu-button.icon {
    filter: drop-shadow(0px 1px 1px hsl(0, 0%, 0%));
  }

  .outer-wrapper .context-menu-button.icon:hover,
  .card-outer .context-menu-button.icon:hover {
    transform: scale(1.2);
  }

  .outer-wrapper .top-sites-list:not(.dnd-active) .top-site-outer:is(.active, :focus) {
    z-index: 8;
    position: relative;
    background-color: transparent !important;
  }
}

/* prevent white flash during page load */
@-moz-document url(chrome://browser/content/browser.xhtml) {

  #main-window,
  browser[type="content-primary"],
  browser[type="content"],
  tabbrowser#content,
  #content,
  browser[type="content"]>html {
    background: #00000000 !important;
  }
}

/**** New ****/

@-moz-document url(about:newtab),
url(about:home) {
  .outer-wrapper::before {
    /* I don't know what I'm doing here but this works */
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    /* Adjust this to your needs. */
    backdrop-filter: blur(15px) brightness(90%);
  }

  .outer-wrapper {
    background-size: cover !important;
    background-repeat: no-repeat !important;
    background-position: 0% 0 !important;
    transition: background-position 1s ease-in-out !important;
  }

  /* hacks */
  :root[lwt-newtab-brighttext] {
    --newtab-background-color: #fff0 !important;
    --newtab-background-color-secondary: #ffffff00 !important;
  }

  :root {
    --newtab-background-color: #fff0 !important;
    --newtab-background-color-secondary: #fff0 !important;
    --newtab-overlay-color: #fff0 !important;
  }

  /* salvage readability */
  .section-title {
    text-shadow: 1px 1px 1px #222;
  }

  .personalize-button {
    z-index: 1;
  }

  .card {
    backdrop-filter: brightness(70%);
  }

  .modal-overlay {
    backdrop-filter: blur(15px) brightness(80%);
  }

  .modal {
    backdrop-filter: blur(15px) brightness(80%);
  }

  .section-empty-state {
    backdrop-filter: brightness(80%);
  }

  .top-site-outer .context-menu-button {
    backdrop-filter: blur(15px);
  }

  .card-outer {
    border: 2px solid #ffffff1f;
  }

  .top-site-outer .tile {
    /*! background-color: var(--newtab-background-color-secondary); */
    backdrop-filter: blur(15px) brightness(80%);
    border: 2px solid #ffffff1f;
  }

  .customize-menu {
    backdrop-filter: blur(15px) brightness(90%);
  }

  .modalOverlayOuter {
    backdrop-filter: blur(15px) brightness(69%);
  }

  .context-menu {
    /*! background: var(--newtab-background-color-secondary); */
    z-index: 10;
    backdrop-filter: blur(15px) brightness(90%);
  }

  .logo-and-wordmark {
    width: 512px;

    margin-left: auto;
    margin-right: auto;

    border: 2px solid #ffffff0f;
    border-radius: 12px;
    backdrop-filter: blur(32px);

    padding-top: 50px;
    padding-bottom: 50px;
  }

  .search-handoff-button {
    display: none !important;
  }

  .click-target-container *,
  .top-sites-list * {
    color: #fff !important;
    text-shadow: 2px 2px 2px #222 !important;
  }
}

/* colours */
:root {
  --in-content-primary-button-text-color: rgb(255, 255, 255) !important;
  --in-content-primary-button-background: #0055D7 !important;
  --in-content-primary-button-background-hover: #0960e4 !important;
  --in-content-primary-button-background-active: #0751be !important;
}

@-moz-document url-prefix(about:) {
  :root {

    --newtab-primary-element-text-color: rgba(251, 251, 254, 1) !important;
    --in-content-page-color: light-dark(var(--newtab-background-color), #fff) !important;
    --in-content-page-background: light-dark(#f7f7f7, var(--newtab-background-color)) !important;
    --in-content-deemphasized-text: light-dark(#666, #bbb) !important;
    --in-content-box-background: light-dark(#fff, #333) !important;
    --in-content-box-background-odd: light-dark(rgb(0 0 0 / .05), rgb(255 255 255 / .05)) !important;
    --in-content-box-info-background: light-dark(#f7f7f7, rgb(255 255 255 / 0.15)) !important;
    --in-content-icon-color: light-dark(#666, #fff) !important;
    --in-content-accent-color: light-dark(#006CBE, #3c90ff) !important;
    --in-content-accent-color-active: light-dark(#1683D8, #4C98D1) !important;
    --in-content-border-hover: light-dark(rgb(0 0 0 / .5), rgb(255 255 255 / .3)) !important;
    --in-content-border-invalid: var(--red-50) !important;
    --in-content-border-color: light-dark(#bebebe, rgb(255 255 255 / .2)) !important;
    --in-content-error-text-color: light-dark(#FF848A, #FF9AA2) !important;
    --in-content-link-color: light-dark(#0078D4, #3c90ff) !important;
    /* --in-content-link-color-hover: light-dark(#006CBE, #63ADE5) !important; */
    --in-content-link-color-hover: light-dark(#006CBE, #0078d4) !important;
    --in-content-link-color-active: light-dark(#0749AC, #4C98D1) !important;
    --in-content-link-color-visited: light-dark(#0078D4, #3c90ff) !important;
    --link-color: var(--in-content-link-color) !important;
    --link-color-hover: var(--in-content-link-color-hover) !important;
    --link-color-active: var(--in-content-link-color-active) !important;
    --link-color-visited: var(--in-content-link-color-visited) !important;
    --in-content-button-text-color: var(--in-content-text-color) !important;
    --in-content-button-text-color-hover: var(--in-content-text-color) !important;
    --in-content-button-text-color-active: var(--in-content-button-text-color-hover) !important;
    --in-content-button-background: light-dark(#EDEDED, #3B3B3B) !important;
    --in-content-button-background-hover: light-dark(#e5e5e5, #545454) !important;
    --in-content-button-background-active: light-dark(#d5d5d5, #606060) !important;
    --in-content-primary-button-text-color: light-dark(#fff, #fff) !important;
    --in-content-danger-button-background: light-dark(#DF4951, #E12424) !important;
    --in-content-danger-button-background-hover: light-dark(#EA656C, #F94343) !important;
    --in-content-danger-button-background-active: light-dark(#BB353C, #AA1E1E) !important;
    /* --in-content-focus-outline-color: light-dark(rgb(0 85 215 / .5), #63ADE5) !important; */
    --in-content-focus-outline-color: light-dark(rgb(0 85 215 / .5), #0078d4) !important;
    --focus-outline-color: var(--in-content-focus-outline-color) !important;
    --in-content-table-background: light-dark(#f7f7f7, var(--newtab-background-color)) !important;
    --in-content-text-color: var(--in-content-page-color) !important;
    scrollbar-color: light-dark(rgb(37 37 37 / .4), rgb(255 255 255 / .4)) light-dark(#f7f7f7, var(--newtab-background-color)) !important;
  }

  #translations-manage-install-list,
  #handlersView,
  #handlersViewHeader,
  #engineList,
  .web-appearance-choice-image-container,
  treecol:not([hideheader="true"]),
  input:where([type="email"], [type="tel"], [type="text"], [type="password"], [type="url"], [type="number"]),
  textarea,
  search-textbox {
    background-color: transparent !important;
  }

  .customize-menu .close-button-wrapper {
    background-color: transparent !important;
  }

  @media (prefers-color-scheme: dark) {

    button:not(.ghost-button):not(.wallpapers-reset):not(.arrow-button):not(.enable-custom-image-input):not(.external-link):not(.context-menu-button.icon):not(.toggle-button):not(.category):not([role="menuitem"]):not(button[class*='devtools']):not(button[id*='toolbox']),
    menulist {
      border: 1px solid #44434f !important;
      background-color: light-dark(#EDEDED, #35343e) !important;
    }

    button:hover:not(.ghost-button):not(.wallpapers-reset):not(.arrow-button):not(.enable-custom-image-input):not(.external-link):not(.context-menu-button.icon):not(.toggle-button):not(.category):not([role="menuitem"]):not(button[class*='devtools']):not(button[id*='toolbox']),
    menulist {
      border: 1px solid #4c4b57 !important;
      background-color: light-dark(#EDEDED, #393842) !important;
    }

    button:hover:active:not(.ghost-button):not(.wallpapers-reset):not(.arrow-button):not(.enable-custom-image-input):not(.external-link):not(.context-menu-button.icon):not(.toggle-button):not(.category):not([role="menuitem"]):not(button[class*='devtools']):not(button[id*='toolbox']),
    menulist {
      border: 1px solid #4c4b57 !important;
      background-color: light-dark(#EDEDED, #403f49) !important;
    }

    button:active:not(.ghost-button):not(.wallpapers-reset):not(.arrow-button):not(.enable-custom-image-input):not(.external-link):not(.context-menu-button.icon):not(.toggle-button):not(.category):not([role="menuitem"]):not(button[class*='devtools']):not(button[id*='toolbox']),
    menulist {
      border: 1px solid #44434f !important;
      background-color: light-dark(#EDEDED, #2d2c35) !important;
    }

    .customize-menu {
      background-color: light-dark(#fff, rgb(28, 27, 34)) !important;
    }
  }
}


/* preferences */
@-moz-document url-prefix("about:preferences"),
url-prefix("about:preferences#"),
url-prefix("about:addons"),
url-prefix("about:config") {
  table#prefs {
    background: transparent !important;
  }

  .card {
    background: light-dark(#fff, #33333e) !important;
  }

  @media (prefers-color-scheme: dark) {

    .sticky-container,
    .table-shown #toolbar {
      background: #1c1b22 !important;
    }
  }

  @media (prefers-color-scheme: light) {

    .sticky-container,
    .table-shown #toolbar {
      background: #ffffff !important;
    }
  }



  .category[selected] {
    position: relative !important;
    border-radius: 4px !important;
  }

  .category[selected]:not(:hover, :active) {
    background-color: var(--in-content-button-background) !important;
  }

  .category[selected]::before {
    content: "";
    display: block;
    height: 24px;
    width: 3px;
    background-color: var(--in-content-accent-color);
    border-radius: 3px;
    position: absolute;
    left: 2px;
    top: 50%;
    translate: 0 -50%;
  }

  button.tab-button:hover {
    border-block-color: transparent var(--in-content-box-border-color) !important;
  }

  button.tab-button[selected],
  button.tab-button[selected]:hover {
    border-block-color: transparent currentColor !important;
  }

}

/* fix page flashes when loading some websites */
@-moz-document url("about:newtab"),
url("about:blank"),
url("about:home") {
  body {
    background: var(--in-content-page-background);
    color: var(--in-content-page-color);
  }
}

@-moz-document url(about:newtab),
url(about:home) {

  /* Changes the logo on the about:home screen */
  .search-wrapper .logo-and-wordmark .logo {
    background: url('../icons/firefox-logo.svg') !important;
  }

  .search-wrapper .logo-and-wordmark::after {
    content: "plus";
    font-size: 16px;
    margin-top: -8px;
    margin-left: 4px;
    opacity: 0.8;
  }

}



@-moz-document url("about:home"),
url("about:newtab") {
  body.activity-stream .outer-wrapper .top-sites-list .top-site-outer {
    padding: 20px 20px 4px !important;
    position: relative;
    margin-block-end: 0 !important
  }

  body.darkWallpaper .outer-wrapper .top-sites-list .top-site-outer:after,
  body.lightWallpaper .outer-wrapper .top-sites-list .top-site-outer:after {
    content: "";
    background: rgba(255, 255, 255, 0.15);
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    position: absolute;
    z-index: -1;
    margin: 10px;
    border-radius: 8px;
    backdrop-filter: blur(6px);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);

  }

  body.activity-stream .outer-wrapper .top-sites-list:not(.dnd-active) .top-site-outer:is(.active, :focus, :hover):after {
    background: rgba(255, 255, 255, 0) !important;
    box-shadow: none !important;
    backdrop-filter: blur(6px);
    margin: auto;
  }

  body.activity-stream .outer-wrapper .top-sites-list:not(.dnd-active) .top-site-outer:is(.active, :focus, :hover) {
    background: rgba(255, 255, 255, 0.1) !important;
  }

  /* Firefox 124.0+ fix for homepage top-sites-list */
  #root .top-site-outer .top-site-inner>a {
    padding: 0 !important;
  }

  #root .top-site-outer .tile .icon-wrapper,
  #root .outer-wrapper .top-site-outer .top-site-inner,
  #root .outer-wrapper .top-site-outer .top-site-inner .tile {
    border-radius: 50% !important;

  }

  .top-site-outer .context-menu-button {
    transform: rotate(90deg);
    right: -20px !important;
    top: -16px !important;
    background-color: transparent !important;
  }

  .top-site-outer .context-menu-button:is(:active, :focus) {
    fill: light-dark(#000, #fff) !important
  }

  .outer-wrapper .body-wrapper .top-site-outer .top-site-inner .tile {
    border-bottom: 1px solid #ffffff12 !important;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.35) !important;
  }

  #root .outer-wrapper .top-site-outer .default-icon {
    background-size: 48px !important;
    height: 72px !important;
    width: 72px !important;
  }

  #root .top-site-outer .tile .icon-wrapper {
    width: 72px !important;
    height: 72px !important;
  }

  .top-site-outer .tile .icon-wrapper.letter-fallback::before {
    font-size: 48px !important;
    top: -3px !important;
  }

  /* Wallpapers selector */
  .wallpaper-list {
    margin: 0 !important;
  }

  .wallpaper-list.category {
    background-color: rgba(66, 65, 77, 0.43) !important;
    height: 100%;
    inset-inline-start: 25px;
    position: absolute;
    top: 0;
    inset-inline-start: 0 !important;
    left: 0;
    bottom: 0;
    right: 0;
    width: 100% !important;
    backdrop-filter: blur(12px);
  }

}