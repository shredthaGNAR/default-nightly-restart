@import url(uc-globals.css);
@import url(uc-tabs.css);
@import url(uc-panels.css);
@import url(uc-app-menu.css);
@import url(uc-findbar.css);
@import url(uc-ctrl-tab.css);
@import url(uc-bookmarks.css);
@import url(resources/in-content/library.css);
@import url(resources/in-content/downloads.css);
@import url(uc-popups.css);
@import url(uc-search-mode-icons.css);
@import url(uc-extensions.css);
@import url(uc-unified-extensions.css);
@import url(uc-sidebar.css);
@import url(uc-misc.css);
@import url(uc-search-one-offs.css);
@import url(uc-context-menus.css);
@import url(addons.css);
@import url(components/colored_soundplaying_tab.css);
@import url(components/search_bar_transparent_background.css);
@import url(components/url_bar_no_border.css);
@import url(components/autohide_sidebar.css);
/*@import url(components/dark_additional_windows.css);*/
@import url(components/overlay_tab_audio_icons.css);
@import url(components/urlbar_container_color_border.css);
@import url(components/integrated_searchbar_popup.css);
@import url(components/tab_closing_animation.css);
/*@import url(components/centered_tab_content.css);
/*@import url(components/tab_line_loading_indicator.css);*/
@import url(components/autohide_bookmarks_toolbar.css);
@import url(custom-chrome.css);

/* Remove Tab When Only One */
#tabbrowser-tabs tab:first-of-type:last-of-type {
  visibility: collapse !important;
}

/* Add all around shadow-looks like an Outline */
.tabbrowser-tab[selected] .tab-icon-image {
  filter:
    drop-shadow(1px 0 0 white) drop-shadow(-1px 0 0 white) drop-shadow(0 1px 0 white) drop-shadow(0 -1px 0 white) !important;
  border-radius: 15% !important;
}

/* Bookmarks bar background color */
#PersonalToolbar {
  background-color: transparent !important;
  -webkit-backdrop-filter: blur(24px) !important;
  backdrop-filter: blur(24px) !important;
  appearance: menupopup !important;
}

/* Remove empty space from tabs bar*/
#TabsToolbar .titlebar-spacer[type="pre-tabs"],
#TabsToolbar .titlebar-spacer[type="post-tabs"],
#TabsToolbar .titlebar-spacer,
/* Private browser icons remove and change main menu to purple */
#private-browsing-indicator-with-label,
.private-browsing-indicator {
  display: none !important;
}

.tabbrowser-tab .tab-label-container .tab-label {
  transition: color 250ms ease !important;
}

.tabbrowser-tab[fadein]:not([style^="max-width"]) {
  max-width: 100vw !important
}

/*
 #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected])>.tab-stack>.tab-background:not(:-moz-lwtheme) {
     box-shadow: 0 0 4px rgba(128, 128, 142, 0.5) !important;
 }

 #TabsToolbar:not([brighttext]) #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected])>.tab-stack>.tab-background:not(:-moz-lwtheme) {
     box-shadow: 0 0 1px var(--tab-line-color, rgba(128, 128, 142, 0.9)), 0 0 4px rgba(128, 128, 142, 0.5) !important;
 }

 :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme),
 :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) {
     --focus-outline-color: AccentColor !important;
 }

 :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme) #urlbar[open]>#urlbar-background,
 :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) #urlbar[open]>#urlbar-background {
     border-color: color-mix(in srgb,
             AccentColor 50%,
             transparent) !important;}
     /* Like: --toolbar-field-focus-border-color */

#private-browsing-indicator-with-label,
.private-browsing-indicator {
  display: none
}

:root[privatebrowsingmode="temporary"] #PanelUI-menu-button {
  list-style-image: url("chrome://global/skin/icons/indicator-private-browsing.svg") !important;
}

/* This style simply makes the tab stay visible while it is being closed as well as makes the transition a bit slower */

.tabbrowser-tab:not([pinned], [fadein]) {
  transition-duration: 240ms, 240ms !important;
  transition-timing-function: ease-out, ease-out !important;
  visibility: visible !important;
}

.tab-content:not([fadein], [pinned]) .tab-icon-pending:not([fadein]),
.tab-icon-image:not([fadein]),
.tab-label:not([fadein]) {
  visibility: visible !important;
}

.tab-label:not([fadein]) {
  display: flex !important;
}

/*Makes black favicons more visible on dark background, contrast will be lowered though*/
.tab-icon-image {
  filter: invert(40%) contrast(250%) saturate(250%) !important;
}


.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected=true], [multiselected]) {
  background-color: color-mix(in srgb, currentColor 17%, transparent) !important;
}

.tabbrowser-tab:not(:hover)>.tab-stack>.tab-background:not([selected], [multiselected]) {
  background-color: color-mix(in srgb, currentColor 11%, transparent);
}

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
  background-color: color-mix(in srgb, currentColor 17%, transparent) !important;
}

/* Turn tabs playing audio gold*/

.tabbrowser-tab[soundplaying] .tab-background {

  background-color: rgb(20, 151, 114) !important;

}

#tabbrowser-tabs .tab-background:is([selected], [multiselected]),
#TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon {
  box-shadow: var(--uc-tab-shadow) !important;
}

#titlebar {
  box-shadow: var(--uc-titlebar-shadow) !important;
}

#tabbrowser-tabs[closebuttons="activetab"] .tabbrowser-tab .tab-label-container {
  --tab-label-mask-size: 2em !important;
}

/* need layout.css.has-selector.enabled*/
.tabbrowser-tab:has(+ .tabbrowser-tab:is([selected="true"], :hover, [beforeselected-visible], [beforehovered])) .tab-stack::after {
  display: none;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.titlebar-spacer[type="post-tabs"] {
  display: flex !important;
}

.titlebar-spacer[type="pre-tabs"],
.private-browsing-indicator {
  display: none !important;
}

#TabsToolbar .toolbarbutton-animatable-box,
#TabsToolbar .toolbarbutton-1 {
  fill: currentColor !important;
}


:root:not(:-moz-lwtheme) #navigator-toolbox:-moz-window-inactive {
  background-color: var(--lwt-accent-color-inactive, var(--lwt-accent-color)) !important;
}

/*
 .tab-background {
     border-radius: var(--tab-border-radius);
     border-bottom-left-radius: 8px !important;
     border-bottom-right-radius: 8px !important;
     margin-block: 0 !important;
     border: 0 !important;
     position: relative !important;
     --uc-tab-corner-bg: transparent;
 }

 /* rounded bottom corners*/
.tab-background::before,
.tab-background::after {
  content: "" !important;
  display: block !important;
  position: absolute !important;
  width: 8px !important;
  height: 8px !important;
  bottom: 0 !important;
  pointer-events: none !important;
  clip-path: inset(0);
}

.tab-background::before {
  border-bottom-right-radius: var(--tab-border-radius) !important;
  left: 0 !important;
  transform: translateX(-8px) !important;
  box-shadow: 4px 4px 0 4px var(--uc-tab-corner-bg) !important;
}

.tab-background::after {
  border-bottom-left-radius: var(--tab-border-radius) !important;
  right: 0 !important;
  transform: translateX(8px) !important;
  box-shadow: -4px 4px 0 4px var(--uc-tab-corner-bg) !important;
}

/* tab open/close transition */
.tabbrowser-tab:not([pinned]) {
  transition-property: min-width, max-width !important;
  transition-duration: 150ms !important;
  transition-timing-function: cubic-bezier(0, .75, .25, 1) !important;
}

#tabbrowser-tabs[movingtab]>#tabbrowser-arrowscrollbox>.tabbrowser-tab[fadein]:not([selected]):not([multiselected]),
.tabbrowser-tab[tab-grouping],
.tabbrowser-tab[tabdrop-samewindow] {
  transition: transform 200ms cubic-bezier(0, .75, .25, 1) !important;
}


:root:is([inFullscreen], :not([tabsintitlebar])) #titlebar {
  --tab-block-margin: 0px !important;
}

:root #titlebar {
  --tab-border-radius: 10px !important;
  --uc-toolbarbutton-inner-padding: 6px !important;
  --toolbarbutton-tabsline-border-radius: 8px !important;
  --tabs-navbar-shadow-size: 0 !important;
  --tab-shadow-max-size: 0 !important;
}

/* button background transition */
@media not (prefers-reduced-motion) {

  .toolbarbutton-1>.toolbarbutton-icon,
  .toolbarbutton-1>.toolbarbutton-text,
  .toolbarbutton-1>.toolbarbutton-badge-stack,
  :not(.panel-subview-body>toolbaritem)>.bookmark-item:not(menu, menuitem),
  .urlbar-page-action,
  .identity-box-button,
  #tracking-protection-icon-container,
  panel button,
  panel menulist,
  .titlebar-button {
    transition: background-color 0.25s ease !important;
  }

  .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-icon,
  .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-text,
  .toolbarbutton-1:not([disabled=true]):is([open], [checked], :hover:active)>.toolbarbutton-badge-stack,
  :not(.panel-subview-body>toolbaritem)>.bookmark-item:not(menu, menuitem):not([disabled=true]):is([open], [checked], :hover:active),
  .urlbar-page-action:not([disabled=true]):is([open], [checked], :hover:active),
  .identity-box-button:not([disabled=true]):is([open], [checked], :hover:active),
  #tracking-protection-icon-container:not([disabled=true]):is([open], [checked], :hover:active),
  panel button:not([disabled=true]):is([open], [checked], :hover:active),
  panel menulist:not([disabled=true]):is([open], [checked], :hover:active),
  .titlebar-button:not([disabled=true]):hover:active {
    transition-duration: 0s !important;
  }
}

/* remove background from urlbar box */
#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:not(:hover, [open]),
#identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:not(:hover, [open]),
#identity-box[pageproxystate="valid"].extensionPage>.identity-box-button:not(:hover, [open]) {
  background-color: transparent !important;
}

#urlbar[open]>#urlbar-background {
  border-color: transparent !important;
  box-shadow: 0 10px 16px rgba(0, 0, 0, 0.437), 0 0 1px rgba(0, 0, 0, 0.495) !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  box-shadow: 3px 0 var(--toolbar-field-focus-border-color) inset !important;
}


:root #titlebar {
  --tab-block-margin: 4px !important;
}

/* Remove empty space from tabs bar */
#TabsToolbar .titlebar-spacer[type="pre-tabs"],
#TabsToolbar .titlebar-spacer[type="post-tabs"],
#TabsToolbar .titlebar-spacer,
/* Remove Line above search engine selection in search bar */
#urlbar .search-one-offs .search-panel-one-offs-header-label,
/* Remove lefover window buttons from extra menu bar (when pressing alt)*/
#titlebar #toolbar-menubar .titlebar-buttonbox-container,
/* Private browser icons remove and change main menu to purple */
#private-browsing-indicator-with-label,
.private-browsing-indicator,
/* Hide tracking protection icon from Search Bar */
#tracking-protection-icon-container,
/* Hide permission icons, see it when pressing permission button */
#blocked-permissions-container {
  display: none !important;
}

/* Remove right and left side tab overflow border line */
#scrollbutton-up~spacer {
  border-color: transparent !important;
}

.tabbrowser-tab[selected="true"] .tab-icon-image {
  /* Your CSS properties for the selected tab's icon here */
  filter: grayscale(0%) opacity(100%) brightness(100%) drop-shadow(3px 3px rgba(36, 36, 36, 0.757)) !important
}


:root[tabsintitlebar] #titlebar:-moz-window-inactive {
  opacity: 1 !important;
}

:root[tabsintitlebar] #titlebar:-moz-window-inactive .tabbrowser-tab:not([selected]) {
  opacity: 0.6 !important;
}

/*toolbar hamburger menu gradient color*/
#appMenu-fxa-separator {
  border-image: 1 1 1 1 linear-gradient(90deg, #9400FF, #ba00e5, #df06b9, #e62da7, #f13b95, #f64d86, #f85f7a, #fc7169, #f9845b, #e8ab52) !important;
}

/*unread tabs -use tab flag extension*/
.tabbrowser-tab[titlechanged]:not([selected="true"]) .tab-label {
  font-style: italic !important;
  color: #fea561a0 !important;
}

.tabbrowser-tab[busy]:not([selected="true"]) .tab-label {
  font-style: italic !important;
  color: #841fffae !important;
}

.tabbrowser-tab[class*="identity-color-"] .tab-background {
  border-right: solid 2px var(--identity-icon-color) !important;
  border-left: solid 2px var(--identity-icon-color) !important;
  transition: all .15s ease-in-out !important;
}

.tabbrowser-tab[class*="identity-color-"] .tab-background[selected="true"] {
  border-right: solid 4px var(--identity-icon-color) !important;
  border-left: solid 4px var(--identity-icon-color) !important;
}

/*container tab label color when selected */
.tabbrowser-tab[class*="identity-color-"] .tab-label {
  color: var(--identity-tab-color) !important;
}

/* Container color bar visibility */
.tabbrowser-tab[usercontextid]>.tab-stack>.tab-background>.tab-context-line {
  margin: 0px max(calc(var(--user-tab-rounding) - 3px), 0px) !important;
}

/* prevent white flash during page load */
@-moz-document url(chrome://browser/content/browser.xhtml) {

  #main-window,
  browser[type="content-primary"],
  browser[type="content"],
  tabbrowser#content,
  #content,
  browser[type="content"]>html {
    background: #000000 !important;
  }
}

/* Contrainer extension code */
#TabsToolbar #tabbrowser-tabs .tabbrowser-tab:is([usercontextid], [pinned]) .tab-background:not([selected]) {
  background: var(--identity-tab-color) !important;
  opacity: 0.5 !important;
}

/* Contrainer extension code */
#tabbrowser-tabs .tab-context-line {
  display: none !important;
}

/* Normal tabs design *
 .tabbrowser-tab .tab-background:not([selected]) {
     /*border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-bg-color) !important;
  transition: background-color 250ms ease !important;
     box-shadow: var(--firefoxcss-normal-tabs-box-shadow) !important;
 }

 /* Normal tabs design on hover *
 #tabbrowser-tabs .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected]) {
     /*  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-hover-bg-color) !important;
     box-shadow: var(--firefoxcss-normal-tabs-box-shadow) !important;
 }

 /* Selected tabs design *
#tabbrowser-tabs .tabbrowser-tab .tab-background[selected] {
  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  background-color: var(--firefoxcss-tab-active-bg-color) !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Multiselect tabs *
#tabbrowser-tabs .tabbrowser-tab .tab-background[multiselected] {
  border: 0 !important;
  border-radius: var(--firefoxcss-border-radius) !important;
  background-image: none !important;
  outline: none !important;
  background-color: var(--firefoxcss-tab-active-bg-color) !important;
  box-shadow: none !important;
}

#tabbrowser-tabs .tabbrowser-tab .tab-background:is([selected]):is([multiselected]) {
  outline: 1px solid var(--firefoxcss-tab-multiselect-outline) !important;
  outline-offset: 0px !important;
  outline-width: 1px !important;
}

/* Set tab icon color to gray when selected */
.tab-icon:active {
  filter: none !important;
}

/* Change tab icon color when hovered *
 .tabbrowser-tab:hover .tab-icon-image {
   filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(100deg) !important;
 }

 /* Change unselected tab icon color to gray *
 .tabbrowser-tab[pinned][selected] .tab-icon-image,
 .tabbrowser-tab[pinned][selected] .tab-icon-sound {
     filter: grayscale(0%) !important;
 }

 .tabbrowser-tab .tab-icon-image,
 .tabbrowser-tab .tab-icon-sound {
     filter: grayscale(100%) !important;
 }*/

.tabbrowser-tab .tab-icon {
  filter: grayscale(1) opacity(0.7) !important;
}

.tabbrowser-tab[selected="true"] .tab-icon {
  filter: grayscale(0) opacity(1) !important;
}

.tab-content:not([selected]) {
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5) !important;
}

/* Bookmarks toolbar */
#PersonalToolbar {
  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)) !important;
  /*border-top: 1px solid rgba(255, 255, 255, 0.5);*/
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) !important;
  -webkit-backdrop-filter: blur(24px) !important;
  backdrop-filter: blur(24px) !important;
}

#PersonalToolbar .toolbarbutton-icon {
  filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.4)) !important;
}

#TabsToolbar .toolbarbutton-icon,
.tab-close-button:not([selected]) {
  filter: drop-shadow(0 -1px 0 rgba(0, 0, 0, 0.5)) !important;
}

#nav-bar toolbarbutton,
[selected] .tab-close-button {
  filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.5)) !important;
}

#nav-bar .toolbarbutton-1 {
  &:not([disabled]) {
    &:is([open], [checked], :hover:active)> :is(.toolbarbutton-icon, .toolbarbutton-text, .toolbarbutton-badge-stack) {
      fill: rgba(47, 0, 188, 0.666);
      box-shadow: 0 1px 3px inset rgba(0, 0, 0, 0.2) !important;
      background-image: radial-gradient(rgba(255, 255, 255, 0.2), transparent) !important;
    }
  }
}

/*
 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
     background: linear-gradient(transparent, rgba(255, 255, 255, 0.25)) !important;
 }

 /* 1/16/2022 Tone down the Fx96 tab border with add-on themes in certain fallback situations
 .tab-background:is([selected], [multiselected]):-moz-lwtheme {
     --lwt-tabs-border-color: rgba(0, 0, 0, 0.5) !important;
     box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
     /* , 0 3px 3px rgba(0,0,0,0.3)
     border: 1px solid rgba(0, 0, 0, 0.25);
 }

 [brighttext="true"] .tab-background:is([selected], [multiselected]):-moz-lwtheme {
     --lwt-tabs-border-color: rgba(255, 255, 255, 0.5) !important;
     border-bottom-color: transparent !important;
 }*/
tab:not([selected]) .tab-icon-image {
  opacity: 1 !important;
  filter: none !important;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2), 0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1), 0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/*  Pinned tabs dont have background color *
 #TabsToolbar #tabbrowser-tabs .tabbrowser-tab:is([pinned]) .tab-background:not([selected]) {
     background-color: transparent !important;
     box-shadow: none !important;
 }

 /* Change bookmarks bar color to be the same as top toolbar */
:root {
  --firefoxcss-bookmarks-bg-color: transparent !important;
}

/*
 #nav-bar #urlbar[breakout][breakout-extend][open] {
     box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,
         rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,
         rgba(0, 0, 0, 0.09) 0px 32px 16px !important;
 }

 /* ----- My Custom Colors -----
:root {
  --firefoxcss-bookmarks-bg-color: hsl(240, 2%, 20%) !important;
}*/


.tabbrowser-tab[selected="true"] .tab-icon-image {
  /* Your CSS properties for the selected tab's icon here */
  filter: blur(5px) grayscale(0%) contrast(200%) opacity(100%) brightness(2) drop-shadow(1px 1px rgba(58, 58, 58, 0.55)) !important;

  .tabbrowser-tab:not([selected="true"]):not([multiselected="true"]) .tab-background {
    border-top: 1px solid rgba(130, 130, 130, 0.3) !important;
    border-left: 1px solid rgba(130, 130, 130, 0.3) !important;
    border-right: 1px solid rgba(130, 130, 130, 0.3) !important;
  }

  .tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
    opacity: 0.9 !important;
    transition: opacity 250ms ease !important;
  }

  /* Mouse Hover Background by passing by non-selected tabs */

  .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
    background-image:
      /*var(--button-hover-bgcolor)*/
      radial-gradient(circle at bottom center,
        #3c2675 15px,
        #240e4355) !important;
    /*box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important; */
    box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  }

  /* Back button */

  #back-button>.toolbarbutton-icon {
    --backbutton-background: transparent !important;
    border: 0 !important;
    border: none !important;
    border-radius: 10px !important;
    box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, 0.6) !important;
  }

  #forward-button>.toolbarbutton-icon {
    --forwardbutton-background: transparent !important;
    border: 0 !important;
    border: none !important;
    box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, 0.6) !important;
    border-radius: 10px !important;
  }

  /*container tab label color when selected */

  .tabbrowser-tab[class*="identity-color-"] .tab-label {
    color: var(--identity-tab-color) !important;
    font-weight: bold !important;
    font-style: underline !important;
  }

  /* Active tab brightness */

  .tab-content[selected="true"] {
    background-color: color-mix(in srgb, #5c04ae 20%, transparent) !important;
    text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.3),
      1px 1px 1px rgba(0, 0, 0, 0.5) !important;
    margin-top: 0px !important;
    margin-bottom: 0px !important;
  }

  /* non-active/non-selected tabs (container) */

  .tabbrowser-tab[usercontextid]:not([selected], [multiselected]):hover .tab-background {
    background-color: color-mix(in srgb,
        var(--identity-tab-color) 50%,
        transparent) !important;
    outline: 1px solid var(--identity-tab-color) !important;
    box-shadow: inset 0em -2em 0em var(--identity-tab-color) !important;
  }

  /*
 .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
     background-image:
         /*var(--button-hover-bgcolor)*
         radial-gradient(circle at bottom center,
             #9400ff 15px,
             #9500ff7d) !important;
     /*box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;*
 }*/

  .tab-icon-image {
    filter: drop-shadow(0px 0px 2px white) !important;
  }

  .tabbrowser-tab[notselectedsinceload]:not([pending]),
  .tabbrowser-tab[notselectedsinceload][pending][busy] {
    font-style: italic !important;
  }

  /* Remove selected tab shadow, darken the border to account for lighter background color *
 #TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon,
 #tabbrowser-tabs .tab-background:is([selected], [multiselected]) {
   border: 1px solid color-mix(in srgb, currentColor 35%, transparent) !important;
   border-color: color-mix(in srgb, currentColor 35%, transparent) !important;
   background: radial-gradient(circle at bottom center, #540091a7 25px, #170027c3) !important;
   outline: 1px solid color-mix(in srgb, #f9845b 35%, transparent) !important;
 }

 /***inactive*

 .tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
   opacity: 0.9 !important;
   filter: grayscale(0.2), brightness(0.7), contrast(20%) !important;
 }*/
  #nav-bar {
    box-shadow: inset 0 0 20px 5px hsla(0, 0%, 0%, 0.5) !important;
  }

  /**  inactive Favicons */
  .tabbrowser-tab:not([visuallyselected="true"], [multiselected]) .tab-icon-image {
    filter: brightness(80%) grayscale(20%) contrast(120%) blur(0.5px) opacity(100%) !important;
  }

  /*/
 .tabbrowser-tab:not([visuallyselected="true"], [multiselected]):hover .tab-icon-image {
   filter: drop-shadow(1px 1px 2px rgba(43, 43, 43, 0.658)) drop-shadow(1px 1px 1px rgba(2, 2, 2, 0.74)) contrast(175%) brightness(113%) !important;
 }

 /* Shadow above content */

  #navigator-toolbox {
    box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  }

  .sidebar-splitter {
    display: none !important;
  }

  .tab-content:not([selected="true"]) {
    text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.3),
      1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  }

  .tab-content:not([selected="true"]) {
    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5) !important;
  }

  .tabbrowser-tab[notselectedsinceload]:not([pending]),
  .tabbrowser-tab[notselectedsinceload][pending][busy] {
    font-style: italic !important;
  }

  /* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
  :root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
  :root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
    font-style: italic !important;
  }

  /* new code */
  .tabbrowser-tab[pending] {
    /* Set styles for unloaded tab */
    font-style: italic !important;
  }

  .tabbrowser-tab[busy] {
    /* Set styles for loading tab */
    font-style: italic !important;
  }

  .tabbrowser-tab[unread] {
    /* Set styles for unread tab */
    font-style: italic !important;
    font-weight: bold !important;
  }

  :root[tabsintitlebar]:not([lwtheme], :-moz-window-inactive) {
    appearance: menupopup !important;
  }

  #navigator-toolbox {
    background-color: transparent !important;
  }

  .titlebar-color {
    --toolbarbutton-hover-background: color-mix(in srgb, currentColor 17%, transparent) !important;
    --toolbarbutton-active-background: color-mix(in srgb, currentColor 30%, transparent) !important;
  }

  #TabsToolbar {
    --tab-min-height: 32px !important;
    --inline-tab-padding: 11px !important;
    --uc-inline-pinned-tab-padding: 12px !important;
    --tab-border-radius: 8px !important;
    --toolbarbutton-inner-padding: 6px !important;
    --uc-toolbarbutton-inner-inline-padding: 8px !important;
    --toolbarbutton-border-radius: 8px !important;
    --tabs-navbar-shadow-size: 1px !important;
    --tab-shadow-max-size: 1px !important;
    --uc-tab-separator-height: 20px;
    --uc-toolbarbutton-block-margin: 2px;
  }

  /* Firefox userChrome.css tweaks ********************************************************/
  /* Github: https://github.com/aris-t2/customcssforfx ************************************/
  /****************************************************************************************/


  /* Has to be used along with 'classic_squared_tabs.css' */

  #TabsToolbar:is([brighttext], :-moz-lwtheme-brighttext):-moz-lwtheme .tabbrowser-tab:is([selected], [multiselected]) .tab-content {
    border-top: 1px solid rgba(255, 255, 255, .6) !important;
    border-left: 1px solid rgba(255, 255, 255, .2) !important;
    border-right: 1px solid rgba(255, 255, 255, .2) !important;
  }

  #TabsToolbar:is([brighttext], :-moz-lwtheme-brighttext):-moz-lwtheme :is(.tabs-newtab-button, #tabs-newtab-button),
  #TabsToolbar:is([brighttext], :-moz-lwtheme-brighttext):-moz-lwtheme .tabbrowser-tab .tab-content {
    border-top: 1px solid rgba(255, 255, 255, .6) !important;
    border-left: 1px solid rgba(255, 255, 255, .2) !important;
    border-right: 1px solid rgba(255, 255, 255, .2) !important;
  }

  @media (-moz-content-prefers-color-scheme: dark) {
    .tabbrowser-tab:is([selected], [multiselected]):-moz-lwtheme .tab-content {
      border-top: 1px solid rgba(255, 255, 255, .6) !important;
      border-left: 1px solid rgba(255, 255, 255, .2) !important;
      border-right: 1px solid rgba(255, 255, 255, .2) !important;
    }

    #TabsToolbar:-moz-lwtheme :is(.tabs-newtab-button, #tabs-newtab-button):-moz-lwtheme,
    .tabbrowser-tab .tab-content:-moz-lwtheme {
      border-top: 1px solid rgba(255, 255, 255, .6) !important;
      border-left: 1px solid rgba(255, 255, 255, .2) !important;
      border-right: 1px solid rgba(255, 255, 255, .2) !important;
    }
  }

  /* Firefox userChrome.css tweaks ****************************************************************/
  /* Github: https://github.com/aris-t2/customcssforfx ********************************************/
  /************************************************************************************************

*/
  .tabbrowser-tab:not(:hover)>.tab-stack>.tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 11%, transparent);
  }

  .tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 17%, transparent) !important;
  }

  .tab-background:is([selected], [multiselected]):-moz-lwtheme,
  .tab-background:is([selected], [multiselected]):-moz-lwtheme {
    box-shadow: inset -1px 0 0 0 rgba(255, 255, 255, .01),
      inset 1px 0 0 0 rgba(255, 255, 255, .01) !important;
  }

  /* selected / multiselected colors */
  .tabbrowser-tab:is([selected], [multiselected])>.tab-stack>.tab-background:not(:-moz-lwtheme) {
    box-shadow: 0 0 1px rgba(0, 0, 0, .5) !important;
  }

  /* Firefox userChrome.css tweaks ********************************************************/
  /* Github: https://github.com/aris-t2/customcssforfx ************************************/
  /****************************************************************************************/
  :root {
    --sidebar-hover-width: 8px !important;
    --sidebar-visible-width: 300px !important;
  }

  #sidebar-box {
    min-width: var(--sidebar-hover-width) !important;
    width: var(--sidebar-hover-width) !important;
    max-width: var(--sidebar-hover-width) !important;
  }

  #sidebar-box #sidebar {
    opacity: 0 !important;
    position: absolute !important;
    display: block !important;
  }

  #sidebar-box:hover {
    min-width: var(--sidebar-visible-width) !important;
    width: var(--sidebar-visible-width) !important;
    max-width: var(--sidebar-visible-width) !important;
  }

  #sidebar-box:hover #sidebar {
    opacity: 1.0 !important;
  }

  #sidebar-box #sidebar-header {
    visibility: collapse !important;
  }

  #sidebar-box:hover #sidebar-header {
    visibility: visible !important;
  }

  #sidebar-box {
    z-index: 1000 !important;
    position: relative !important;
    opacity: 0 !important;
  }

  #sidebar-box:hover {
    opacity: 1.0 !important;
  }

  #sidebar-box:not([positionend="true"]) {
    margin-inline-end: calc(-1 * var(--sidebar-hover-width)) !important;
  }

  #sidebar-box:not([positionend="true"]):hover {
    margin-inline-end: unset !important;
  }

  #sidebar-box:not([positionend="true"])~#appcontent {
    margin-inline-start: 0 !important;
  }

  #sidebar-box:not([positionend="true"]):hover~#appcontent {
    margin-inline-start: calc(-1 * var(--sidebar-visible-width)) !important;
  }

  #sidebar-box[positionend="true"] {
    margin-inline-start: calc(-1 * var(--sidebar-hover-width)) !important;
  }

  #sidebar-box[positionend="true"]:hover {
    margin-inline-start: unset !important;
  }

  #sidebar-box[positionend="true"]~#appcontent {
    margin-inline-end: 0 !important;
  }

  #sidebar-box[positionend="true"]:hover~#appcontent {
    margin-inline-end: calc(-1 * var(--sidebar-visible-width)) !important;
  }

  /* Firefox userChrome.css tweaks ********************************************************/
  /* Github: https://github.com/aris-t2/customcssforfx ************************************/
  /****************************************************************************************
/* Hides info icons (except remote control icon) on the left side of urlbar and shows them when urlbar is hovered. Also hides container name and shows it on hover*

#urlbar-search-button,
#tracking-protection-icon-container,
#identity-box,
#identity-box.extensionPage #identity-icon-label{
  max-width: 0px !important;
  transition: max-width 100ms linear !important;
  overflow: hidden !important;
}

#identity-box.extensionPage{ max-width: 32px !important}

#urlbar:hover #urlbar-input-container > box,
#urlbar:hover #identity-box.extensionPage #identity-icon-label{
  max-width: 300px !important;
}
#urlbar:not(:hover) #userContext-label{ display: none !important}

/* This is kinda weird, but it makes the horizontal line between tabs and nav-bar render "inside" nav-bar thus tabs are more visibily separated even if there is less space there */
  #nav-bar {
    box-shadow: inset 0 var(--tabs-shadow-size) 0 var(--lwt-tabs-border-color) !important;
  }
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/page_action_buttons_on_urlbar_hover.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. *

.urlbar-page-action{
  margin-inline-end: calc(-16px - 2 * var(--urlbar-icon-padding) );
  opacity: 0;
  transition: margin-inline-end 100ms linear, opacity 200ms linear;
}

#urlbar:hover .urlbar-page-action,
.urlbar-page-action[open],
.urlbar-page-action[open] ~ .urlbar-page-action{
  opacity: 1;
  margin-inline-end: 0px !important;
}
/* Selected tab needs to be relative so it gets drawn over nav-bar top "border"8*/
.tabbrowser-tab[selected] {
  position: relative !important;
  z-index: 1 !important;
}

#nav-bar {
  border-radius: 20px !important;
  margin-block: 0 5px !important;
  margin-inline: 10px !important;
  --toolbar-start-end-padding: 8px !important;
}

#nav-bar #back-button image {
  border-top-left-radius: 50% !important;
  border-bottom-left-radius: 50% !important;
}

#PanelUI-button .toolbarbutton-badge-stack {
  border-top-right-radius: 50% !important;
  border-bottom-right-radius: 50% !important;
}

/* indicator for private browsing mode with tabs hidden */

:root[privatebrowsingmode="temporary"] {

  /*remove the default label
  #private-browsing-indicator-with-label {
    display: none !important;
  }*/

  #nav-bar::after {
    content: var(--uc-string-private);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 20px;
    background-color: purple;
    color: white;
    opacity: 0.6;
    position: absolute;
    top: calc(50% - 10px);
    pointer-events: none !important;
  }

  @media (-moz-platform: macos) {

    /*make space in nav bar for the private window label*/
    #nav-bar {
      padding-right: 70px !important;

      &::after {
        /*priv win label*/
        right: 8px;
        border-radius: 4px;
      }
    }
  }

  /*Implement translucent ui */
  :root {
    --uc-appcontent-border: 1px solid light-dark(rgba(0, 0, 0, 0.4), rgba(220, 220, 220, 0.4)) !important;
  }

  /*create colour accent variable --uc-window-bg */
  :root[windowtype="navigator:browser"],
  :root[windowtype="navigator:browser"]:not(:-moz-lwtheme) {
    --uc-accent-opacity: 60%;
    background-color: transparent !important;
    --uc-window-bg-color: var(--lwt-accent-color);
    --uc-window-bg: color-mix(in srgb, var(--uc-window-bg-color) var(--uc-accent-opacity), transparent);

    @media (prefers-color-scheme:light) {
      --uc-accent-opacity: 60%;
    }
  }

  /*make shit transparent*/

  :root[windowtype="navigator:browser"]:not(:-moz-lwtheme) {
    --lwt-accent-color: light-dark(rgb(255, 255, 255), rgb(30, 30, 30)) !important;

    /* jank AF - set theme accent colour to sidebery defaults*/
    & #navigator-toolbox {
      --toolbar-bg: transparent !important;
      --toolbar-bgcolor: transparent !important;
    }
  }

  :root #TabsToolbar-customization-target {
    --tab-selected-bgcolor: light-dark(rgba(255, 255, 255, 0.5), rgba(180, 180, 180, 0.4)) !important;

  }

  #personal-bookmarks {
    opacity: var(--uc-accent-opacity) !important;
  }

  @media (-moz-platform: macos) {
    :root[windowtype="navigator:browser"]#main-window {
      background-color: transparent !important;
      border-radius: 10px !important;
    }
  }

  /*remove transparency in fullscreen */
  :root[sizemode="fullscreen"] {

    #navigator-toolbox,
    #browser,
    #appcontent {
      background-color: var(--uc-window-bg-color) !important;
    }
  }

  /*apply blur by making window into menupopup - macos only - may not work in the future lol*/
  :root #TabsToolbar,
  :root #titlebar,
  :root #tabbrowser-tabs,
  :root #nav-bar,
  :root #PersonalToolbar,
  :root #tab-notification-deck,
  :root:not(:-moz-window-inactive):not([inFullscreen]) #browser {
    -moz-default-appearance: menupopup !important;
    appearance: auto !important;
    background-color: transparent !important;
  }

  /*tint stuff with colour accent --uc-window-bg */

  :root[sizemode="normal"]:not([inFullscreen]):not(:-moz-window-inactive) #navigator-toolbox,
  :root[sizemode="maximized"]:not([inFullscreen]):not(:-moz-window-inactive) #navigator-toolbox,
  #appcontent {
    background-color: var(--uc-window-bg) !important;
  }

  /*remove findbar bg*/
  .browserContainer>findbar {
    &:-moz-lwtheme {
      background-image: none !important;
      background-color: none !important;
    }
  }

  /*inactive windows colour*/
  #browser:-moz-window-inactive,
  #navigator-toolbox:-moz-window-inactive,
  #navigator-toolbox:not(:-moz-lwtheme) {
    &:-moz-window-inactive {
      background-color: var(--uc-window-bg-color) !important;
    }
  }

  /*sidebar crapppp*/
  #sidebar-box {
    border-radius: 0px !important;
    box-shadow: none !important;
    z-index: 3;
    background-color: transparent !important;

    /*use a pseudo element to mimic backround colour for when expand on hover is enabled*/
    &::before {
      background-color: var(--uc-window-bg) !important;
      opacity: 1 !important;
      margin: 0 !important;
      padding: 0 !important;
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: 0;
      bottom: -8px;
      left: -8px;
      pointer-events: none;
    }
  }

  /*z-index crap to make sure everything shows up right*/
  #sidebar {
    z-index: 3 !important;
  }

  #sidebar-splitter {
    z-index: 21 !important;
  }
}

:root {
  transition: background-color 300ms ease-in !important;
}

/* indicator for private browsing mode with tabs hidden */

:root[privatebrowsingmode="temporary"] {

  /*remove the default label*/
  #private-browsing-indicator-with-label {
    display: none !important;
  }

  #nav-bar::after {
    content: var(--uc-string-private);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 20px;
    background-color: purple;
    color: white;
    opacity: 0.6;
    position: absolute;
    top: calc(50% - 10px);
    pointer-events: none !important;
  }

  @media (-moz-platform: macos) {

    /*make space in nav bar for the private window label*/
    #nav-bar {
      padding-right: 70px !important;

      &::after {
        /*priv win label*/
        right: 8px;
        border-radius: 4px;
      }
    }
  }
}

.tabbrowser-tab.identity-icon-on-multiselect[usercontextid][multiselected="true"] .tab-content::after {
  content: "";
  display: flex;
  height: 12px;
  width: 12px;
  margin-inline: 3px;
  background: var(--identity-icon) center/contain no-repeat;
  fill: var(--identity-icon-color);
  -moz-context-properties: fill;
}

.tabbrowser-tab.identity-icon-on-multiselect[usercontextid][multiselected="true"] .tab-content::after {
  content: "";
  display: flex;
  height: 12px;
  width: 12px;
  margin-inline: 3px;
  background: var(--identity-icon) center/contain no-repeat;
  fill: var(--identity-icon-color);
  -moz-context-properties: fill;
}

/* ------------------------------------ */
/* Firefox Translucent Tabbar for macOS */
/* ------------------------------------ */

:root#main-window {
  background-color: transparent !important;
}

:root:not(:-moz-window-inactive) #navigator-toolbox {
  background-color: transparent !important;
}

/* make tabs toolbar translucent */
/* FF 121 removed support for -moz-mac-source-list - using menupopup instead *
:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-default-appearance: menupopup !important;
  appearance: auto !important;
  background-color: transparent !important;
}

/* De-emphasize tab icons and names when window is unfocused *
:root:-moz-window-inactive .tab-content {
  opacity: 0.6 !important;
}

/* recolor toolbar button hover/active bg colors to semi-transparent */
:root {
  --toolbarbutton-hover-background: color-mix(in srgb, currentColor 11%, transparent) !important;
  --toolbarbutton-active-background: color-mix(in srgb, currentColor 21%, transparent) !important;
}

/* improve border visiblity for selected tabs *
.tab-background:is([selected], [multiselected]):-moz-lwtheme {
  border: none !important;
}

#tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 1px rgba(0, 0, 0, .1), 0 1px 5px rgba(0, 0, 0, .1) !important;
}

:root:-moz-window-inactive #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 1px rgba(44, 44, 44, 0.239) !important;
}

@media (-moz-content-prefers-color-scheme: dark) {
  :root #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
    box-shadow: 0 0 0 1px hsla(280, 6%, 60%, 0.5) inset, 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .6), 0 1px 5px rgba(0, 0, 0, .1) !important;
  }

  :root:-moz-window-inactive #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
    box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .4) !important;
  }
}

/* border between tab bar and navbar */
:root #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.14), 0 -4px 4px -5px hsla(280, 6%, 0%, 0.2);
}

@media (-moz-content-prefers-color-scheme: dark) {
  :root #nav-bar {
    box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3), 0 -4px 4px -5px hsla(280, 6%, 0%, 0.25) !important;
  }
}

.tab-content {
  pointer-events: none
}

.tab-icon-image:not([busy]) {
  display: block !important;
}

:where(.tab-content:hover) .tab-icon-image,
:where(.tab-content:hover)>.tab-icon-stack {
  visibility: hidden;
}

.tab-close-button {
  order: -1;
  display: flex !important;
  position: relative;
  margin-inline: -4px -20px !important;
  padding-inline-start: 7px !important;
  opacity: 0;
  width: unset !important;
  pointer-events: auto;
}

.tab-close-button:hover {
  opacity: 1
}

.tabbrowser-tab[pinned] .tab-close-button {
  display: none !important;
}

/* Why 100vw? Tab closing requires width animation to end and "none" can't be animated */
.tabbrowser-tab[fadein]:not([style^="max-width"]) {
  max-width: 100vw !important
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/button_effect_scale_onclick.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Effect *\
.urlbar-icon,
.toolbarbutton-icon,
.tab-close-button,
.downloadIconShow>.button-box>.button-icon,
.menuitem-iconic .menu-iconic-icon,
#downloads-indicator-icon,
#urlbar-input-container [role="button"] image {
  transition: transform 83ms linear !important;
}

toolbar .toolbarbutton-1>.toolbarbutton-icon {
  transition: padding 83ms linear !important;
}

#urlbar-input-container [role="button"]:active image,
.tab-close-button:active,
.downloadIconShow:active>.button-box>.button-icon,
#downloads-button:active #downloads-indicator-icon,
toolbarbutton#scrollbutton-up:active>.toolbarbutton-icon,
toolbarbutton:not(.toolbarbutton-1):active>.toolbarbutton-icon,
toolbar .toolbarbutton-1:not([disabled]):active>.toolbarbutton-badge-stack>.toolbarbutton-icon,
.menuitem-iconic:active .menu-iconic-icon,
.urlbar-page-action:active>.urlbar-icon {
  transform: scale(0.6) !important;
}

toolbarbutton#scrollbutton-down:active>.toolbarbutton-icon {
  transform: scale(-0.6) !important;
}

toolbar .toolbarbutton-1:not([disabled]):active>.toolbarbutton-icon {
  padding: calc(var(--toolbarbutton-inner-padding) + 3px) !important;
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/button_effect_scale_onhover.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. *

/* Effect *
.urlbar-icon,
.toolbarbutton-icon,
.tab-close-button,
.downloadIconShow>.button-box>.button-icon,
.menuitem-iconic .menu-iconic-icon,
#downloads-indicator-icon,
#urlbar-input-container [role="button"] image {
  transition: transform 83ms linear !important;
}

toolbar .toolbarbutton-1>.toolbarbutton-icon {
  transition: padding 83ms linear !important;
}

#urlbar-input-container [role="button"] image,
.tab-close-button,
.downloadIconShow>.button-box>.button-icon,
.unified-extensions-item-menu-button>.toolbarbutton-icon,
#downloads-button #downloads-indicator-icon,
toolbarbutton#scrollbutton-up>.toolbarbutton-icon,
toolobar .toolbarbutton-1>.toolbarbutton-icon,
toolbar .toolbarbutton-1>.toolbarbutton-badge-stack>.toolbarbutton-icon,
.menuitem-iconic .menu-iconic-icon,
.urlbar-icon {
  transform: scale(0.8) !important;
}

toolbarbutton#scrollbutton-down>.toolbarbutton-icon {
  transform: scale(-0.8) !important;
}

toolbar .toolbarbutton-1>.toolbarbutton-icon {
  padding: calc(var(--toolbarbutton-inner-padding) + 2px) !important;
}

#urlbar-input-container [role="button"]:not([disabled]):hover image,
.tab-close-button:hover,
.downloadIconShow:hover>.button-box>.button-icon,
#downloads-button:not([disabled]):hover #downloads-indicator-icon,
toolbarbutton#scrollbutton-up:not([disabled]):hover>.toolbarbutton-icon,
toolbarbutton:not(.toolbarbutton-1):not([disabled]):hover>.toolbarbutton-icon,
toolbar .toolbarbutton-1:not([disabled]):hover>.toolbarbutton-badge-stack>.toolbarbutton-icon,
.menuitem-iconic:not([disabled]):hover .menu-iconic-icon,
.urlbar-page-action:hover>.urlbar-icon {
  transform: none !important;
}

toolbarbutton#scrollbutton-down:not([disabled]):hover>.toolbarbutton-icon {
  transform: scale(-1) !important;
}

toolbar .toolbarbutton-1:not([disabled]):hover>.toolbarbutton-icon {
  padding: var(--toolbarbutton-inner-padding) !important;
}
*/
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/privatemode_indicator_as_menu_button.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Removes the private-browsing-mode indicator from tabs toolbar and changes the menu-button icon to the private-browsing indicator in private windows */

#private-browsing-indicator-with-label,
.private-browsing-indicator {
  display: none
}

:root[privatebrowsingmode="temporary"] #PanelUI-menu-button {
  list-style-image: url("chrome://global/skin/icons/indicator-private-browsing.svg") !important;
}

/* Edge-Frfox - tabbar.css
 * https://github.com/bmFtZQ/edge-frfox */

/* Variables */
:root {
  /* Extra space at the top of the window. */
  --uc-tab-top-margin: 8px !important;

  /* Remove extra space at the top of the window when in fullscreen or when
   * title bars are enabled. */
  &[inFullscreen],
  &:not([tabsintitlebar]) {
    --uc-tab-top-margin: 0px !important;
  }

  /* Remove extra space at the top when the window is maximised or the menu bar
   * is active, only on platforms other than macOS. */
  @media not (-moz-platform: macos) {

    &[sizemode="maximized"],
    & #toolbar-menubar:not([inactive])+#TabsToolbar,
    &:has(#toolbar-menubar:not([inactive])) {
      --uc-tab-top-margin: 0px !important;
    }
  }

  & #TabsToolbar {
    --tab-min-height: 32px !important;
    --inline-tab-padding: 11px !important;
    --uc-inline-pinned-tab-padding: 12px !important;
    --tab-border-radius: 4px !important;
    --toolbarbutton-inner-padding: 6px !important;
    --uc-toolbarbutton-inner-inline-padding: 8px !important;
    --toolbarbutton-border-radius: 4px !important;
    --tabs-navbar-shadow-size: 0px !important;
    --tab-shadow-max-size: 0 !important;
    --uc-tab-separator-height: 20px;
    --uc-toolbarbutton-block-margin: 2px;

    /* Gap between tab and adjacent buttons (+2px button margin). */
    --uc-toolbarbutton-tab-gap: 2px;

    @media (-moz-bool-pref: "uc.tweak.rounded-corners") {
      --tab-border-radius: 8px !important;
      --uc-toolbarbutton-tab-gap: 6px;
    }
  }
}

/* ::::: Tab transitions ::::: */

/* Tab grow/shrink transition. */
.tabbrowser-tab:not([pinned]) {
  transition-property: min-width, max-width !important;
  transition-duration: 150ms !important;
  transition-timing-function: cubic-bezier(0, .75, .25, 1) !important;
}

/* Tab moving transition. */
#tabbrowser-tabs[movingtab]>#tabbrowser-arrowscrollbox>.tabbrowser-tab[fadein]:not([selected]):not([multiselected]),
.tabbrowser-tab[tab-grouping],
.tabbrowser-tab[tabdrop-samewindow] {
  transition: transform 200ms cubic-bezier(0, .75, .25, 1) !important;
}

/* Remove tab toolbar background transition on inactive windows. */
#navigator-toolbox {
  transition: none !important;
}

/* ::::: Tabs toolbar & button appearance ::::: */
/* #region */

#TabsToolbar {
  /* Padding between the edge of the toolbar and its content. */
  padding-inline-start: 8px !important;

  /* Remove any existing margins from toolbar buttons. */
  & .toolbarbutton-1 {
    margin: 0 !important;
  }

  /* Tab toolbar button sizing. */
  & .toolbarbutton-1>.toolbarbutton-icon,
  & .toolbarbutton-1>.toolbarbutton-badge-stack {
    border-radius: var(--toolbarbutton-border-radius) !important;
    padding: var(--toolbarbutton-inner-padding) var(--uc-toolbarbutton-inner-inline-padding) !important;
    /* Add margin-block to buttons so they are positioned correctly. */
    margin: var(--uc-toolbarbutton-block-margin) 0 !important;
  }

  & .toolbarbutton-1>.toolbarbutton-icon {
    width: calc(2 * var(--uc-toolbarbutton-inner-inline-padding) + 16px) !important;
    height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
  }

  /* Keep certain buttons (such as new tab) square shaped. */
  & #tabs-newtab-button>.toolbarbutton-icon,
  & #alltabs-button>.toolbarbutton-badge-stack,
  & #tabbrowser-tabs[hasadjacentnewtabbutton][overflow]~#new-tab-button>.toolbarbutton-icon {
    padding: var(--toolbarbutton-inner-padding) !important;
    width: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;
  }

  /* Toolbar buttons should use the same colour as unselected tabs. */
  & .toolbarbutton-animatable-box,
  & .toolbarbutton-1 {
    fill: currentColor !important;
  }

  & #TabsToolbar-customization-target {
    /* Vertically align toolbar buttons to the bottom of the tab bar. */
    align-items: end !important;

    /* Reduce space between start of the window and first toolbar button. */
    &>.toolbarbutton-1:nth-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *)) {
      margin-inline-start: -2px !important;
    }

    /* Add space after the last toolbar button before the tabs. */
    &>.toolbarbutton-1:nth-last-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *)),
    :root[privatebrowsingmode] &>.toolbarbutton-1:nth-last-child(1 of .toolbarbutton-1:not(#tabbrowser-tabs ~ *):not(#firefox-view-button)) {
      margin-inline-end: calc(var(--uc-toolbarbutton-tab-gap) + 2px) !important;

      /* Reduces space between this button and the tab scroll button when
       * overflowed for consistency. */
      &:has(~ #tabbrowser-tabs[overflow]) {
        margin-inline-end: 2px !important;
      }
    }
  }
}

#tabbrowser-tabs {
  /* Remove the border from the left of the tab bar. */
  border-inline: none !important;
  padding-inline-start: var(--tab-overflow-pinned-tabs-width) !important;

  /* Add space above the tabs. */
  margin-top: var(--uc-tab-top-margin) !important;

  /* Pull tabs closer to toolbar buttons when overflowed. */
  &[overflow]:not([haspinnedtabs]) {
    margin-inline-start: -2px !important;
  }

  /* Remove gap between pinned and unpinned tabs. */
  &[haspinnedtabs]:not([positionpinnedtabs]) .tabbrowser-tab:nth-child(1 of :not([pinned], [hidden])) {
    margin-inline-start: 0 !important;
  }
}

/* Add space between last tab and new tab button. */
#tabbrowser-tabs #tabs-newtab-button {
  margin-inline-start: var(--uc-toolbarbutton-tab-gap) !important;
}

/* Tab scrolling buttons. */
#scrollbutton-up:not(.menupopup-scrollbutton),
#scrollbutton-down:not(.menupopup-scrollbutton) {
  border-width: 2px !important;
  border-radius: calc(var(--toolbarbutton-border-radius) + 2px) !important;
  padding-inline: calc(var(--toolbarbutton-inner-padding) - 4px) !important;
  padding-block: var(--toolbarbutton-inner-padding) !important;
}

/* Add margin to the side of the button facing the tabs so the buttons line up
 * on the opposite side with others in the toolbar.
 */
#scrollbutton-up:not(.menupopup-scrollbutton) {
  margin-inline: 0 2px !important;
}

#scrollbutton-down:not(.menupopup-scrollbutton) {
  margin-inline: 2px 0 !important;
}

/* Hide pre-tabs spacer as it isn't needed. */
.titlebar-spacer[type="pre-tabs"] {
  display: none !important;
}

/* Make sure that the post-tabs spacer appears. */
.titlebar-spacer[type="post-tabs"] {
  display: flex !important;
}

/* macOS titlebar buttons positioning. */
@media (-moz-platform: macos) {

  /* Compensate for padding added to the Tabs Toolbar. */
  .titlebar-buttonbox-container {
    margin-inline-start: -8px !important;

    /* Make sure that titlebar buttons have equal spacing on all sides. */
    & .titlebar-buttonbox {
      margin-inline: calc((var(--tab-min-height) + var(--uc-tab-top-margin) - 14px) / 2) !important;
    }
  }
}

/* Linux titlebar button positioning. */
@media (-moz-platform: linux) {
  .titlebar-buttonbox-container {
    /* Add space between buttons and other toolbar buttons. */
    margin-inline: 8px 0 !important;

    @media (-moz-gtk-csd-reversed-placement) {
      /* Compensate for padding added to the Tabs Toolbar. */
      margin-inline: -8px 8px !important;
    }
  }
}

/* #endregion */


/* ::::: Tab appearance ::::: */
/* #region */

.tabbrowser-tab {
  font-size: 12px !important;
  padding-inline: 0 !important;
  /* Allow shadows to appear outside the tabs. */
  overflow-clip-margin: 8px !important;

  /* Set width of tabs. */
  &:not([pinned], [style*="max-width"])[fadein] {
    max-width: 240px !important;
  }

  /* Enforce tab foreground colour. */
  &:is([visuallyselected], [multiselected]) {
    color: var(--tab-selected-textcolor) !important;

    &:-moz-window-inactive {
      color: var(--tab-selected-textcolor-inactive, var(--tab-selected-textcolor)) !important;
    }
  }
}

/* Tab inner content padding. */
.tab-content {
  padding-inline: var(--inline-tab-padding) 0 !important;

  /* Pinned tab padding. */
  &[pinned] {
    padding: 0 var(--uc-inline-pinned-tab-padding) !important;
  }

  /* Indicator for when the title of a pinned tab changes. */
  &[pinned][titlechanged]:not([selected]),
  .tabbrowser-tab:is([image], [pinned]) &[attention]:not([selected]) {
    background-position: center bottom 2px !important;
  }
}

/* Space between tab icons and the tab titles. */
.tab-throbber:not([pinned]),
.tab-icon-pending:not([pinned]),
.tab-icon-image:not([pinned]),
.tab-sharing-icon-overlay:not([pinned]) {
  margin-inline-end: calc(var(--inline-tab-padding) - 1px) !important;
}

/* Make sure that the tabs are the correct height. */
#tabbrowser-tabs .tab-label-container {
  height: var(--tab-min-height) !important;

  /* Hide tab audio indicator label. */
  & .tab-secondary-label {
    display: none !important;
  }
}

/* Tab close button styling. */
.tab-close-button {
  margin-inline-end: 8px !important;
  width: 17px !important;
  height: 17px !important;
  padding: 4px !important;
  border-radius: var(--toolbarbutton-border-radius) !important;
}

/* Ensure that unselected tabs use full opacity and correct colours.
 * Also ensures that the tab's icon is always visible.
 */
.tab-label-container:not([selected="true"], [multiselected]),
.tab-icon-stack[indicator-replaces-favicon]> :not(.tab-icon-overlay) {
  opacity: 1 !important;
}

/* Change width of the gradient mask located on the right of the tab labels. */
#tabbrowser-tabs[closebuttons="activetab"] .tabbrowser-tab .tab-label-container {
  --tab-label-mask-size: 1em !important;
}

/* Tab container indicator. */
.tabbrowser-tab[usercontextid] {
  & .tab-context-line {
    height: 2px !important;
    border-radius: 2px !important;
    margin: 2px 7px 0 !important;
  }

  &[selected] .tab-context-line {
    margin-inline: 9px !important;
  }
}

/* ::::: Tab audio indicator ::::: */

/* Move the audio indicator to the right of the tab's icon. */
#tabbrowser-tabs:not([closebuttons="activetab"]) .tab-icon-overlay:not([pinned]) {
  margin-inline: 22px 6px !important;
}

/* When there is no tab icon, move indicator to the left. */
#tabbrowser-tabs .tabbrowser-tab:not([image]) .tab-icon-overlay:not([pinned]) {
  margin-inline: 0px 6px !important;
}

/* Overlay the audio indicator onto the tab icon when there isn't enough space. */
.tab-icon-overlay:not([crashed]):is([pinned], [sharing]),
#tabbrowser-tabs[closebuttons="activetab"] .tab-icon-overlay:not([crashed]) {
  top: -5.5px !important;
  inset-inline-end: -6px !important;
}

/* Set colour for the overlay tab audio indicator. */
#tabbrowser-tabs[closebuttons="activetab"] {
  & .tab-icon-overlay:is([soundplaying], [muted], [activemedia-blocked]):not([crashed]) {
    stroke: var(--tab-icon-overlay-stroke, light-dark(white, black)) !important;
    color: var(--tab-icon-overlay-fill, light-dark(black, white)) !important;
    fill-opacity: 1 !important;

    &:hover {
      background-color: var(--tab-icon-overlay-stroke, light-dark(white, black)) !important;
    }
  }
}

/* Add border radius to the tab audio indicator. */
.tab-icon-overlay:is([soundplaying], [muted], [activemedia-blocked]):not([crashed]) {
  border-radius: var(--toolbarbutton-border-radius) !important;
  padding: 0 !important;
}

/* Ensure the audio indicator is visible when needed. */
.tab-icon-stack:is([soundplaying], [muted], [activemedia-blocked])>.tab-icon-overlay {
  opacity: 1 !important;
}

/* #endregion */


/* ::::: Tab background and bottom rounded corners ::::: */
/* #region */

.tab-background {
  border-radius: var(--tab-border-radius);
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
  margin-block: 0 !important;
  border: 0 !important;
  position: relative !important;
  --uc-tab-corner-bg: transparent;
  --uc-tab-corner-outline: transparent;

  /* Both rounded bottom corners. */
  &::before,
  &::after {
    content: "" !important;
    position: absolute !important;
    width: var(--tab-border-radius) !important;
    aspect-ratio: 1 / 1;
    bottom: 0 !important;
    pointer-events: none !important;
    clip-path: inset(0);
  }

  /* Bottom left corner. */
  &::before {
    border-bottom-right-radius: var(--tab-border-radius) !important;
    left: 0 !important;
    translate: calc(-1 * var(--tab-border-radius)) 0 !important;
    box-shadow:
      /* First shadow is a 1px outline for better theming support. */
      -1px -1px var(--uc-tab-corner-outline) inset,
      /* Second shadow is to add the background colour to the corner. */
      0 0 0 var(--tab-border-radius) var(--uc-tab-corner-bg) !important;
  }

  /* Bottom right corner. */
  &::after {
    border-bottom-left-radius: var(--tab-border-radius) !important;
    right: 0 !important;
    translate: var(--tab-border-radius) 0 !important;
    box-shadow:
      /* First shadow is a 1px outline for better theming support. */
      1px -1px var(--uc-tab-corner-outline) inset,
      /* Second shadow is to add the background colour to the corner. */
      0 0 0 var(--tab-border-radius) var(--uc-tab-corner-bg) !important;
  }

  /* Make sure that the bottom corners have the same background colour. */
  &:is([selected], [multiselected]) {
    --uc-tab-corner-bg: var(--tab-selected-bgcolor, var(--lwt-selected-tab-background-color, var(--toolbar-bgcolor)));
    --uc-tab-corner-outline: var(--lwt-tab-line-color, transparent);
    /* Disable tab outlines when selected. */
    outline: none !important;
  }

  /* Tab hover background colour. */
  .tabbrowser-tab:hover &:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 8%, transparent) !important;
    --uc-tab-corner-bg: color-mix(in srgb, currentColor 8%, transparent) !important;

    /* When in light mode, the hover colour should be white. */
    #TabsToolbar:not([brighttext]) & {
      background-color: rgb(255 255 255 / .3) !important;
      --uc-tab-corner-bg: rgb(255 255 255 / .3) !important;

      @media (-moz-bool-pref: "uc.tweak.floating-tabs") {
        background-color: var(--toolbar-bgcolor) !important;
        --uc-tab-corner-bg: var(--toolbar-bgcolor) !important;
      }
    }
  }

  /* When tabs are selected but not active, they should have a partially
   * transparent background. */
  #tabbrowser-tabs &[multiselected]:not([selected]) {
    box-shadow: none !important;
    opacity: 0.7 !important;
  }
}

/* Disable bottom left rounded corner to prevent overlapping transparent tabs.
 *
 * If a tab is selected, then the next tab's bottom-left corner should be
 * inverted to prevent overlap with the transparent backgrounds.
 *
 * If the next tab is hidden, then find the next visible tab which would be
 * positioned next to the active tab.
 */
.tabbrowser-tab:is([selected], [multiselected]):not([hidden]) {

  &+.tabbrowser-tab .tab-background:not([selected]),
  &+.tabbrowser-tab[hidden]~.tabbrowser-tab:not([hidden]):is([hidden] + *) .tab-background:not([selected]) {
    border-bottom-left-radius: var(--tab-border-radius) !important;

    &::before {
      --uc-tab-corner-bg: transparent !important;
    }
  }
}

/* #endregion */


/* ::::: Tab separators ::::: */
/* #region */

.tabbrowser-tab .tab-stack {

  /* Both side separators. */
  &::before,
  &::after {
    content: "";
    position: absolute;
    height: var(--uc-tab-separator-height);
    inset-block: 0;
    margin-block: auto;
    border-left: 1px solid transparent;

  }

  /* Fractional scaling adjustments (150%, 175%, etc.) */
  @media (1dppx < resolution < 2dppx) {

    &::before,
    &::after {
      border-left-width: 1.5px !important;
    }
  }

  /* Left side separators. */
  &::before {
    left: 0;
  }

  /* Right side separators. */
  &::after {
    right: 0;
  }
}

/* Set separator color and add separator for last visible tab. */
.tabbrowser-tab:not([selected], [multiselected], :hover) {

  /* All tabs. */
  & .tab-stack::before,
  /* Last visible tab. */
  &:nth-last-child(1 of .tabbrowser-tab:not([hidden])) .tab-stack::after,
  /* Last visible pinned tab when overflowed. */
  #tabbrowser-tabs[overflow] &:nth-last-child(1 of .tabbrowser-tab[pinned]:not([hidden])) .tab-stack::after {
    border-color: color-mix(in srgb, currentColor 34%, transparent);
  }
}

/* Hide tab separator when previous tab is hovered or selected.
 *
 * If a tab is selected, then the next tab's left separator should be hidden.
 *
 * If the next tab is hidden, then find the next visible tab.
 */
.tabbrowser-tab:is([selected], [multiselected], :hover):not([hidden]) {

  &+.tabbrowser-tab .tab-stack::before,
  &+.tabbrowser-tab[hidden]~.tabbrowser-tab:not([hidden]):is([hidden] + *) .tab-stack::before {
    border-color: transparent !important;
  }
}

/* Hide the first tab's separator for specific buttons before the tabs.
 *
 * If in private browsing mode, the Firefox View button is hidden, so the
 * separator should also be hidden as long as there are no other buttons before
 * it. If the Firefox account button is just before the tabs, then the separator
 * should stay hidden.
 *
 * If the button directly before the tabs is the Firefox account button, the
 * separator should be hidden.
 *
 * If there are no buttons before the tabs, hide the separator.
 */
:root[privatebrowsingmode] #firefox-view-button+#tabbrowser-tabs:not(.toolbarbutton-1:not(#fxa-toolbar-menu-button) + #firefox-view-button + #tabbrowser-tabs),
#fxa-toolbar-menu-button+#tabbrowser-tabs,
#tabbrowser-tabs:first-child {
  & .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden])) .tab-stack::before {
    border-color: transparent !important;
  }
}

/* #endregion */


/* ::::: Tab shadows ::::: */
/* #region */

/* Tab and toolbar shadows. */
@media not (-moz-bool-pref: "uc.tweak.rounded-corners") {

  /* Edge now removes the shadow when rounded corners are enabled. */
  :root,
  :root .tabbrowser-tab {
    /* Light mode shadows. */
    --uc-titlebar-shadow:
      0 -1px var(--tabs-navbar-shadow-color, transparent) inset,
      0 -3px 2px -3px rgb(0 0 0 / .2) inset;
    --uc-tab-shadow:
      0 0 0 1px var(--lwt-tab-line-color, transparent),
      0 4px 5px rgb(0 0 0 / .21),
      0 0px 2px rgb(0 0 0 / .18);

    & [brighttext],
    & [brighttext] .tabbrowser-tab {
      /* Dark mode shadows. */
      --uc-titlebar-shadow:
        0 -1px var(--tabs-navbar-shadow-color, transparent) inset,
        0 -3px 2px -3px rgb(0 0 0 / .7) inset;
      --uc-tab-shadow:
        0 0 0 1px var(--lwt-tab-line-color, transparent),
        0 5px 7px rgb(0 0 0 / .44),
        0 0px 2px rgb(0 0 0 / .7);
    }
  }
}

/* Apply tab shadows. */
#tabbrowser-tabs .tab-background:is([selected], [multiselected]),
#TabsToolbar #firefox-view-button[open]>.toolbarbutton-icon {
  box-shadow: var(--uc-tab-shadow) !important;
}

/* Apply toolbar shadows. */
#TabsToolbar {
  box-shadow: var(--uc-titlebar-shadow) !important;
}

/* Prevent interference with context menu arrowscrollbox. */
#tabbrowser-arrowscrollbox {
  --uc-padding-top: 4px;
  --uc-margin-top: -4px;
  --uc-padding-inline-end: var(--tab-border-radius)
}

/* Make room for the tab shadows so they aren't clipped at the top. */
.scrollbox-clip>scrollbox {
  padding-top: var(--uc-padding-top, 0) !important;
  margin-top: var(--uc-margin-top, 0) !important;
  /* Used to fix tab overflow issue with rounded corners. */
  padding-inline-end: var(--uc-padding-inline-end, 0) !important;
}

/* Add some room horizontally for the tab shadows and rounded corners. */
#tabbrowser-tabs {
  &:not([overflow]) {
    margin-inline-start: -8px !important;
    margin-inline-end: calc(-1 * var(--tab-border-radius)) !important;

    #tabbrowser-arrowscrollbox .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden])) {
      margin-inline-start: 8px !important;
    }
  }
}

/* Clip the bottom of the tabs so the shadows don't bleed into other areas. */
#tabbrowser-tabs[positionpinnedtabs]>#tabbrowser-arrowscrollbox>.tabbrowser-tab[pinned] {
  clip-path: inset(-8px -8px 0) !important;
}

/* #endregion */


/* ::::: Private browsing indicator ::::: */
/* #region */

:root[privatebrowsingmode="temporary"] {

  /* Move the other content in the Tabs Toolbar in-front of the indicator. */
  & #TabsToolbar .toolbar-items,
  & #TabsToolbar .titlebar-buttonbox-container {
    position: relative;
    z-index: 1;
  }

  /* Hide the post tab spacer as it is not needed. */
  .titlebar-spacer[type="post-tabs"] {
    display: none !important;
  }
}

/* String for the custom label. */
:root,
:root[lang^="en"] {
  --uc-string-private: "Private";
}

/* Appearance & sizing for the private browsing indicator. */
#private-browsing-indicator-with-label {
  position: relative !important;
  isolation: isolate;
  font-size: 12px;

  /* Allow space for the gradient to underlay other toolbar items. */
  margin-inline: -16px -16px !important;
  padding-inline: 32px 24px !important;
  color: var(--button-primary-color, var(--toolbar-bgcolor)) !important;
  text-shadow: none !important;
  background: var(--uc-gradient);
  --uc-bg-color: var(--button-primary-bgcolor, var(--toolbarbutton-icon-fill-attention));

  /* Primay gradient, fades to transparent on the left. */
  --uc-gradient: linear-gradient(to right, transparent, var(--uc-bg-color) 35%);

  /* Alternate gradient, fades to transparent on both sides. */
  --uc-gradient-alt: linear-gradient(to right, transparent, var(--uc-bg-color) 25%, var(--uc-bg-color) 75%, transparent);

  /* If the titlebar buttons are on the right, then use the alternate gradient
   * if the menu bar is not permanently enabled. */
  @media (-moz-platform: windows),
  (-moz-gtk-csd-available) and (not (-moz-gtk-csd-reversed-placement)) {
    :root[tabsintitlebar] #toolbar-menubar:not([autohide="false"])~#TabsToolbar & {
      background: var(--uc-gradient-alt);
    }
  }

  /* Private browsing icon size. */
  & .private-browsing-indicator-icon {
    height: 24px !important;
    width: 24px !important;
  }

  /* Change "Private Browsing" text to "Private" (English locale only). */
  :root:is([lang^="en"]) & {

    /* Hide original label. */
    &>label {
      display: none !important;
    }

    /* Add custom "Private" label. */
    &::after {
      content: var(--uc-string-private);
      margin-block: 1px 2px;
      margin-inline: 6px 5px;
    }
  }
}

/* #endregion */