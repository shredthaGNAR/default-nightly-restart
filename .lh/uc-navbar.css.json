{
    "sourceFile": "uc-navbar.css",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1637567713167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1639486167792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,29 +1,37 @@\n+/* This Source Code Form is subject to the terms of the Creative Commons\n+* Attribution-NonCommercial-ShareAlike International License, v. 4.0.\n+* If a copy of the CC BY-NC-SA 4.0 was not distributed with this\n+* file, You can obtain one at http://creativecommons.org/licenses/by-nc-sa/4.0/\n+* or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA. */\n+\n /* controls all sorts of things within or associated with the customizable navbar.\n if it's visible in the row beneath the tabs then it's probably in here. */\n \n-/* remove line under navigation toolbar */\n-#navigator-toolbox:-moz-lwtheme,\n+/* remove line under navigation toolbar *\n+#navigator-toolbox,\n :root:not([sizemode=\"normal\"]) #navigator-toolbox {\n-  border: none !important;\n+    border: none !important;\n }\n \n /* fix a silly bug */\n #mainPopupSet {\n   height: 0;\n }\n \n toolbarpaletteitem > toolbarspring {\n-  margin-block: 3px !important;\n+  margin-block: calc(\n+    (var(--urlbar-container-height) - var(--urlbar-height)) / 2\n+  ) !important;\n   outline: none !important;\n   border: 1px solid var(--arrowpanel-dimmed-even-further) !important;\n   outline-offset: 0 !important;\n   border-radius: var(--toolbarbutton-border-radius) !important;\n }\n \n toolbarpaletteitem[place=\"palette\"] > toolbarspring {\n-  min-height: 32px !important;\n-  max-height: 32px !important;\n+  min-height: var(--urlbar-height) !important;\n+  max-height: var(--urlbar-height) !important;\n   padding-block: 0 !important;\n   margin-block: 5px !important;\n }\n \n@@ -49,9 +57,9 @@\n   opacity: 0.7;\n }\n \n /* toolbar button badges */\n-.customization-target\n+:is(.customization-target, .widget-overflow-list)\n   :is(toolbarbutton, toolbaritem):not([attention])\n   .toolbarbutton-badge {\n   background-color: var(--badge-color-light) !important;\n   color: var(--toolbar-color, currentColor) !important;\n@@ -67,9 +75,11 @@\n   filter: none !important;\n   margin: -6px -6px 0 -6px !important;\n }\n \n-.customization-target #downloads-button[attention] .toolbarbutton-badge {\n+:is(.customization-target, .widget-overflow-list)\n+  #downloads-button[attention]\n+  .toolbarbutton-badge {\n   margin-right: -5.5px !important;\n   margin-top: -5.5px !important;\n   width: 10px !important;\n   height: 10px !important;\n@@ -79,25 +89,25 @@\n   background-position: center !important;\n   background-repeat: no-repeat !important;\n }\n \n-.customization-target\n+:is(.customization-target, .widget-overflow-list)\n   #downloads-button[attention=\"warning\"]\n   .toolbarbutton-badge {\n   background-color: var(--low-warning-icon-detail) !important;\n   fill: var(--low-warning-icon-background) !important;\n   border-radius: 50% !important;\n }\n \n-.customization-target\n+:is(.customization-target, .widget-overflow-list)\n   #downloads-button[attention=\"severe\"]\n   .toolbarbutton-badge {\n   background-color: var(--warning-icon-detail) !important;\n   fill: var(--warning-icon-background) !important;\n   border-radius: 50% !important;\n }\n \n-.customization-target\n+:is(.customization-target, .widget-overflow-list)\n   #fxa-toolbar-menu-button[badge-status=\"login_failed\"]\n   .toolbarbutton-badge {\n   background: url(chrome://userchrome/content/skin/controlcenter/warning.svg)\n     no-repeat center/contain !important;\n@@ -110,8 +120,34 @@\n   margin-inline-end: -6px !important;\n   filter: none !important;\n }\n \n+.widget-overflow-list .toolbarbutton-1 > .toolbarbutton-text {\n+  padding-inline-start: var(\n+    --arrowpanel-subviewbutton-iconic-gap,\n+    8px\n+  ) !important;\n+}\n+\n+.widget-overflow-list\n+  .toolbaritem-combined-buttons\n+  .toolbarbutton-1\n+  > .toolbarbutton-text {\n+  padding-inline-end: 4px !important;\n+}\n+\n+.widget-overflow-list\n+  #zoom-controls[cui-areatype=\"toolbar\"]\n+  > #zoom-reset-button\n+  > .toolbarbutton-text {\n+  min-width: calc(5ch + 4px) !important;\n+  padding-inline: 0 !important;\n+}\n+\n+.widget-overflow-list .toolbaritem-combined-buttons {\n+  margin-inline: 0 !important;\n+}\n+\n toolbar .toolbaritem-combined-buttons.chromeclass-toolbar-additional {\n   margin-inline: 0 !important;\n }\n \n@@ -184,8 +220,12 @@\n   width: 20px !important;\n   padding: 4px !important;\n }\n \n+#zoom-in-button > .toolbarbutton-icon {\n+  padding-inline-start: 0 !important;\n+}\n+\n toolbar:not(#PersonalToolbar) #zoom-controls > #zoom-reset-button {\n   min-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n }\n \n@@ -345,37 +385,19 @@\n   height: 16px;\n   margin-inline-start: 6px;\n }\n \n-#PersonalToolbar {\n-  visibility: visible !important;\n-  padding-inline: 2px !important;\n-  min-height: 32px !important;\n-  z-index: 3 !important;\n-  transition: min-height 200ms ease-in-out, max-height 200ms ease-in-out,\n-    opacity 200ms ease-in-out, transform 200ms ease-in-out !important;\n-  overflow-y: visible !important;\n-}\n-\n #PersonalToolbar:not([customizing]) {\n   padding-block: 0 var(--bookmark-block-padding) !important;\n-  position: absolute !important;\n-  display: flex !important;\n-  flex-flow: row nowrap !important;\n }\n \n #PersonalToolbar #personal-bookmarks {\n   flex-grow: 1;\n }\n \n :root[inFullscreen]:not([macOSNativeFullscreen], [customizing])\n   #PersonalToolbar:not([fullscreentoolbar=\"true\"]),\n-#PersonalToolbar[collapsed=\"true\"],\n-:root:not([customizing])\n-  > body\n-  > box:not(:hover, [popup-status])\n-  #PersonalToolbar:not(:focus-within, [tempopen=\"true\"]),\n-:root:not([customizing]) > body > box[urlbar-status] #PersonalToolbar {\n+#PersonalToolbar[collapsed=\"true\"] {\n   overflow-y: clip !important;\n   min-height: 0 !important;\n   max-height: 0 !important;\n   opacity: 0 !important;\n@@ -386,10 +408,10 @@\n #PersonalToolbar .toolbarbutton-1,\n toolbarbutton.bookmark-item:not(.subviewbutton) {\n   margin-block: 0 !important;\n   padding: var(--bookmark-block-padding) 4px;\n-  min-height: 28px !important;\n-  min-width: 28px !important;\n+  min-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n+  min-width: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n   -moz-box-align: center !important;\n }\n \n #personal-toolbar-empty-description,\n@@ -568,22 +590,17 @@\n #fullscreen-button[checked=\"true\"]:hover:active .toolbarbutton-icon {\n   background-color: var(--toolbarbutton-active-background) !important;\n }\n \n-#navigator-toolbox,\n-#navigator-toolbox > * {\n-  width: -moz-available;\n-}\n-\n /* fix a bug that occurs when pre-proton downloads button is installed along with navbar toolbarbutton slider script */\n #nav-bar-toolbarbutton-slider {\n   overflow: -moz-hidden-unscrollable !important;\n }\n \n /* proton stuff, primarily notifications. imo this is about as sexy as a \"your plugin crashed\" notification can get.\n you can test them by pasting this in the browser console and hitting enter:\n \n-{let notificationTest = gBrowser.getNotificationBox(gBrowser.selectedBrowser); notificationTest.appendNotification(\"This is a demo notification\", null, null, notificationTest.PRIORITY_INFO_HIGH);}\n+{let notificationTest=gBrowser.getNotificationBox(gBrowser.selectedBrowser);notificationTest.appendNotification(null,{label:\"This is a demo notification\",priority:notificationTest.PRIORITY_INFO_HIGH},[{label:\"Button 1\"},{label:\"Link 1\",supportPage:\"https://github.com/aminomancer/uc.css.js\"}])}\n \n these are the notifications that appear permanently (until closed) under the navbar, shaped like long bars.\n by default they stack vertically and push the browser content down which is quite a waste.\n instead we flex them horizontally and float them over the content area with absolute positioning.\n@@ -685,16 +702,23 @@\n   flex-grow: 0 !important;\n   flex-basis: auto !important;\n }\n \n-:root {\n-  --notification-box-bgcolor: var(--acrylic-blue) !important;\n-  --notification-box-bgimage: var(--acrylic-texture) !important;\n-  --notification-box-filter: var(--acrylic-blur) !important;\n+/* temporarily disabled due to backdrop-filter being disabled. see https://bugzilla.mozilla.org/show_bug.cgi?id=1741779 */\n+/* :root {\n+    --notification-box-bgcolor: var(--acrylic-blue) !important;\n+    --notification-box-bgimage: var(--acrylic-texture) !important;\n+    --notification-box-filter: var(--acrylic-blur) !important;\n }\n \n :root[inFullscreen] {\n+    --notification-box-bgcolor: var(--arrowpanel-background) !important;\n+    --notification-box-filter: none !important;\n+} */\n+\n+:root {\n   --notification-box-bgcolor: var(--arrowpanel-background) !important;\n+  --notification-box-bgimage: none !important;\n   --notification-box-filter: none !important;\n }\n \n .notificationbox-stack notification .notification-button {\n@@ -841,8 +865,9 @@\n link[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar button\n {\n   border-radius: var(--in-content-button-border-radius) !important;\n   font-weight: inherit !important;\n+  padding-block: 0 !important;\n }\n \n link[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content .notification-button-container > .notification-button.small\n {\n"
                }
            ],
            "date": 1637567713167,
            "name": "Commit-0",
            "content": "/* controls all sorts of things within or associated with the customizable navbar.\nif it's visible in the row beneath the tabs then it's probably in here. */\n\n/* remove line under navigation toolbar */\n#navigator-toolbox:-moz-lwtheme,\n:root:not([sizemode=\"normal\"]) #navigator-toolbox {\n  border: none !important;\n}\n\n/* fix a silly bug */\n#mainPopupSet {\n  height: 0;\n}\n\ntoolbarpaletteitem > toolbarspring {\n  margin-block: 3px !important;\n  outline: none !important;\n  border: 1px solid var(--arrowpanel-dimmed-even-further) !important;\n  outline-offset: 0 !important;\n  border-radius: var(--toolbarbutton-border-radius) !important;\n}\n\ntoolbarpaletteitem[place=\"palette\"] > toolbarspring {\n  min-height: 32px !important;\n  max-height: 32px !important;\n  padding-block: 0 !important;\n  margin-block: 5px !important;\n}\n\n#wrapper-urlbar-container + toolbarpaletteitem > #search-container,\n#nav-bar[customizing=\"true\"] #urlbar-container + #search-container,\n#wrapper-search-container + toolbarpaletteitem > #urlbar-container,\n#nav-bar[customizing=\"true\"] #search-container + #urlbar-container {\n  margin-inline-start: 1px !important;\n}\n\n/* dim widgets when window is inactive, like tabs */\n:root:-moz-window-inactive:not([customizing])\n  toolbar\n  toolbarbutton:not(.subviewbutton)\n  > :is(image, .toolbarbutton-badge-stack, .toolbarbutton-animatable-box),\n:root:-moz-window-inactive:not([customizing])\n  toolbar\n  :is(.accessibility-indicator, .private-browsing-indicator),\n:root:-moz-window-inactive:not([customizing]) #main-menubar > menu > label,\n:root:-moz-window-inactive:not([customizing])\n  toolbar\n  :is(#zoom-reset-button, #urlbar-zoom-button) {\n  opacity: 0.7;\n}\n\n/* toolbar button badges */\n.customization-target\n  :is(toolbarbutton, toolbaritem):not([attention])\n  .toolbarbutton-badge {\n  background-color: var(--badge-color-light) !important;\n  color: var(--toolbar-color, currentColor) !important;\n  box-shadow: 0 1px 1px -1px hsla(0, 0%, 100%, 0.3) inset,\n    0 -1px 1px -1px hsla(0, 0%, 0%, 0.5) inset,\n    0 1px 1px hsla(240, 3%, 12%, 0.15), 0 1px 3px hsla(240, 3%, 12%, 0.2) !important;\n  min-width: 10.5px !important;\n  height: 10.5px !important;\n  vertical-align: center !important;\n  font-size: 9px !important;\n  font-weight: var(--uc-font-weight-bold, 600) !important;\n  line-height: 10px !important;\n  filter: none !important;\n  margin: -6px -6px 0 -6px !important;\n}\n\n.customization-target #downloads-button[attention] .toolbarbutton-badge {\n  margin-right: -5.5px !important;\n  margin-top: -5.5px !important;\n  width: 10px !important;\n  height: 10px !important;\n  box-shadow: none !important;\n  background-image: url(chrome://userchrome/content/devtools/error.svg) !important;\n  background-size: contain !important;\n  background-position: center !important;\n  background-repeat: no-repeat !important;\n}\n\n.customization-target\n  #downloads-button[attention=\"warning\"]\n  .toolbarbutton-badge {\n  background-color: var(--low-warning-icon-detail) !important;\n  fill: var(--low-warning-icon-background) !important;\n  border-radius: 50% !important;\n}\n\n.customization-target\n  #downloads-button[attention=\"severe\"]\n  .toolbarbutton-badge {\n  background-color: var(--warning-icon-detail) !important;\n  fill: var(--warning-icon-background) !important;\n  border-radius: 50% !important;\n}\n\n.customization-target\n  #fxa-toolbar-menu-button[badge-status=\"login_failed\"]\n  .toolbarbutton-badge {\n  background: url(chrome://userchrome/content/skin/controlcenter/warning.svg)\n    no-repeat center/contain !important;\n  stroke: var(--low-warning-icon-detail) !important;\n  fill: var(--low-warning-icon-background) !important;\n  box-shadow: none !important;\n  -moz-context-properties: fill, stroke !important;\n  padding: 0 !important;\n  margin: -7px 0 0 !important;\n  margin-inline-end: -6px !important;\n  filter: none !important;\n}\n\ntoolbar .toolbaritem-combined-buttons.chromeclass-toolbar-additional {\n  margin-inline: 0 !important;\n}\n\ntoolbar\n  :not(toolbarpaletteitem)\n  > .toolbaritem-combined-buttons.chromeclass-toolbar-additional {\n  margin-inline: 0 !important;\n  max-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n  margin-block: calc(\n    (\n        var(--urlbar-container-height) -\n          calc(2 * var(--toolbarbutton-inner-padding) + 16px)\n      ) / 2\n  );\n}\n\ntoolbar\n  .toolbaritem-combined-buttons.chromeclass-toolbar-additional:not(:hover)\n  > separator {\n  content: \"\";\n  display: -moz-box;\n  width: 0.67px !important;\n  height: 20px !important;\n  margin-inline-end: -0.67px !important;\n  background-image: linear-gradient(currentColor 0, currentColor 100%);\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 1px 20px !important;\n  opacity: 0.2;\n}\n\ntoolbar .toolbarbutton-combined-buttons-dropmarker,\n#PersonalToolbar\n  .toolbaritem-combined-buttons\n  .toolbarbutton-combined-buttons-dropmarker {\n  min-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n}\n\ntoolbar .toolbarbutton-combined-buttons-dropmarker > .toolbarbutton-icon {\n  padding-inline: 2px !important;\n  padding-block: 2px !important;\n  height: 20px !important;\n  width: 16px !important;\n}\n\ntoolbar:not(#PersonalToolbar) #edit-controls > #cut-button,\ntoolbar #profiler-button > #profiler-button-button {\n  padding-left: 2px !important;\n}\n\ntoolbar:not(#PersonalToolbar) #edit-controls > #paste-button,\ntoolbar #profiler-button > #profiler-button-dropmarker {\n  padding-right: 2px !important;\n}\n\ntoolbar:not(#PersonalToolbar)\n  #zoom-controls\n  > :is(#zoom-out-button, #zoom-in-button) {\n  min-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n  width: unset !important;\n  padding: 0 !important;\n  padding-inline: 2px !important;\n}\n\ntoolbar:not(#PersonalToolbar)\n  #zoom-controls\n  > :is(#zoom-out-button, #zoom-in-button)\n  > .toolbarbutton-icon {\n  height: 20px !important;\n  width: 20px !important;\n  padding: 4px !important;\n}\n\ntoolbar:not(#PersonalToolbar) #zoom-controls > #zoom-reset-button {\n  min-height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n}\n\ntoolbar:not(#PersonalToolbar)\n  #zoom-controls\n  > #zoom-reset-button:not([disabled]):is(:hover, :focus-visible)\n  > .toolbarbutton-text {\n  border-color: transparent;\n}\n\ntoolbar:not(#PersonalToolbar)\n  #zoom-controls\n  > #zoom-reset-button\n  > .toolbarbutton-text {\n  height: 20px !important;\n  min-height: 20px !important;\n  font-size: 0.98em;\n  padding-block: 1px !important;\n  background: hsla(0, 0%, 100%, 0.045);\n  border: 1px solid var(--toolbarbutton-hover-background);\n  border-radius: 10px !important;\n}\n\ntoolbar:not(#PersonalToolbar) #zoom-controls separator {\n  display: none !important;\n}\n\n:root:not([customizing]) #stop-reload-button > .toolbarbutton-1 {\n  opacity: 1 !important;\n}\n\n:root:not([customizing])\n  #stop-reload-button\n  > .toolbarbutton-1:not([checked], [open], :active):hover\n  > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-hover-background);\n}\n\n:root:not([customizing])\n  #stop-reload-button\n  > .toolbarbutton-1:is(:focus-visible, [checked=\"true\"]):not([open], :hover, :active)\n  > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-checked-background);\n}\n\n:root:not([customizing])\n  #stop-reload-button\n  > .toolbarbutton-1:is([open], [checked], :hover:active)\n  > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-active-background);\n}\n\n/* fix a little visual bug (maybe related to window scaling) where the stop button appears to move half a pixel to the left between animations.\nthis is because the reload button is replaced with a step animation for a few moments, and the step animation is then replaced with a static stop icon.\nthe stop icon sticks around until the page finishes loading, then it's hidden again and the step animation returns and plays in reverse.\nunfortunately the way the static icon is rendered is not identical to the step animation for every given scaling factor.\nto fix this we can just replace the static icon's path entirely with a path pulled directly from the step animation.\ni haven't tested this on every scaling factor, if it makes things worse on your setup then just delete or override this. */\n#stop-button .toolbarbutton-icon {\n  background-image: url(chrome://userchrome/content/skin/stop-button-fix.svg) !important;\n  background-repeat: no-repeat;\n  background-position: left 5px center;\n  list-style-image: none;\n}\n\n#nav-bar[brighttext] #panic-button[open] {\n  fill: var(--warning-color) !important;\n}\n\n#nav-bar-customization-target {\n  padding-inline-start: var(--toolbarbutton-outer-padding) !important;\n}\n\n#TabsToolbar-customization-target > #back-button {\n  margin-inline-start: 2px !important;\n}\n\n#stop-reload-button {\n  pointer-events: none !important;\n}\n\n#stop-reload-button > * {\n  pointer-events: auto !important;\n}\n\n/* navbar shadow */\n#navigator-toolbox {\n  position: relative;\n  box-shadow: 0px 0px 8px -5px hsla(240, 4%, 0%, 0.5),\n    0px 0px 15px 0px hsla(0, 0%, 0%, 0.2) !important;\n}\n\ntoolbar .toolbarbutton-1:not([disabled])[open]:hover > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-active-background) !important;\n}\n\n#PlacesToolbar toolbarbutton.bookmark-item {\n  padding-inline: var(--toolbarbutton-inner-padding) !important;\n}\n\n#PersonalToolbar\n  .toolbarbutton-1:is(:focus-visible, [checked=\"true\"]):not([disabled], [open], :hover, :active),\ntoolbarbutton.bookmark-item:not(.subviewbutton):is(:focus-visible, [checked=\"true\"]):not([disabled], [open], :hover, :active),\ntoolbar\n  .toolbarbutton-1:is(:focus-visible, [checked=\"true\"]):not([disabled], [open], :hover, :active)\n  > :is(.toolbarbutton-icon, .toolbarbutton-text, .toolbarbutton-badge-stack) {\n  background-color: var(--toolbarbutton-checked-background) !important;\n  transition: none !important;\n}\n\n#PersonalToolbar .toolbarbutton-1 > .toolbarbutton-icon,\n#PersonalToolbar .toolbarbutton-1 > .toolbarbutton-text,\n#PersonalToolbar .toolbarbutton-1 > .toolbarbutton-badge-stack {\n  background: none !important;\n}\n\ntoolbar\n  .toolbarbutton-1:not([disabled], [open])[checked]\n  > :is(.toolbarbutton-icon, .toolbarbutton-badge-stack) {\n  background-color: var(--toolbarbutton-checked-background) !important;\n  transition: none !important;\n}\n\ntoolbar\n  .toolbarbutton-1:not([disabled], [open])[checked]:hover\n  > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-hover-background) !important;\n}\n\ntoolbar\n  .toolbarbutton-1:not([disabled], [open])[checked]:hover:active\n  > .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-active-background) !important;\n}\n\n.widget-overflow-list .toolbarbutton-1:not([disabled], [open])[checked] {\n  background-color: var(--button-bgcolor) !important;\n}\n\n.widget-overflow-list\n  .toolbarbutton-1:not([disabled], [open])[checked]:is(:hover, :focus-visible) {\n  background-color: var(--button-hover-bgcolor) !important;\n}\n\n.widget-overflow-list\n  .toolbarbutton-1:not([disabled], [open])[checked]:hover:active {\n  background-color: var(--button-active-bgcolor) !important;\n}\n\n.widget-overflow-list .toolbarbutton-1:not([disabled], [open])[checked]::after {\n  content: \"\";\n  display: -moz-inline-box;\n  background: url(chrome://userchrome/content/check.svg) no-repeat\n    center/contain;\n  fill: currentColor;\n  width: 16px;\n  height: 16px;\n  margin-inline-start: 6px;\n}\n\n#PersonalToolbar {\n  visibility: visible !important;\n  padding-inline: 2px !important;\n  min-height: 32px !important;\n  z-index: 3 !important;\n  transition: min-height 200ms ease-in-out, max-height 200ms ease-in-out,\n    opacity 200ms ease-in-out, transform 200ms ease-in-out !important;\n  overflow-y: visible !important;\n}\n\n#PersonalToolbar:not([customizing]) {\n  padding-block: 0 var(--bookmark-block-padding) !important;\n  position: absolute !important;\n  display: flex !important;\n  flex-flow: row nowrap !important;\n}\n\n#PersonalToolbar #personal-bookmarks {\n  flex-grow: 1;\n}\n\n:root[inFullscreen]:not([macOSNativeFullscreen], [customizing])\n  #PersonalToolbar:not([fullscreentoolbar=\"true\"]),\n#PersonalToolbar[collapsed=\"true\"],\n:root:not([customizing])\n  > body\n  > box:not(:hover, [popup-status])\n  #PersonalToolbar:not(:focus-within, [tempopen=\"true\"]),\n:root:not([customizing]) > body > box[urlbar-status] #PersonalToolbar {\n  overflow-y: clip !important;\n  min-height: 0 !important;\n  max-height: 0 !important;\n  opacity: 0 !important;\n  transform: translateY(-16px);\n}\n\n#personal-toolbar-empty,\n#PersonalToolbar .toolbarbutton-1,\ntoolbarbutton.bookmark-item:not(.subviewbutton) {\n  margin-block: 0 !important;\n  padding: var(--bookmark-block-padding) 4px;\n  min-height: 28px !important;\n  min-width: 28px !important;\n  -moz-box-align: center !important;\n}\n\n#personal-toolbar-empty-description,\n#PersonalToolbar .toolbarbutton-1,\ntoolbarbutton.bookmark-item:not(.subviewbutton) {\n  margin: 2px;\n  padding: var(--bookmark-block-padding) 4px;\n}\n\n#personal-toolbar-empty-description {\n  min-height: 0 !important;\n  margin: 0 var(--bookmark-block-padding) !important;\n  padding: 0 !important;\n}\n\n#PersonalToolbar a {\n  color: var(--in-parent-link-color) !important;\n}\n\n#PersonalToolbar a:is(:active, :focus-visible) {\n  color: var(--in-parent-link-color-active) !important;\n}\n\n@supports -moz-bool-pref(\"userChrome.bookmarks-toolbar.icons-only\") {\n  #PersonalToolbar toolbarbutton.bookmark-item:not(.subviewbutton, [id]) {\n    margin-inline: 2px !important;\n    padding: 0 !important;\n  }\n\n  #PlacesToolbar toolbarbutton.bookmark-item[id] {\n    padding-inline: var(--toolbarbutton-inner-padding) !important;\n  }\n\n  #PersonalToolbar\n    toolbarbutton.bookmark-item:not(.subviewbutton, [id])\n    .toolbarbutton-icon {\n    margin: 0 !important;\n    width: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n    height: calc(2 * var(--toolbarbutton-inner-padding) + 16px) !important;\n    padding: var(--toolbarbutton-inner-padding) !important;\n    border-radius: var(--toolbarbutton-border-radius) !important;\n  }\n\n  #PersonalToolbar\n    toolbarbutton.bookmark-item:not(.subviewbutton, [id])\n    .toolbarbutton-text {\n    display: none !important;\n  }\n\n  /* display the background on the icon, not the button, similar to regular toolbar widgets.\n    allows us to use padding to space the buttons instead of margins,\n    so when we drag a bookmark between buttons, it doesn't get dropped at the end of the bookmarks */\n  :root:not([fluent-reveal-hover], [fluent-reveal-click])\n    #PersonalToolbar\n    toolbarbutton.bookmark-item:not(.subviewbutton, [id]) {\n    background: none !important;\n    margin-inline: 0 !important;\n    padding: 0 2px !important;\n  }\n\n  :root:not([fluent-reveal-hover], [fluent-reveal-click])\n    #PlacesToolbarDropIndicator {\n    margin-inline-start: -18px !important;\n  }\n\n  :root:not([fluent-reveal-hover], [fluent-reveal-click])\n    #PersonalToolbar\n    toolbarbutton.bookmark-item:not(.subviewbutton, [id]):is(:hover, :-moz-drag-over, :focus-visible)\n    .toolbarbutton-icon {\n    background-color: var(--button-solid-hover-background) !important;\n  }\n\n  :root:not([fluent-reveal-hover], [fluent-reveal-click])\n    #PersonalToolbar\n    toolbarbutton.bookmark-item:not(.subviewbutton, [id]):hover:active\n    .toolbarbutton-icon {\n    background-color: var(--button-solid-active-background) !important;\n  }\n}\n\n#PersonalToolbar #profiler-button > #profiler-button-dropmarker,\n#PersonalToolbar\n  .toolbaritem-combined-buttons\n  .toolbarbutton-combined-buttons-dropmarker {\n  min-height: 20px !important;\n  min-width: 0 !important;\n  padding: 0 !important;\n  padding-right: 0 !important;\n}\n\n#PersonalToolbar .toolbaritem-combined-buttons {\n  min-height: 31.5px !important;\n}\n\n#PersonalToolbar #profiler-button > #profiler-button-dropmarker {\n  margin-inline-start: 0 !important;\n}\n\n#PersonalToolbar[mode=\"icons\"] #import-button > .toolbarbutton-icon {\n  margin-inline: 0 !important;\n}\n\n#PersonalToolbar[mode=\"icons\"] #import-button > .toolbarbutton-text {\n  display: none !important;\n}\n\n#PlacesToolbarDropIndicator {\n  list-style-image: none !important;\n  list-style-image: url(chrome://userchrome/content/tab-drag-indicator.svg) !important;\n  -moz-context-properties: fill, fill-opacity, stroke, stroke-opacity !important;\n  fill: var(--lwt-toolbarbutton-icon-fill, currentColor) !important;\n  margin-top: 22px !important;\n  translate: -2.5px !important;\n  z-index: 2500 !important;\n  width: 20px !important;\n  height: 20px !important;\n}\n\n:root:-moz-window-inactive:not([customizing])\n  #PersonalToolbar\n  .bookmark-item\n  > :is(.toolbarbutton-text, .toolbarbutton-icon) {\n  opacity: 0.7;\n}\n\n#PersonalToolbar[customizing] #personal-toolbar-empty-description,\n#PersonalToolbar[customizing] .toolbarbutton-1,\n#PersonalToolbar[customizing] toolbarbutton.bookmark-item:not(.subviewbutton) {\n  margin-block: 1.75px !important;\n}\n\n#PersonalToolbar[customizing] {\n  outline: none !important;\n  transition: none !important;\n  border-block: 1px dashed var(--arrowpanel-dimmed-even-further) !important;\n}\n\n#PersonalToolbar[customizing] > toolbarpaletteitem {\n  margin-block: -1px !important;\n}\n\n#PersonalToolbar[customizing][draggingover] {\n  z-index: 4 !important;\n}\n\n#customization-header {\n  margin-top: 40px !important;\n}\n\n#customization-panel-container {\n  z-index: 3 !important;\n}\n\n#navigator-toolbox {\n  z-index: 3 !important;\n}\n\n#nav-bar {\n  z-index: 11 !important;\n  box-shadow: none !important;\n}\n\n/* fullscreen button */\n#fullscreen-button .toolbarbutton-icon {\n  list-style-image: url(chrome://userchrome/content/skin/fullscreen.svg) !important;\n}\n\n#fullscreen-button[checked=\"true\"] .toolbarbutton-icon {\n  list-style-image: url(chrome://userchrome/content/skin/fullscreen-exit.svg) !important;\n}\n\n#fullscreen-button[checked=\"true\"]:hover .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-hover-background) !important;\n}\n\n#fullscreen-button[checked=\"true\"]:hover:active .toolbarbutton-icon {\n  background-color: var(--toolbarbutton-active-background) !important;\n}\n\n#navigator-toolbox,\n#navigator-toolbox > * {\n  width: -moz-available;\n}\n\n/* fix a bug that occurs when pre-proton downloads button is installed along with navbar toolbarbutton slider script */\n#nav-bar-toolbarbutton-slider {\n  overflow: -moz-hidden-unscrollable !important;\n}\n\n/* proton stuff, primarily notifications. imo this is about as sexy as a \"your plugin crashed\" notification can get.\nyou can test them by pasting this in the browser console and hitting enter:\n\n{let notificationTest = gBrowser.getNotificationBox(gBrowser.selectedBrowser); notificationTest.appendNotification(\"This is a demo notification\", null, null, notificationTest.PRIORITY_INFO_HIGH);}\n\nthese are the notifications that appear permanently (until closed) under the navbar, shaped like long bars.\nby default they stack vertically and push the browser content down which is quite a waste.\ninstead we flex them horizontally and float them over the content area with absolute positioning.\nnotification row is scrollable (when overflown) with mousewheel right/left.\n(or mousewheel up/down if mousewheel.autodir.enabled = true. setting that up without the pref is difficult for these elements)\nnotification icons/close buttons are animated with a similar slide+zoom motif to tab icons/close buttons.\nnotifications are translucent with acrylic effect. enable layout.css.backdrop-filter.enabled */\n#navigator-toolbox > :is(legacy-stack, .notificationbox-stack),\n#navigator-toolbox > named-deck > :is(legacy-stack, .notificationbox-stack),\n#navigator-toolbox .global-notificationbox {\n  display: flex !important;\n  flex-flow: row nowrap !important;\n  position: absolute !important;\n  width: unset !important;\n  background: none !important;\n  width: 100% !important;\n  pointer-events: none !important;\n  overflow: scroll !important;\n  scrollbar-width: none !important;\n  column-gap: 5px !important;\n}\n\n#navigator-toolbox\n  > :is(legacy-stack, .notificationbox-stack)\n  notification-message,\n#navigator-toolbox > named-deck > .notificationbox-stack notification-message,\n#navigator-toolbox .global-notificationbox notification-message,\n.notificationbox-stack notification {\n  margin: 0 !important;\n  display: flex !important;\n  position: relative !important;\n  max-width: 100vh !important;\n  height: 32px !important;\n  transition: margin-top 100ms linear, max-width 100ms ease-in-out !important;\n  flex-basis: min-content !important;\n  pointer-events: auto !important;\n  --in-content-button-background: var(--desaturate-dimmed) !important;\n  --in-content-button-background-hover: var(\n    --desaturate-dimmed-further\n  ) !important;\n  --in-content-button-background-active: var(\n    --desaturate-dimmed-even-further\n  ) !important;\n  --in-content-button-border-radius: var(\n    --general-button-border-radius\n  ) !important;\n  --in-content-link-color: var(--in-parent-link-color) !important;\n  --in-content-link-color-hover: var(--in-parent-link-color-hover) !important;\n  --in-content-link-color-active: var(--in-parent-link-color-active) !important;\n  --notification-button-background: var(--desaturate-dimmed) !important;\n  --notification-button-background-hover: var(\n    --desaturate-dimmed-further\n  ) !important;\n  --notification-button-background-active: var(\n    --desaturate-dimmed-even-further\n  ) !important;\n}\n\n/* hide notifications when the bookmarks toolbar is visible */\n:root:not([inFullscreen])\n  #PersonalToolbar:not([collapsed=\"true\"], [customizing])\n  + * {\n  display: none !important;\n}\n\n.notificationbox-stack[notificationside=\"top\"]\n  > :is(notification, notification-message) {\n  border-radius: 0 !important;\n  overflow: hidden !important;\n  border-bottom-left-radius: 4px !important;\n  border-bottom-right-radius: 4px !important;\n}\n\n.notificationbox-stack[notificationside=\"bottom\"]\n  > :is(notification, notification-message) {\n  border-radius: 0 !important;\n  overflow: hidden !important;\n  border-top-left-radius: 4px !important;\n  border-top-right-radius: 4px !important;\n}\n\n.notificationbox-stack :is(notification, notification-message) {\n  min-height: revert !important;\n}\n\n.notificationbox-stack notification {\n  align-items: center !important;\n  position: relative !important;\n  border-radius: 0 !important;\n  color: inherit !important;\n  overflow: hidden !important;\n  background-color: var(--notification-box-bgcolor) !important;\n  background-image: var(--notification-box-bgimage) !important;\n  backdrop-filter: var(--notification-box-filter) !important;\n  padding-inline: 4px !important;\n  align-items: center !important;\n  font-size: inherit !important;\n  flex-shrink: 0 !important;\n  flex-grow: 0 !important;\n  flex-basis: auto !important;\n}\n\n:root {\n  --notification-box-bgcolor: var(--acrylic-blue) !important;\n  --notification-box-bgimage: var(--acrylic-texture) !important;\n  --notification-box-filter: var(--acrylic-blur) !important;\n}\n\n:root[inFullscreen] {\n  --notification-box-bgcolor: var(--arrowpanel-background) !important;\n  --notification-box-filter: none !important;\n}\n\n.notificationbox-stack notification .notification-button {\n  height: 22px !important;\n  padding-inline: 5px !important;\n  margin-inline-end: 1px !important;\n  -moz-box-flex: 1 !important;\n}\n\n.notificationbox-stack notification > hbox[anonid=\"details\"] {\n  order: 1 !important;\n  margin-left: -28px !important;\n}\n\n#navigator-toolbox\n  > :is(legacy-stack, .notificationbox-stack, named-deck)\n  notification-message[type=\"critical\"],\n#navigator-toolbox\n  > named-deck\n  > .notificationbox-stack\n  notification-message[type=\"critical\"],\n#navigator-toolbox\n  .global-notificationbox\n  notification-message[type=\"critical\"] {\n  flex-shrink: 0.25 !important;\n}\n\n#navigator-toolbox\n  > :is(legacy-stack, .notificationbox-stack, named-deck)\n  notification-message[type=\"warning\"],\n#navigator-toolbox\n  > named-deck\n  > .notificationbox-stack\n  notification-message[type=\"warning\"],\n#navigator-toolbox\n  .global-notificationbox\n  notification-message[type=\"warning\"] {\n  flex-shrink: 0.5 !important;\n}\n\n#navigator-toolbox\n  > :is(legacy-stack, .notificationbox-stack, named-deck)\n  notification-message[type=\"info\"],\n#navigator-toolbox\n  > named-deck\n  > .notificationbox-stack\n  notification-message[type=\"info\"],\n#navigator-toolbox .global-notificationbox notification-message[type=\"info\"] {\n  flex-shrink: 0.75 !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar\n{\n  border-radius: 0 !important;\n  overflow: hidden !important;\n  background-color: var(--notification-box-bgcolor) !important;\n  background-image: var(--notification-box-bgimage) !important;\n  backdrop-filter: var(--notification-box-filter) !important;\n  padding-inline: 4px !important;\n  align-items: center !important;\n  flex-grow: 1 !important;\n  text-overflow: ellipsis !important;\n}\n\n.container.infobar::before {\n  border-radius: 0 !important;\n}\n\n.notificationbox-stack notification::before {\n  content: \"\";\n  display: block;\n  width: 2px;\n  position: absolute;\n  background-image: linear-gradient(\n    0,\n    #9059ff 0%,\n    #ff4aa2 52.08%,\n    #ffbd4f 100%\n  );\n  top: 0;\n  inset-inline-start: 0;\n  height: 100%;\n}\n\n.notificationbox-stack notification[style*=\"opacity: 0;\"],\n#navigator-toolbox\n  > :is(legacy-stack, .notificationbox-stack)\n  > notification-message[style*=\"opacity: 0;\"],\n#navigator-toolbox\n  > named-deck\n  > .notificationbox-stack\n  > notification-message[style*=\"opacity: 0;\"],\n#navigator-toolbox\n  .global-notificationbox\n  notification-message[style*=\"opacity: 0;\"] {\n  margin-top: -32px !important;\n  max-width: 1px !important;\n  transition: margin-top 100ms linear, max-width 100ms ease-in-out,\n    opacity 100ms ease-in-out !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content\n{\n  flex-flow: row nowrap !important;\n  flex-grow: 2 !important;\n  display: flex !important;\n  white-space: nowrap !important;\n  text-overflow: ellipsis !important;\n  overflow: hidden !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content .notification-message\n{\n  padding-block: 0 !important;\n  min-height: auto !important;\n  text-overflow: ellipsis !important;\n  overflow: hidden !important;\n  margin-inline-end: 8px !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar > .spacer\n{\n  flex-grow: 0.1 !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content .notification-button-container\n{\n  flex-flow: row nowrap !important;\n  flex-grow: 2 !important;\n  display: flex !important;\n  align-content: end !important;\n  align-items: end !important;\n  justify-content: end !important;\n  justify-items: end !important;\n  gap: 4px !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content .notification-button\n{\n  margin: revert !important;\n}\n\n.notificationbox-stack notification :is(button, toolbarbutton),\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar button\n{\n  border-radius: var(--in-content-button-border-radius) !important;\n  font-weight: inherit !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-content .notification-button-container > .notification-button.small\n{\n  margin: 0 !important;\n  font-weight: var(--uc-font-weight-bold, 600) !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar button .button-text\n{\n  margin-block: 2px 1px !important;\n}\n\nnotification .messageImage {\n  width: 16px !important;\n  height: 16px !important;\n  margin: 8px 0 8px 6px !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar > .icon\n{\n  margin-inline-start: 6px !important;\n}\n\nnotification .messageCloseButton:hover {\n  background-color: var(--notification-button-background-hover) !important;\n}\n\nnotification .messageCloseButton:hover:active {\n  background-color: var(--notification-button-background-active) !important;\n}\n\nnotification .messageCloseButton {\n  left: -4px !important;\n  right: auto !important;\n  position: absolute !important;\n  display: block !important;\n}\n\nnotification .messageCloseButton > .toolbarbutton-icon {\n  width: 16px !important;\n  padding: 0 !important;\n}\n\nnotification .messageCloseButton,\nnotification .messageImage,\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-close,\n    link[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .icon\n{\n  transition: 0.25s transform var(--animation-easing-function),\n    0.25s opacity var(--animation-easing-function) !important;\n}\n\nnotification .messageCloseButton,\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar .notification-close\n{\n  width: 20px !important;\n  height: 20px !important;\n  margin: 0 4px !important;\n  position: absolute !important;\n  opacity: 0 !important;\n  transform: translateX(-15px) scale(0.5) !important;\n}\n\nnotification:hover .messageCloseButton,\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar:hover .notification-close\n{\n  transform: none !important;\n  opacity: 1 !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar button.ghost-button:not(.semi-transparent):enabled:hover\n{\n  background-color: var(--in-content-button-background) !important;\n}\n\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar button.ghost-button:not(.semi-transparent):enabled:hover:active\n{\n  background-color: var(--in-content-button-background-hover) !important;\n}\n\nnotification:hover .messageImage,\nlink[href=\"chrome://global/content/elements/message-bar.css\"] ~ .container.infobar:hover .icon\n{\n  transform: translateX(15px) scale(0.5) !important;\n  opacity: 0 !important;\n}\n\n#fxa-toolbar-menu-button #fxa-avatar-image {\n  display: none;\n}\n\n#fxa-toolbar-menu-button .toolbarbutton-icon {\n  list-style-image: var(--fxa-ui-img, url(chrome://userchrome/content/fxa/avatar-big.svg));\n}\n"
        }
    ]
}